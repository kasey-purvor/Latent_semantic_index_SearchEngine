{"doi":"10.1109\/VETECS.2007.42","coreId":"70170","oai":"oai:eprints.lancs.ac.uk:12993","identifiers":["oai:eprints.lancs.ac.uk:12993","10.1109\/VETECS.2007.42"],"title":"On the Effects of Aggregation on Reliability in Sensor Networks","authors":["Benson, Jonathan","Roedig, Utz","Barroso, Andre","Sreenan, Cormac J."],"enrichments":{"references":[{"id":16309500,"title":"Building Ef\ufb01cient Wireless Sensor Networks with Low-Level Naming.","authors":[],"date":"2001","doi":"10.1145\/502034.502049","raw":"J. Heidemann, F. Silva, C. Intanagonwiwat, R. Govindan, D. Estrin, and D. Ganesan. Building Ef\ufb01cient Wireless Sensor Networks with Low-Level Naming. Proc. of the Symposium on Operating Systems Principles, 2001.","cites":null},{"id":16309503,"title":"Data Aware, Low Cost Error Correction for Wireless Sensor Networks.","authors":[],"date":"2004","doi":"10.1109\/wcnc.2004.1311480","raw":"S. Mukhopadhyay, D. Panigrahi and S. Dey. Data Aware, Low Cost Error Correction for Wireless Sensor Networks. Proc. of IEEE Wireless Communications and Networking Conference, 2004.","cites":null},{"id":16309498,"title":"Directed Diffusion: A Scalable and Robust Communication Paradigm for Sensor Networks.","authors":[],"date":"2000","doi":"10.1145\/345910.345920","raw":"C. Intanagonwiwat, R. Govindan, D. Estrin. Directed Diffusion: A Scalable and Robust Communication Paradigm for Sensor Networks. Proc. of the 6th Annual Conference on Mobile Computing and Networks, 2000.","cites":null},{"id":16309509,"title":"Information assurance in sensor networks.","authors":[],"date":"2003","doi":"10.1145\/941350.941373","raw":"B. Deb, S. Bhatnagar, B. Nath. Information assurance in sensor networks. Proc. of the 2nd ACM International Conference on Wireless Sensor Networks and Applications, 2003.","cites":null},{"id":16309496,"title":"PowerAware In-Network Query Processing for Sensor Data.","authors":[],"date":"2003","doi":"10.1201\/9780203356869.ch11","raw":"J. Beaver, M. A. Sharaf, A. Labrinidis, Panos K. Chrysanthis. PowerAware In-Network Query Processing for Sensor Data. Proc. of the 2nd Hellenic Data Management Symposium, 2003.","cites":null},{"id":16309488,"title":"Query Processing for Sensor Networks.","authors":[],"date":"2004","doi":"10.1109\/mprv.2004.1269131","raw":"J. Gehrke, Y. Yao. Query Processing for Sensor Networks. IEEE Pervasive Computing 2004, vol 3, number 1, pages 46-55.","cites":null},{"id":16309491,"title":"Query Processing in a Device Database System.","authors":[],"date":"1999","doi":null,"raw":"P. Bonnet, J. Gehrke, T. Mayr, P. Seshadri. Query Processing in a Device Database System. Tech. Report, number 99-1775, Cornell University, Ithaca, NY, USA, 1999.","cites":null},{"id":16309511,"title":"ReInForM: Reliable Information Forwarding using Multiple Paths in Sensor Networks.","authors":[],"date":"2003","doi":"10.1109\/lcn.2003.1243166","raw":"B. Deb, S. Bhatnagar and B. Nath. ReInForM: Reliable Information Forwarding using Multiple Paths in Sensor Networks. Proc. of the 28th Annual IEEE Conference on Local Computer Networks, 2003.","cites":null},{"id":16309501,"title":"RMST: Reliable Data Transport in Sensor Networks.","authors":[],"date":"2003","doi":"10.1109\/snpa.2003.1203361","raw":"F. Stann and J. Heidemann. RMST: Reliable Data Transport in Sensor Networks. Proceedings of the 1st IEEE International Workshop on Sensor Net Protocols and Applications, 2003.","cites":null},{"id":16309506,"title":"Service Differentiation in Sensor Networks.","authors":[],"date":"2001","doi":"10.1145\/941350.941373","raw":"S. Bhatnagar, B. Deb and B. Nath. Service Differentiation in Sensor Networks. Proc. of the 4th International Symposium on Wireless Personal Multimedia Communications, 2001.","cites":null},{"id":16309494,"title":"TAG: a Tiny AGgregation Service for Ad-Hoc Sensor Networks.","authors":[],"date":"2002","doi":"10.1145\/1060289.1060303","raw":"S. Madden, M. J. Franklin, J. M. Hellerstein, W. Hong. TAG: a Tiny AGgregation Service for Ad-Hoc Sensor Networks. Proc. of the 5th Annual Symposium on Operating Systems Design and Implementation, 2002.","cites":null},{"id":16309513,"title":"Using energy where it counts: Protecting important messages in the link layer.","authors":[],"date":"2005","doi":"10.1109\/ewsn.2005.1462015","raw":"A. Kopke, H. Karl and M. Lobbers. Using energy where it counts: Protecting important messages in the link layer. Proc. of the IEEE European Workshop on Wireless Sensor Network, 2005.","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2007-04","abstract":"Data collected in a sensor network is transported hop-by-hop to a sink for further analysis. The quality of the analysis depends on the amount of data reaching the sink. Hence, data transport reliability influences the quality of the analysis. Data aggregation is a common method used in sensor networks to reduce the amount of messages transported. By aggregating, the data contained in several messages is fused into one single message. Therefore, data aggregation significantly influences the overall data transport reliability observed at the sink. This influence is analyzed and described analytically and by experiment within this paper. Furthermore it is shown how the influence of data aggregation on data transport reliability can be controlled for a particular class of data gathering application","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/70170.pdf","fullTextIdentifier":"http:\/\/eprints.lancs.ac.uk\/12993\/1\/vtc07benson.pdf","pdfHashValue":"a294216587e74852c550f82fe964885e7ad53fc3","publisher":null,"rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:12993<\/identifier><datestamp>\n      2018-01-24T02:10:30Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D51:5141:51413735<\/setSpec><setSpec>\n      74797065733D626F6F6B5F73656374696F6E<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        On the Effects of Aggregation on Reliability in Sensor Networks<\/dc:title><dc:creator>\n        Benson, Jonathan<\/dc:creator><dc:creator>\n        Roedig, Utz<\/dc:creator><dc:creator>\n        Barroso, Andre<\/dc:creator><dc:creator>\n        Sreenan, Cormac J.<\/dc:creator><dc:subject>\n        QA75 Electronic computers. Computer science<\/dc:subject><dc:description>\n        Data collected in a sensor network is transported hop-by-hop to a sink for further analysis. The quality of the analysis depends on the amount of data reaching the sink. Hence, data transport reliability influences the quality of the analysis. Data aggregation is a common method used in sensor networks to reduce the amount of messages transported. By aggregating, the data contained in several messages is fused into one single message. Therefore, data aggregation significantly influences the overall data transport reliability observed at the sink. This influence is analyzed and described analytically and by experiment within this paper. Furthermore it is shown how the influence of data aggregation on data transport reliability can be controlled for a particular class of data gathering application.<\/dc:description><dc:date>\n        2007-04<\/dc:date><dc:type>\n        Contribution in Book\/Report\/Proceedings<\/dc:type><dc:type>\n        NonPeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:identifier>\n        http:\/\/eprints.lancs.ac.uk\/12993\/1\/vtc07benson.pdf<\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/VETECS.2007.42<\/dc:relation><dc:identifier>\n        Benson, Jonathan and Roedig, Utz and Barroso, Andre and Sreenan, Cormac J. (2007) On the Effects of Aggregation on Reliability in Sensor Networks. In: Vehicular Technology Conference, 2007. VTC2007-Spring. IEEE 65th. , pp. 145-149. ISBN 1-4244-0266-2<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/12993\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/dx.doi.org\/10.1109\/VETECS.2007.42","http:\/\/eprints.lancs.ac.uk\/12993\/"],"year":2007,"topics":["QA75 Electronic computers. Computer science"],"subject":["Contribution in Book\/Report\/Proceedings","NonPeerReviewed"],"fullText":"On the Effects of Aggregation on Reliability in\nSensor Networks\nJonathan P. Benson, Utz Roedig, Andre Barroso, Cormac J. Sreenan.\nMobile and Internet Systems Laboratory (MISL), University College Cork (UCC), Ireland\nAbstract\u2014Data collected in a sensor network is transported\nhop-by-hop to a sink for further analysis. The quality of the\nanalysis depends on the amount of data reaching the sink.\nHence, data transport reliability influences the quality of the\nanalysis. Data aggregation is a common method used in sensor\nnetworks to reduce the amount of messages transported. By\naggregating, the data contained in several messages is fused\ninto one single message. Therefore, data aggregation significantly\ninfluences the overall data transport reliability observed at the\nsink. This influence is analyzed and described analytically and by\nexperiment within this paper. Furthermore it is shown how the\ninfluence of data aggregation on data transport reliability can be\ncontrolled for a particular class of data gathering application.\nI. INTRODUCTION1\nMany wireless sensor network (WSN) applications collect\nperiodically generated sensor data at a central point - the data\nsink or base station - where the data is subsequently analyzed.\nThis class of applications is considered within this paper.\nIn a realistic deployment scenario, messages are lost in\ntransport while traveling hop-by-hop through the network\ntowards the sink. These packet losses happen due to the natural\nlossy characteristics of the wireless links between the sensor\nnodes. An application analyzing the data might be able to deal\nwith some of these losses. More specifically, the application\nmight be able to infer the correct conclusions even if a (small)\nportion of the sensor readings is not available for the analysis\n(due to the redundancy in sensor networks).\nUsing data aggregation, several messages transported along\nthe same path can be combined into one single message.\nAggregation techniques reduce the amount of messages and\nthus reduce energy expensive transceiver operation and help\nto preserve scarce bandwidth. As aggregation increases the\namount of data concentrated in a single message, the data\nreliability at the sink is altered. Losing a message containing\na single data reading has surely a different impact on the\noverall data reliability than losing a message containing the\ninformation of several sensor readings. Thus, the goal of\nthis paper is to describe and control the influence of data\naggregation on data reliability. A predictable and controllable\ninteraction between data aggregation and data reliability is\nnecessary for sensor network applications that need assurances\nof performance.\nThe remainder of the paper is organized as follows. Section\nIII describes formally the interdependency between data aggre-\ngation and data reliability. Section IV shows how the influence\n1The support of the Informatics Commercialisation Initiative of Enterprise\nIreland is gratefully acknowledged.\nof data aggregation on data reliability can be controlled. This\ncontrol mechanism is verified by simulation in Section V.\nSection II describes related work and Section VI concludes\nthe paper.\nII. RELATED WORK\nThe related work section is split into two parts. First, related\nwork on data aggregation in sensor networks is discussed. Sec-\nond, existing work that describes methods to control the end-\nto-end reliability is presented. End-to-end reliability control is\nthe method proposed in Section IV to counter the problem of\nvariable link reliability and path length; thus it is important to\nshow that appropriate technical implementations exist.\nAggregation: Several papers address the issue of aggrega-\ntion in sensor networks. These papers vary in their approaches\nand emphasis.\nA common approach is to abstract aggregation from the\nunderlying network operation by implementing a SQL like\nquery layer which a programmer or end user can use to pose\nqueries to the sensor network [1], [2], [3], [4]. This form of\naggregation is not related to the problem discussed within the\npaper.\nReliability Control: Ensuring reliable delivery in sensor\nnetworks has been the focus of a number of research papers.\nSeveral papers advocate the use of acknowledgments\n(ACKs) or negative acknowledgments (NACKs) and the sub-\nsequent retransmission of a lost message [7], [10]. Another\napproach is to forward a message more than once so that its\nreliability is increased [9], [10], [11]. A more complex method\ninvolves forwarding multiple packets along multiple disjoint\npaths [9], [10], [11].\n[12] is closely related to this work and describes, in general,\nsome methods that may be used to evaluate the informational\nvalue of sensor data. Various informational values are then\nmapped to various protection measures, FECs in this case. The\nprincipal difference between [12] and this paper is that this\npaper presents a formal link between data and the reliability\nneeded for a given application scenario. [12] does not calculate\nthe required reliability for an aggregate and does not take into\naccount the number of hops to the data sink.\nIII. AGGREGATION - RELIABILITY INTERDEPENDENCY\nThis Section defines the terms aggregation and data trans-\nport reliability. Subsequently, the interdependency between\ndata transport reliability and data aggregation is investigated.\nA. Aggregation\nThe term data aggregation, sometimes also referred as\nmessage aggregation, can be applied to a range of different\noperations taking place inside a network. For the purposes of\nthis study, a valid aggregation function \u03c6 is defined as follows:\nDefinition 1: An aggregation function \u03c6 maps several mes-\nsages to a single message. Formally, if M is the set of\nall possible messages transmitted, this can be expressed as:\n\u03c6 : Ma \u2192M \u2200a \u2265 2.\nData aggregation is used in sensor networks for several rea-\nsons. The main objective of data aggregation is the reduction\nof energy consumption. Energy and bandwidth is saved as\nless messages, normally containing a smaller payload than the\nunaggregated messages together, have to be forwarded.\nAggregation can be performed on a packet level by combing\nthe payload of several messages in a single message or on\nan application level by applying operators such as COUNT,\nAVG, SUM on the data carried by two or more messages.\nThe particular aggregation operation used in the system is\nirrelevant to the results presented in this paper, provided the\nproperties stated above are satisfied.\nB. Reliability\nIn this paper, it is assumed that sensor data readings are\ntransported towards a sink. It is also assumed that sensors send\ndata readings periodically. Thus, the amount of data readings\ngenerated per time interval in the sensor field is known. It is\nassumed that all sensor samples are considered to be equally\nvaluable. Additionally it is assumed that packet losses are\nindependent of additional factors such as message size and\ntraffic density. Increases in message size will increase the\nprobability of bit errors within a message, but, note that in\nmany forms of aggregation, packet size remains unchanged or\ndoes not change significantly. Also, while aggregation changes\nthe traffic and thus reduces the likelihood of MAC layer\ncollisions, note that reductions in traffic are countered by\ndata converging on the data sink having the opposite effect.\nWe believe that these assumptions still result in a reasonably\naccurate model that can be used for the study described in the\npaper. Using the assumptions, the reliability on the different\nabstraction levels is given by the following three definitions:\nDefinition 2: The hop-by-hop message transport reliability\n(short: hop-by-hop reliability), ri,j , describes the probability\nthat a message is delivered successfully between two neigh-\nbouring sensor nodes i and j.\nDefinition 3: The end-to-end message transport reliability\n(short: end-to-end reliability), r, is described by the product of\nthe message transport reliabilities ri,j on the path from source\nto sink.\nDefinition 4: The data transport reliability (short: data reli-\nability) is described by the expected amount of sensor readings\nE(X) per unit time reaching the sink and also by the variance\n\u03c32. The variance describes fluctuations about the expected\nvalue.\nC. Interdependency\nThe data reliability, characterised by E(X) and \u03c32, is\ninfluenced by the amount of data lost in transit. These losses\nare characterised by the hop-by-hop reliability of each link\nand the degree of aggregation. The degree of aggregation, a,\ninfluences how many data readings are lost by losing a single\nmessage.\nConsider a line of nodes where the topmost node is the\ndata sink and the bottommost node has a number of N\ndata readings to send. The readings can now either be sent\nunaggregated as N messages, each containing a single sensor\nreading, or aggregated in n \u2264 N messages depending on\nthe selected aggregation degree. The value 1 \u2264 a \u2264 N\ndescribes how many readings are combined in each message.\nThus it is assumed that all messages carry the same number of\na sensor readings (homogeneous aggregation). Note that the\nassumption of homogeneous aggregation has no net effect on\nthe expected value calculations and gives a worst case variance\ncalculation for a maximum aggregation level a. As a result of\nthe aggregation, the following number of messages are sent to\nthe sink:\nn = N\/a (1)\n1) Expected Values : The question here is how aggregation\ninfluences the expected value E(X). The expected value can\nbe calculated by:\nE(X) =\nn\u2211\na \u00b7 r = n \u00b7 a \u00b7 r (2)\nIf we use Equation (1) and substitute the value of a with\nN\/n we obtain:\nE(X) = Nr (3)\nThus, the expected value is a function of the number of\nsensor data N and the end-to-end reliability r. The degree of\naggregation a has no effect on the expected value. It seems\ntherefore logical to aggregate as much as possible as no cost\nregarding data transport reliability, in terms of the expected\nvalue, has to be paid. In the literature [12] it is assumed that\naggregated packets have to be handled with greater care than\nnon aggregated ones. As shown, this is not true regarding the\nexpected value of the amount of data readings.\n2) Variance: The variance gives an impression of the\nfluctuations of the amount of data readings reaching the sink.\nThe variance \u03c32 is given by the formula:\n\u03c32 = E(X2)\u2212 [E(X)]2 (4)\nThe variance can now be calculated and using Equation (1)\nwe obtain:\n\u03c32 =\nn\u2211\n(a2 \u00b7 r)\u2212 (a2 \u00b7 r2) = N \u00b7 a \u00b7 r \u00b7 (1\u2212 r) (5)\nHere, the variance depends linearly on the degree of ag-\ngregation and linearly on the number of samples. Now both\nextremes can be compared; no aggregation with a = 1 and\ntotal aggregation with a = N . In the first case, the variance\ndepends linearly on the amount of sensor readings. In the\nsecond case, the variance depends quadratically on the amount\nof sensor readings sent. It can be concluded that the variance\nof amount of data readings per time unit reaching the sink\ndepends heavily on the degree of aggregation. Regarding the\nvariance it is therefore useful to handle aggregated packets\nwith greater care than non aggregated ones. More specifically,\nin applications with a strong time correlation, control of the\nvariance \u03c32 is of critical importance whereas in applications\nthat can deal with losses as long as the long term average is\nabove a certain point need only be concerned with E(X).\nIV. AGGREGATION - RELIABILITY CONTROL\nIn this Section, the control goal is formulated along appli-\ncation requirements. Thereafter the control mechanism and its\nimplementation is presented.\nA. Application Requirements\nAn application requires a data transport reliability above a\ngiven value to function correctly. Mathematically expressed, it\nis required that E(X) \u2265 N \u00b7R. Here, R is the reliability level\ndesired by the application, N is the total number of sensor\ndata. Additionally, it has now to be taken into account that\nthe amount of actual data delivered will fluctuate about the\nexpected value, which is described by the variance. We thus\ndefine our control goal as:\nDefinition 5: The application should achieve a transport\nreliability such that expected value minus some multiple\nof the standard deviation equals to or is greater than the\nminimum reliability level desired by the application. This can\nbe expressed as follows: E(X)\u2212 z\u03c3 = NR.\nFor example, if we assume a normal distribution of the\nincoming sensor readings and z = 1.96 is selected, in 97.5%\nof cases the application requirements can be met.\nB. Control Mechanism\nAs it was shown by Equations (3) and (5), the expected\nvalue and variance depend on the aggregation degree a and\nthe end-to-end message reliability r. Thus, aggregation degree\na and end-to-end transport reliability r have to be balanced,\nsuch that the needs of the application can be met.\nUsing the application requirements given in Definition 5, we\ncan derive equations that allow us to compute the maximum\naggregation degree and\/or the necessary transport reliability:\nE(X)\u2212NR = z\u03c3 (6)\nUsing Equation (2) and (5) we obtain:\nn \u00b7 a \u00b7 r \u2212N \u00b7 R = z \u00b7\n\u221a\nN \u00b7 a \u00b7 r \u00b7 (1\u2212 r) (7)\nSquaring both sides of Equation (7) gives us:\nN2 \u00b7 (r2 \u2212 2 \u00b7 r \u00b7 R + R2) = z2 \u00b7 N \u00b7 a \u00b7 r \u00b7 (1\u2212 r) (8)\nTo calculate the maximum aggregation degree a if r is\nalready known, Equation (8) can be modified as:\na =\nN \u00b7 (r2 \u2212 2 \u00b7 r \u00b7 R + R2)\nz2 \u00b7 r \u00b7 (1\u2212 r)\n(9)\nFinally we can generate the following equation to compute\nthe end-to-end transport reliability r needed for a given a using\nEquation (8):\n(N + z2 \u00b7 a) \u00b7 r2 \u2212 (2 \u00b7 N \u00b7 R + z2 \u00b7 a) \u00b7 r + N \u00b7 R2 = 0 (10)\nEquation (9) gives the maximum aggregation degree that\ncan be used in the network if the end-to-end reliability\nr is known. Equation (10) gives the necessary end-to-end\nreliability for messages if the aggregation degree is known.\nOf course, both equations can be used together to balance\nthese values.\nC. Reliability Control\nEquations (9) and (10), assume that the end-to-end relia-\nbility, r, for messages transported in the network is constant\nfor all messages regardless of their distance to the sink. This\nassumption is difficult to implement in reality as messages\nwill have varying travel distances (hop-count) to the sink.\nFor example, if a constant hop-by-hop reliability is assumed,\nmessages will have a different end-to-end reliability. To deal\nwith this issue, two principle methods exist.\n1) Method 1: Worst-Case: The worst possible r that can be\nencountered in the network can be used for the calculation of\nE(X) and \u03c3. For example the hop-by-hop message transport\nreliability rij and the maximum hop distance h in the field\nmight be known and r can be calculated using Equation (10).\nHowever, as many paths will in reality have an end-to-end\nreliability better than r, the resulting E(X) and \u03c3 will be\nbetter than calculated. In this case, the Equations (9) and (10)\ncan be used for a worst-case dimensioning.\n2) Method 2: Adaptation: A node adapts its forwarding\nmechanism such that the desired end-to-end reliability r for\nthe message is achieved. If adaptive forwarding mechanisms\nare in place, the Equations (9) and (10) can be used for a more\nprecise dimensioning.\nA node, upon receiving a request from the data sink to\ngenerate messages and forward these messages with end-to-\nend reliability r would need to know its local error rate along\nwith the number of hops h to the data sink. The node could\nthen calculate the reliability rf at which it would need to\nforward this message over each hop to meet the end-to-end\nreliability requirements. To calculate rf the following simple\nformula is used: rf \u2265 r1\/h. The value of rf needs to be\nforwarded in each packet so that any receiving node is able to\ncalculate what steps it needs to take to ensure that the packet\nis again forwarded with reliability rf . Methods to achieve the\ndesired rf are discussed in the II section. In particular, [9],\n[10], [11] discuss this in detail.\nD. Aggregation Control\nEquations (9) and (10), assume that a constant aggregation\ndegree a is used within the network. It is simple to use a as\nan upper bound for the aggregation degree. However, it might\nbe difficult or impossible to assure that all sensor readings are\ndelivered as messages with a readings. In a realistic operation\nscenario, some messages delivered to the sink will contain\nless than the maximum allowed a data readings. As in reality\nthe maximum allowed aggregation degree is not always used,\nthe resulting E(X) and \u03c3 will be better than calculated. Here\nagain, the Equations (9) and (10) must be seen as a tool for a\nworst-case dimensioning.\nV. EXPERIMENTAL EVALUATION\nThe first experiment shows that the expected value E(X)\ndoes not depend on the aggregation degree and that the\nvariance \u03c3 depends on the aggregation degree as it is described\nanalytically in Section III.\nThe second experiment shows the effect of a dynamic\nadapted end-to-end reliability on the expected value E(X) and\nthe variance \u03c3. As shown in Section IV, this method narrows\nthe gap between analytical calculation (worst-case) and real-\nworld observation (average-case).\nA. General Setup\nA simulation was conducted using a purpose built simulator.\nThe results from this simulator were identical to simulations\nperformed on the ns-2 simulator but the simulation speed was\nseveral times faster than ns-2.\n1) Topology: 100 nodes are placed in a grid. The transmis-\nsion range is set such that each node can only communicate\nto their adjacent neighbours in the grid. The topmost central\nnode is designated as the data sink. An interest is flooded by\nthe sink into the network and a routing tree is formed along\nreverse path. For the purposes of the experiment the routing\ntree is considered to be stable.\n2) Aggregation: A waiting period Ti at node ni in the\nrouting tree is calculated for each message in order to facilitate\na cascading aggregation system using the following formula:\nTi =\nTmax\nhmax\n\u00b7 (hmax \u2212 hi)\nWhen the maximum aggregation degree a is reached, a\npacket is immediately forwarded to the data sink without\nfurther delays en route.\n3) Traffic: Every node periodically generates a sensor read-\ning (1 per sensing period) and sends it to the data sink.\nBefore the next period all the data generated is forwarded\nto the sink and recorded. Each node generates 1000 data\nreadings per simulation. After each period the amount of\nsensor readings delivered to the sink is recorded. Finally the\nstandard deviation is calculated for the 1000 data gathering\nrounds. This process was repeated 10 times to account for any\nvariations in the topology caused by the random formation of\n 40\n 45\n 50\n 55\n 60\n 1  2  3  4  5  6  7  8  9  10\nAv\ner\nag\ne \nNu\nm\nbe\nr o\nf D\nat\na \nRe\nce\nive\nd \n[in\n %\n]\nAggregation Level a\nAverage Number of Data Received\nFig. 1. Average number of data received in percent with hop-by-hop\nreliability rij = 0.9.\n 0\n 2\n 4\n 6\n 8\n 10\n 12\n 14\n 1  2  3  4  5  6  7  8  9  10\nSt\nan\nda\nrd\n D\nev\niat\nion\n [in\n %\n]\nAggregation Level a\nStandard Deviation\nFig. 2. Standard deviation of the number of data received in percent with\nhop-by-hop reliability rij = 0.9.\nthe routing tree. The standard deviation is calculated based on\nthe 10 experiments and used to generate error bars shown in\nthe resulting graphs.\nB. Experiment 1\nThe first experiment demonstrates that aggregation does\nnot affect the expected value but increases the variance and\ntherefore the standard deviation. A hop-by-hop reliability\nrij = 0.9 was assigned to each link. The maximum possible\ndistance in the routing tree was hmax = 10. The experiment\nwas conducted for maximum aggregation degrees from a = 1\n(no aggregation) to a = 10. In all cases it is apparent that the\naverage amount of sensor data being delivered does not change\nand that the variance increases with respect to aggregation (see\nFig. 1 and Fig. 2.).\nC. Experiment 2\nThe second experiment makes use of the algorithm de-\nscribed in Section IV to ensure that the end-to-end reliability\nis the same for each individual message. The following values\nare used: R = 0.7, z = 1, a = 1,...,a = 10. . The desired end-\nto-end reliability r can be pre-calculated based on Equation\n(10) and is shown in Fig 4.. Thus, each node can calculate the\nhop-by-hop forwarding reliability rf for each message. The\ncalculated rf is used as hop-by-hop forwarding reliability. The\nresult of the simulation is shown in Fig. 3..\n 60\n 65\n 70\n 75\n 80\n 85\n 90\n 1  2  3  4  5  6  7  8  9  10\nAv\ner\nag\ne \nm\ninu\ns S\nta\nnd\nar\nd \nDe\nvia\ntio\nn \n[in\n %\n]\nAggregation Level a\navg-stddev\nNR=70%\nFig. 3. Calculated N \u00b7 R compared with the measured E(X)\u2212 z \u00b7 \u03c3.\n 0.7\n 0.75\n 0.8\n 0.85\n 0.9\n 1  2  3  4  5  6  7  8  9  10\nEn\nd-\nto\n-E\nnd\n R\neli\nab\nilit\ny r\nAggregation Level a\nr\nFig. 4. Calculated end-to-end reliability using Equation (10).\nThe results in Fig. 3. show that the desired application\nquality level can be met at all times if the correct rf is achieved.\nHowever, the higher the aggregation level selected, the more\ndesired quality level and measured quality level differ.\nOne cause of the observed difference is founded in the as-\nsumption that all packets are sent with the maximum possible\naggregation degree a. In reality, messages often contain less\nsensor readings than allowed and thus the variance of E(x) is\nnot as high as anticipated. For example the highest aggregation\ndegree of a = 10 used in the experiment will only be used\nrarely in a sensor network of 100 nodes.\nAnother cause of the observed difference is caused by the\nselection of the hop-by-hop reliability rf . A sensor reading\nsent from further away must be forwarded with greater reli-\nability than one sent from nearby. Again we assume a worst\ncase scenario and use the highest forwarding reliability of the\nconstituent sensor readings for the aggregated message.\nThe Directed Diffusion paradigm is presented in [5]. Data is\ncached at each node making it possible to perform aggregation.\nTo achieve this end the use of filters is proposed. [6] discusses\nthe use of low level naming such as sensor type and geographic\nlocation to eliminate the need for a name binding service and\nthe subsequent communication overhead associated with using\nsuch a service.\nVI. CONCLUSION & FUTURE WORK\nOur results clearly show that aggregation does not affect\nthe probable amount of data delivered but has an adverse\neffect on the fluctuations about this value. These fluctuations\nlead to unstable application level quality and are undesirable.\nHaving quantified this effect we have furthermore presented\na methodology to determine the correct end-to-end reliability\nlevel to control these effects. The principal contributions of this\npaper is that it describes how aggregation effects application\nlevel quality for a class of applications and how these effects\nmay be controlled by selecting and implementing the correct\nend-to-end reliability.\nOur future work will endeavour to move beyond worst case\ndimensioning and endeavour to create heuristics to enable an\naggregate packet to calculate its reliability such that appli-\ncation level quality constraints are met more closely than\nat present. It is envisioned that such a heuristic would be\napplied dynamically within the network, increasing reliability\nas aggregation occurs. Also a more complex methodology\nis needed to integrate the increases in the overall end-to-\nend reliability caused by obeying the constraints of messages\ngenerated further away from the sink (i.e. adopting the highest\nrf ), and increases in the end-to-end reliability necessitated by\nincreases in the variance. This new methodology must also\naccomodate data types that are not equally valuable. Finally,\nfurther analysis is necessary to assess the effects of \u201cdata\nholes\u201d (losses from the same physical area) caused by the\nloss of aggregate packets.\nREFERENCES\n[1] J. Gehrke, Y. Yao. Query Processing for Sensor Networks. IEEE\nPervasive Computing 2004, vol 3, number 1, pages 46-55.\n[2] P. Bonnet, J. Gehrke, T. Mayr, P. Seshadri. Query Processing in a Device\nDatabase System. Tech. Report, number 99-1775, Cornell University,\nIthaca, NY, USA, 1999.\n[3] S. Madden, M. J. Franklin, J. M. Hellerstein, W. Hong. TAG: a Tiny\nAGgregation Service for Ad-Hoc Sensor Networks. Proc. of the 5th\nAnnual Symposium on Operating Systems Design and Implementation,\n2002.\n[4] J. Beaver, M. A. Sharaf, A. Labrinidis, Panos K. Chrysanthis. Power-\nAware In-Network Query Processing for Sensor Data. Proc. of the 2nd\nHellenic Data Management Symposium, 2003.\n[5] C. Intanagonwiwat, R. Govindan, D. Estrin. Directed Diffusion: A Scal-\nable and Robust Communication Paradigm for Sensor Networks. Proc.\nof the 6th Annual Conference on Mobile Computing and Networks,\n2000.\n[6] J. Heidemann, F. Silva, C. Intanagonwiwat, R. Govindan, D. Estrin,\nand D. Ganesan. Building Efficient Wireless Sensor Networks with\nLow-Level Naming. Proc. of the Symposium on Operating Systems\nPrinciples, 2001.\n[7] F. Stann and J. Heidemann. RMST: Reliable Data Transport in Sensor\nNetworks. Proceedings of the 1st IEEE International Workshop on\nSensor Net Protocols and Applications, 2003.\n[8] S. Mukhopadhyay, D. Panigrahi and S. Dey. Data Aware, Low Cost\nError Correction for Wireless Sensor Networks. Proc. of IEEE Wireless\nCommunications and Networking Conference, 2004.\n[9] S. Bhatnagar, B. Deb and B. Nath. Service Differentiation in Sensor Net-\nworks. Proc. of the 4th International Symposium on Wireless Personal\nMultimedia Communications, 2001.\n[10] B. Deb, S. Bhatnagar, B. Nath. Information assurance in sensor net-\nworks. Proc. of the 2nd ACM International Conference on Wireless\nSensor Networks and Applications, 2003.\n[11] B. Deb, S. Bhatnagar and B. Nath. ReInForM: Reliable Information\nForwarding using Multiple Paths in Sensor Networks. Proc. of the 28th\nAnnual IEEE Conference on Local Computer Networks, 2003.\n[12] A. Kopke, H. Karl and M. Lobbers. Using energy where it counts:\nProtecting important messages in the link layer. Proc. of the IEEE\nEuropean Workshop on Wireless Sensor Network, 2005.\n"}