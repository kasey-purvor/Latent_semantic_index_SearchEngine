{"doi":"10.1109\/GEFS.2008.4484565","coreId":"69990","oai":"oai:eprints.lancs.ac.uk:19200","identifiers":["oai:eprints.lancs.ac.uk:19200","10.1109\/GEFS.2008.4484565"],"title":"Evolving Fuzzy Inferential Sensors for Process Industry.","authors":["Angelov, Plamen","Kordon, Arthur","Zhou, Xiao"],"enrichments":{"references":[],"documentType":{"type":1}},"contributors":[],"datePublished":"2008-03-07","abstract":"This paper describes an approach to design self-developing and self-tuning inferential soft sensors applicable to process industries. The proposal is for a Takagi-Sugeno-fuzzy system framework that has evolving (open structure) architecture, and an on-line (possibly real-time) learning algorithm. The proposed methodology is novel and it addresses the problems of self-development and self-calibration caused by drift in the data patterns due to changes in the operating regimes, catalysts ageing, industrial equipment wearing, contamination etc. The proposed computational technique is data-driven and parameter-free (it only requires a couple of parameters with clear meaning and suggested values). In this paper a case study of four problems of estimation of chemical properties is considered, however, the methodology has a much wider validity. The optimal inputs to the proposed evolving inferential sensor are determined a priori and off-line using a multi-objective genetic-programming-based optimization. Different on-line input selection techniques are under development. The methodology is validated on real data provided by The Dow Chemical Company, USA. (c) IEEE Pres","downloadUrl":"","fullTextIdentifier":null,"pdfHashValue":null,"publisher":"IEEE","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:19200<\/identifier><datestamp>\n      2018-01-24T02:04:30Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D51:5141:51413735<\/setSpec><setSpec>\n      74797065733D626F6F6B5F73656374696F6E<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        Evolving Fuzzy Inferential Sensors for Process Industry.<\/dc:title><dc:creator>\n        Angelov, Plamen<\/dc:creator><dc:creator>\n        Kordon, Arthur<\/dc:creator><dc:creator>\n        Zhou, Xiao<\/dc:creator><dc:subject>\n        QA75 Electronic computers. Computer science<\/dc:subject><dc:description>\n        This paper describes an approach to design self-developing and self-tuning inferential soft sensors applicable to process industries. The proposal is for a Takagi-Sugeno-fuzzy system framework that has evolving (open structure) architecture, and an on-line (possibly real-time) learning algorithm. The proposed methodology is novel and it addresses the problems of self-development and self-calibration caused by drift in the data patterns due to changes in the operating regimes, catalysts ageing, industrial equipment wearing, contamination etc. The proposed computational technique is data-driven and parameter-free (it only requires a couple of parameters with clear meaning and suggested values). In this paper a case study of four problems of estimation of chemical properties is considered, however, the methodology has a much wider validity. The optimal inputs to the proposed evolving inferential sensor are determined a priori and off-line using a multi-objective genetic-programming-based optimization. Different on-line input selection techniques are under development. The methodology is validated on real data provided by The Dow Chemical Company, USA. (c) IEEE Press<\/dc:description><dc:publisher>\n        IEEE<\/dc:publisher><dc:date>\n        2008-03-07<\/dc:date><dc:type>\n        Contribution in Book\/Report\/Proceedings<\/dc:type><dc:type>\n        NonPeerReviewed<\/dc:type><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/GEFS.2008.4484565<\/dc:relation><dc:identifier>\n        Angelov, Plamen and Kordon, Arthur and Zhou, Xiao (2008) Evolving Fuzzy Inferential Sensors for Process Industry. In: 3rd International Workshop on Genetic and Evolving Systems, 2008. GEFS 2008. IEEE, pp. 41-46. ISBN 978-1-4244-1612-7<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/19200\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":null,"relations":["http:\/\/dx.doi.org\/10.1109\/GEFS.2008.4484565","http:\/\/eprints.lancs.ac.uk\/19200\/"],"year":2008,"topics":["QA75 Electronic computers. Computer science"],"subject":["Contribution in Book\/Report\/Proceedings","NonPeerReviewed"],"fullText":"  \n \n  \nAbstract\u2014 This paper describes an approach to design \nself-developing and self-tuning inferential soft sensors applicable \nto process industries. The proposal is for a Takagi-Sugeno-fuzzy \nsystem framework that has evolving (open structure) \narchitecture, and an on-line (possibly real-time) learning \nalgorithm. The proposed methodology is novel and it addresses \nthe problems of self-development and self-calibration caused by \ndrift in the data patterns due to changes in the operating \nregimes, catalysts ageing, industrial equipment wearing, \ncontamination etc. The proposed computational technique is \ndata-driven and parameter-free (it only requires a couple of \nparameters with clear meaning and suggested values). In this \npaper a case study of four problems of estimation of chemical \nproperties is considered, however, the methodology has a much \nwider validity. The optimal inputs to the proposed evolving \ninferential sensor are determined a priori and off-line using a \nmulti-objective genetic-programming-based optimization.  \nDifferent on-line input selection techniques are under \ndevelopment. The methodology is validated on real data \nprovided by The Dow Chemical Company, USA. \nI. INTRODUCTION \nA. Background and state-of-the-art \nNFERENTIAL sensors also known as soft sensors [1], are \napplied nowadays extensively in a range of industries, such \nas processing, chemical, petro-chemical, manufacturing, \netc. One of the typical application of soft sensors is for process \nquality monitoring [2],[3]. The black-box-model-based \ninferential sensors applied currently [1],[4],[5] has big \nadvantages over the conventional solutions that rely on \nlaboratory tests and manual intervention in terms of overall \nprocess automation and costs. The most widespread methods \nthat are used to design inferential sensors are principle \ncomponent analysis (PCA) for reducing the input dimensions \nand correlation between raw data readings and partial least \nsquares (PLS) to train the models [1]. Alternative techniques \nthat are used for soft sensors design are neural networks (NN) \n[6], support vector machines [7], genetic programming [8]. \nThe main problem of inferential sensors based on these \ntechniques is caused by the fact that the real industrial \nprocesses are highly non-linear, non-stationary, they have \ndifferent operating regimes, the environment and the \n \nDr. P Angelov and Mr. X Zhou are with the Intelligent Systems Research \nLab, Dept of Communication Systems, InfoLab21, Lancaster University, \nLancaster, LA1 4WA, UK; phone +44 (1524) 510391; e-mail: \np.angelov@lancaster.ac.uk \nDr. A Kordon is with the Data Mining and Modelling Group, Corporate \nWork Processes & Six Sigma Centre, The Dow Chemical Company, \nFreeport, TX, USA; phone +1 (979) 238 5149; e-mail: akkordon@dow.com  \n \n  \nindustrial equipment, raw materials and catalysts are \nchanging. This dynamically (often unpredictably) evolving \nenvironment leads to pre-trained and designed in off-line \nmode inferential sensors to have unacceptable drop in their \nperformance and to require periodic and costly re-training, \nre-calibration and sometimes re-development. In this way, the \nlife-cycle costs of these sensors become comparable or higher \nthan that of laboratory tests. Another significant disadvantage \nof NN and other \u2018black box\u2019 techniques is their lack of \ninterpretability and transparency, which is very important for \nhuman operators of these expensive industrial processes who \nsometimes rely on their experience and intuition. \nThis reality calls for the development of new techniques \nthat are adaptive and able to react to the complex changes in \nthe process such as wearing out or contamination of the \nequipment, quality alteration of raw materials, etc. Ideally, an \nintelligent inferential sensor will have an online (possibly in \nreal-time) structural learning ability in response to the \nfundamental shifts in the process. \nB. Modes of operation of inferential industrial sensors \nIn most industrial process, the inferential sensors are \nexpected to work in one of the following three modes of \noperation. For cases with high degree of stationarity and low \nlevel of variability of the raw materials, catalysts, environment \nand the equipment inferential sensors with a pre-trained fixed \nstructure and parameters may be satisfactory. For processes \nwith frequent non-fundamental changes, sensors are required \nto continuously adapt to these changes online. Such inferential \nsensors can have a fixed structure but require the ability to \nautomatically re-tune their parameters in response to the \nchanges. These sensors will be called adaptive or \nself-adaptive (if adaptation is automatic and on-line, but does \nnot concern the structure of the inferential sensor) and \nself-tuning inferential sensors. Finally, there is also a type of \ninferential sensors that will be called evolving sensors, \neSensors which evolve their structure as well as adapt their \nparameters. They are especially important and needed when \nthere is a significant shift in the data pattern, which changes \nthe way the original process works. Mathematical models with \nfixed structures are not able to react with parameters tuning to \nsuch situations. \nIn order to automatically detect, learn and react to both \nfundamental and non-fundamental changes, specific novel \ntechniques and methodologies are needed, which requires the \nsoft sensor to detect shifts and drifts in the process and learn \nnot only the parameters, but also to evolve its own structure in \nEvolving Fuzzy Inferential Sensors for Process Industry \nPlamen Angelov, Senior Member IEEE, Arthur Kordon, Member IEEE, and Xiaowei Zhou, Student \nMember IEEE \nI \n3rd International Workshop on Genetic and Evolving Fuzzy Systems\nWitten-Bommerholz, Germany, March 2008\n978-1-4244-1613-4\/08\/$25.00 \u00a92008IEEE 41\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n  \n \nonline mode. One framework that can be used to design \nautomatically such eSensors is the recently developed \nevolving Takagi-Sugeno (eTS) fuzzy systems [9],[10],[11]. \nC. Illustrative case studies \nIn some industrial processes, the real measurements are not \navailable continuously or as often as the output is required. \nThe real measurements needed for training the soft sensor \nmight be collected over several sampling time intervals, which \nfor different industrial processes may constitute several \nseconds, minutes, hours, several days or even more (as is the \ncase with oil refinery or waste water treatment processes). The \ntraining samples may also come in batches. In such cases the \noptions for designing an inferential sensor are; i) using \nfiltering to estimate the output; ii) use unsupervised \ntechniques; iii) periodically re-train in a batch mode the \ninferential sensor; iv) re-train the inferential sensor in on-line \nmode whenever the training data are available. In the latter \ncase, during the periods in time when training data is not \navailable, the inferential sensor will make predictions of the \noutput based on the existing rule-base at the time. Ideally, an \ninferential sensor should be able to adapt and re-train \u2018on the \nfly\u2019, without interrupting the online estimation whenever new, \nfresh training data is available. This ability is critical when the \ninferential sensor is installed on a non-stop system, which \ndoes not allow offline re-training and most of the industrial \ninstallations in the chemical, bio- , and petro-chemical \nbranches of industry are of this type. \nFigure 1 illustrates several alternative cases for an example \nfrom a real chemical process which has a significant change in \nthe operating conditions around sample 113. For example, the \nconventional mode of using inferential sensors in two clearly \nseparated phases: i) off-line pre-training; ii) on-line use. This \nis illustrated for the same real data in Figure 1a).  \n \nOne can see that due to the change in the operating conditions \nat sample 113 the predictions drastically deteriorate because \nthe sensor (model) structure is fixed and does not have ability \nto evolve and to reflect the change in the data pattern by \nchange in the rule-base. As a result a significant error is \ngenerated.  \n A possible solution would be to collect enough data and \nre-train the original inferential sensor in the same way as \noriginally designed (in off line mode). The downsides of such \nan approach are; i) it increases considerably the cost of the \ndevelopment and maintenance of the sensor and the overall \nlife-cycle costs; ii) the time of re-development and \nre-calibration may be significantly larger than the time \ninterval of collection of next data sample(s); iii) such a mode \nleads to complete loss of previously collected information and \nknowledge.  \n Ideally, one would adapt gradually the existing inferential \nsensor to the newly collected data in on-line mode (possibly in \nreal-time) by an automatic procedure that adapts the \nparameters but if necessary also upgrades or modifies the \nstructure of the sensor. This is the approach that is followed in \nthis paper. As shown in Figure 1b), the effect from the \noperating conditions change is dealt with in online re-training \nstage, without an interruption of the predictions. \nNote that the proposed inferential sensor can also work in a \nfully online manner. When the feedback is available at each \nsampling time, the internal model of the inferential sensor can \ngradually evolve at every sampling interval.  \nII. EVOLVING INFERENTIAL SENSOR DESIGN  \nA. The Concept of eTS \nThe Evolving Fuzzy Rule-based System (eR) [9] introduced \nthe approach of autonomous learning and evolving the \nstructure of fuzzy rule-based systems together with its \nparameters. eTS is a special case of eR when the underlying \nstructure of the model is of Takagi-Sugeno (TS) type and it \nself-develops from a data stream recursively [10,11]. The \nstructure of eTS is a flexible and open set of TS fuzzy rules, \nwhich can grow, shrink, update \u2018on the fly\u2019 according to the \nFig. 1b) eSensor periodically re-trains and adapts both its structure and \nparameters to the change in the operating conditions of the industrial process. \nFig. 1a)  The typical mode of using inferential sensors: off-line pre-training (in \nthis case for 100 time steps) and afterwards use in on-line mode with a fixed \nstructure and parameters \n42\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n  \n \ninformation (mainly density) brought by the new data. It is \nglobally non-linear, and linguistically interpretable. In this \nway, the proposed eSensor (Figure 2) has embedded eTS that \nbrings the ability to self-develop, self-calibrate, and \nself-maintain. Therefore, it is a promising tool that can suit the \nnew demands from industry for fully autonomous inferential \nsensors which give interpretable models. \nB. Online Learning of eSensors \nThe learning method of eTS is based on two stages that \nperform during a single time interval: i) data partitioning \nthrough evolving clustering; ii) fuzzily weighted recursive \nleast squares estimation of the parameters of the consequents. \nThe learning procedure is briefly described in the Appendix \nand is illustrated in Figure 3. More details about eTS learning \ncan be found in [10,11].   \nThis eTS-based evolving inferential sensor has the following \nspecific features that separate it from existing sensors used in \nthe process industries: \na) It has an evolving (open, flexible) structure and the \nevolution can start from scratch; \nb) Due to its recursive calculations, very low memory is \nrequired for the calculations; \nc) Due to its very low computational costs it can respond \nvery quickly and is suitable for real-time \napplications; \nd) Benefiting from the multiple local Kalman filters, it \nprovides high prediction rates; \ne) It has MIMO structure [13], and has the ability to \nmodel multiple outputs in a more efficient way.  \nf) By online monitoring quality of the clusters and fuzzy \nrules it is possible to automatically detect shifts in the \ndata pattern that reflect different operating regimes.   \nC. Monitoring quality of the fuzzy model online \nIn order to analyze quality of the inferential sensor, several \naggregated variables have been defined and monitored online. \nThis includes age of the cluster\/fuzzy set which is defined \n[14] as: \n\u2211\n=\n\u2212=\ni\nkn\nl\nli\nk\ni k\nn\nkAge\n1\n1\n \nwhere lk is the time index when a data sample is read.  \nAge of ith  rule is updated by adding 1, indicating that it gets \nolder, unless new sample activates this rule. Therefore, the \nrange of age is [0,k]. In evolving modeling, it is vitally \nimportant to adapt to the shift in the data pattern. Detecting the \nconcept shift helps verifying the structure of the evolving \nfuzzy rule-base online. Old fuzzy rules do not reflect the \nup-to-date real information coming from \u2018hard\u2019 sensors, thus \nneed to be disabled or removed. In Figure 4 real data from \npropylene production is used. One can see that fuzzy rule 1 is \nintensively updated around sample 1450, which reflects a \nchange in the operating mode that occurs in the real plant. \nSimilarly, around sample 2700 rule 4 is activated (its age \ndrops) while rule 1 gets older due to less intensive or no \nupdate. These two significant shifts in the data pattern can be \nautomatically detected by analyzing online the first and \nsecond derivative of age in time. \n \nFig. 3  Flow chart describing the work of eSensor \n \nFig. 2  Schematic representation of eSensor \nFig. 4  Propylene production data \u2013 significant shifts in the data pattern  \ntake place around samples 1450 and 2700 which lead to quick update of \nfuzzy rule 1 and slower update of rule 4. \n43\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n  \n \nIII. SENSOR INPUTS SELECTION \nIn order to enable the inferential sensor, which do not rely on \nexpert knowledge, to be completely autonomous one critical \nstep is to select the most informative inputs from all the \navailable \u2018hard\u2019 (conventional) sensors.  Removing noisy or \nirrelevant inputs that usually lead to a drop in modeling \nprecision improves the estimation quality and efficiency of the \nproposed inferential sensors. \nConventionally, the model input selection is carried out in \noff-line mode as a part of the design of the inferential sensor \n[2,15]. There are a number of widely applied techniques such \nas PCA [1], Genetic Programming (GP) [2,15,17] etc. In the \nproposed case study a multi-objective GP is used for the input \nselection task due to its capability for symbolic regression \n[16]. GP simulates the natural evolution of a number of \npotential candidates to be selected according to the objective \nfunction [8]. As a result, the selected candidates are normally \nbest suited to fit the objective function(s). This approach has \nthe advantage that no prior knowledge is required abut the \nmodel structure and the result is based on explicit objective \nfunction(s). Pareto-based multi-objective formulation is used \nin this particular application to compensate the better \nprecision with the model complexity. \nThe input selection, based on GP relates the sensitivity of a \ngiven input variable to its fitness in the population of \nequations. The reasoning is that important input variables will \nbe used in equations that have a relatively high fitness. The \nalgorithm is described in [17] and the results of its application \nfor feature selection in one of the case studies \u2014 Composition \n1, is shown in Figure 5. \nThe proposed multi-objective GP method generates many \nnon-dominated solutions on the Pareto front, shown with \nencircled dots on Figure 6.  \nUsually the explored area for model selection is narrowed \ndown to the section on the Pareto front with the biggest gain in \naccuracy for the smallest expressional complexity. An \nexample of explored models area on the Pareto front for \nselecting the Composition 2 model is shown in Figure 6. The \nperformance of the individual models is explored as well as \nthe interpretability of the derived functional forms from \nphysical consideration.  The final model selection is done by \nthe inferential sensor users. In some cases, several models \nwith different inputs are selected to improve the robustness in \ncase of input failure.  The applied inferential sensor is an \nensemble of models. \nFor a system which works on data stream which requires the \nsensor to perform in online mode, the input selection has to be \ndone prior to the work of the system or alternative approaches \nmust be developed that allow online inputs selection. This is a \ndirection of current research and in this paper we assume that \nthe inputs have been defined prior the on-line phase.  \nIV. CASE STUDIES AND EXPERIMENTAL RESULTS \nFour problems from the chemical industry have been \nconsidered as case studies. The eTS-based eSensor has been \napplied for prediction of the properties of three compositions \nand propylene in a simulated online mode. Each of the \ndatasets includes different impact due to the changes of the \noperating regime of the process, which bring challenges to the \nstructure of the inferential sensor. The four test cases include a \nnumber of other challenges, such as noise in the data, a large \nnumber of initial variables, etc. These problems cover a wide \nrange of real issues in the industry when an inferential sensor \nis to be developed and applied. The proposed new inferential \nsensors, eSensor proved to be capable of being an advanced \nreplacement of the existing less flexible solutions. \nThe first case, called in this paper \u2018Composition 1\u2019, is to \nmodel the product composition in a distillation tower. The \nprocess data is retrieved from 6 physical (\u2018hard\u2019) sensors used \nas inputs to the inferential sensor applying hourly averages for \nevery 8 hours. The product composition (real output) is \nestimated by a laboratory analysis. The estimation of the \nproduct composition contains noise due to the nature of the \nanalysis. A significant operating condition change has taken \nplace after sample 127. \nThe second case, called \u2018Composition 2\u2019 concerns product \ncomposition in the bottom of the distillation tower. A list of 47 \nrelated variables are initially included as the inputs, some of \nthem are very loosely related to the product composition. \nSimilarly, laboratory analysis has been used to obtain the real \noutput, which is less noisy than the output for the other 3 \ndatasets. There is a significant operation change around data \nsample 113.  \nThe third case, Composition 3, is very similar to the \nprevious case (Composition 2). The only difference is that the \nTABLE I \nGENERAL INFORMATION FOR THE 4 DATA SETS \n  Comp1 Comp2 Comp3 Propylene \nAll measured inputs 6 47 47 22 \nSelected Inputs by \nGP 2 2 7 2 \nNo of Samples 309 308 308 3000 \nNoise Yes no Yes Yes \nOperating regime \nchange at sample 127 113 113 \nBroad \nrange of \noperations \n \nFig. 5  Input selection for Composition 1 based on GP. Only two out of \nsix input variables (x2 and x6) are with high nonlinear sensitivity to the \noutput. \n44\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n  \n \nlevel of noise in this problem is much higher. \nThe fourth case concerns the Propylene that is in the top of \nthe distillation tower. 22 different physical (\u2018hard\u2019) sensors \nand respectively inputs for the inferential sensor are measured. \nThe data for this, fourth case contains 3000 data points \nmeasured every 15 minutes using gas chromatography. They \ncover a very broad range of operating conditions. \nGP was applied off-line prior to the design of the evolving \ninferential sensor with the aim to select the optimal subset of \ninputs based on Pareto front [15]. Table I describes the \nexperimental set up in brief. \nTwo tests of the eTS-based inferential sensor were carried \nout with each of the four test cases; i) using all inputs; ii) \nusing pre-selected (by GP) optimal sub-subset of the inputs. \neSensor starts to learn and generate its fuzzy rule-base \nfrom the first data sample it reads. The prediction starts \nwhen the rule-base is initialized straight after the first sample \nis read. After that, eSensor evolves the fuzzy rule-base \nstructure (Figure 6 illustrates this for Composition 3) on a \nsample by sample basis and adapts the parameters of each \nrule in the rule-base online. In this way, the inferential sensor \ncontinuously adapts and self-calibrates. \nThe fuzzy rule-base that was automatically generated for \nthe propylene after all data samples has been read is shown in \nFigure 7. Note that it evolved \u2018from scratch\u2019 by generating \nrules one by one (see Figure 6 for the fuzzy rule evolution for \nthe case of Composition 3) where xy , denote the normalized \ninputs and outputs. \nRULE-BASE for Propylene using selected inputs: \nR1: IF (x1 is around 24.6) AND (x2 is around 26.3) \n THEN ( 21 324.0039.0 xxy \u2212+\u2212= )  \nR2: IF (x1 is around 39.0) AND (x2 is around 43.5) \n THEN ( 21 340.077.4615.0 xxy \u2212+\u2212= ) \nR3: IF (x1 is around 46.2) AND (x2 is around 49.5) \n THEN ( 21 450.0090.1679.0 xxy ++\u2212= )  \nR4: IF (x1 is around 45.9) AND (x2 is around 49.9) \n THEN ( 21 032.3570.5340.1 xxy \u2212+\u2212= ) \nR5: IF (x1 is around 36.2) AND (x2 is around 43.5) \n THEN ( 21 065.0320.0002.0 xxy \u2212+\u2212= ) \nR6 IF (x1 is around 31.6) AND (x2 is around 38.7) \n THEN ( 21 129.0366.0007.0 xxy \u2212+\u2212= )  \nThe predictions made by eSensor for the case of Composition \n3 are plotted against real data in Figure 8. Note that this eTS \nbased inferential sensor may also start updating an existing \nfuzzy rule-base that might contain expert knowledge. \nThe numerical results of the precision of eSensor are \nshown in Tables II and III (NDEI:  non-dimensional error \nindex; VAF: variance accounted for with ideal value 100%). \nBoth tests (using all inputs and using selected smaller subset \nof inputs) give a good level of accuracy for all four cases. The \nnumber of fuzzy rules generated is also small and the fuzzy \nsets are linguistically interpretable. Good results demonstrate \nthat eSensor can successfully address the impact of changing \noperating conditions by automatic evolution. \nFrom Table III, one can see that when using fewer inputs \nthe overall accuracy of eSensor can even be improved. This is \ndue to the fact that less important and correlated inputs have \nbeen removed. It is also interesting to note that the number of \nfuzzy rules that have been generated using a smaller optimal \nsubset of inputs is smaller. More importantly, with less inputs \nused, the antecedent part of the fuzzy rules become more \nsuccinct and thus enables the interpretably of the rule-base by \nthe operators and later laboratory analysis. \nV. CONCLUSIONS \nIn this paper an eTS-fuzzy-system-based inferential sensor, \nTABLE II \nRESULT FOR EXPERIMENT USING ALL MEASURED INPUTS \n Comp1 Comp2 Comp3 Propylene \nNDEI 0.301 0.327 0.423 0.187 \nVAF, % 90.98 89.41 82.07 96.51 \n# Rules 4 4 5 6 \n# Features 6 47 47 23 \n \n \nFig. 7 Evolution of the fuzzy rule base of eSensor for Composition 3 \nFig. 8 Prediction of eSensor versus real data for composition 3 \n45\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n  \n \neSensor was described and applied to four test problems from \nchemical process industry. The proposed inferential sensor is \nself-developing and self-calibrating. It proved to be efficient \nto automatically detect shifts in the data pattern and to flexibly \nevolve its structure of fuzzy rules that is also linguistically \ninterpretable. It is an effective alternative to the currently \nexisting inferential (\u2018soft\u2019) sensors that offers lower \nmaintenance and life-cycle costs. GP was used to pre-select \nthe optimal small number of inputs. The future research is \ndirected towards development and incorporation of online \ninputs selection in the process of the evolving inferential \nsensor. \nVI. APPENDIX \nA brief outline of the basic procedure used by eSensor, eTS \nis given here. More details can be found in [10,11]. eSensor \ndevelops and uses a fuzzy rule-based TS fuzzy model (in \ngeneral it can be MIMO) as the one described in Figure 7. One \ncan use a concise mathematical expression in a vector form: \n( )\n( )\n( ) \uf8fa\uf8fa\n\uf8fa\n\uf8fa\n\uf8fa\n\uf8fb\n\uf8f9\n\uf8ef\n\uf8ef\n\uf8ef\n\uf8ef\n\uf8ef\n\uf8f0\n\uf8ee\n\u22c5=\nTN\nT\nT\nTNTT xxxy\n\u03b8\n\u03b8\n\u03b8\n\u03bb\u03bb\u03bb\nL\nL\n2\n1\n21 ][       (A1) \nwhere i\u03b8 denotes the vector of consequent parameter of \nthe ith fuzzy rule; i\u03bb , i=[1,N]; is the normalized firing level \nof ith local fuzzy rule; \n\u2211\n=\n= N\nj\nj\ni\ni\n1\n\u03c4\n\u03c4\u03bb ; N is the number of fuzzy \nrules; )(\n1 j\ni\nj\nn\nj\ni\nx\u00b5\u03c4\n=\n\u03a4=  is the overall firing level of ith  rule \nwhich can be determined by a t-norm (usually product \noperator); ( )\n\u2211\n=\n=\n\u2212\n\u2212\nn\nj ij\ni\njj xx\ni e\n1\n2\n2*\n2\n)(\n\u03c3\u00b5 is the membership \nfunction of the ith  rule usually described by a Gaussian; *ijx  is \nthe focal point of ith fuzzy rule which defines its antecedent \npart; ij\u03c3  represents the spread of Gaussian function for jth \nfuzzy sets, which can be learned from the data distributions \n[11] by ( ) ( ) \u2211\n=\n\u2212\n\u2212\u2212+=\ni\nkn\nl\njl\ni\ni\nk\ni\nkj\ni\njk zz\nn 1\n2\n*2\n)1(\n2 1)1( \u03c1\u03c3\u03c1\u03c3  11 =ij\u03c3 ; \n\u03c1  is the learning rate (suggested value 0.5); ikn denotes the \nsupport of the ith rule, which is calculated on the numbers \nassigned to the rule based on the distance to the focal point. \nREFERENCES \n[1] L. Fortuna, S. Graziani, A. Rizzo, M. G. Xibilia, Soft Sensor for \nMonitoring and Control of Industrial Processes, In Advances in \nIndustrial Control Series (M. J. Grimble, M.A. Johnson Eds.), Springer \nVerlag: Berlin, Germany, 2007. \n[2] A. Kordon and G. Smits, Soft Sensor Development Using Genetic \nProgramming, Proceedings of GECCO\u20192001, pp. 1346 \u2013 1351, 2001. \n[3] J. J. Macias-Hernandez, P. Angelov, X. Zhou, Soft Sensor for Crude Oil \nDistillation Side Streams using Takagi Sugeno Evolving Fuzzy \nModels, Proc. 2007 IEEE Intern. Conf. on Systems, Man, and \nCybernetics, 7-10 Oct., 2007, Montreal, Canada, ISBN \n1-4244-0991-8\/07, pp.3305-3310.  \n[4] W. Yan, H. Shao, X. Wang, Soft sensing modeling based on support \nvector machine and Bayesian model selection, Computers and \nChemical Engineering, Vol. 28, pp.1489-1498. \n[5] L. Chen, O. Bernard, G. Bastin, P. Angelov, Hybrid Modelling of \nBiotechnological Processes using Neural Networks, Control \nEngineering Practice, vol.8, No7, 2000, pp.821-827. \n[6] R. Rallo, J. Ferre-Gine, A. Arena, F. Giralt, Neural virtual sensor for the \ninferential prediction of product quality from process variables, \nComputers and Chemical Engineering, Vol. 26, pp.1735-1754. \n[7] V. N. Vapnik, The Statistical Learning Theory, Springer, 1998. \n[8] J. Koza, Genetic Programming: On the Programming of Computers by \nMeans of Natural Selection, MIT Press, Cambridge, MA, 1992 \n[9] P. Angelov, Evolving Rule-based Models: A Tool for Design of \nFlexible Adaptive Systems. Heidelberg, Germany: Springer-Verlag, \n2002. \n[10] P. Angelov, D. Filev, \"An approach to on-line identification of evolving \nTakagi-Sugeno models\", IEEE Trans. on Systems, Man and \nCybernetics, part B, vol.34, No1, pp. 484-498, 2004. \n[11] P. Angelov,  X. Zhou, Evolving fuzzy systems from data streams in \nreal-time, Proc. 2006 International Symposium on Evolving Fuzzy \nSystems, 7-9 September, 2006, Ambleside, Lake District, UK, IEEE \nPress, pp.29-35, ISBN 0-7803-9719-3. \n[12] R. Babuska, Fuzzy Modeling for Control, PhD thesis, Technical \nUniversity of Delft, The Netherlands, 1997. \n[13] P. Angelov, C. Xydeas, D. Filev, On-line identification of MIMO \nevolving Takagi-Sugeno fuzzy models, Intern. Joint Conf. on Neural \nNetworks and Intern. Conf. on Fuzzy Systems, IJCNN-FUZZ-IEEE, \nBudapest, Hungary, 25-29 July, 2004, 55-60, ISBN 0-7803-8354-0. \n[14] P. Angelov, X. Zhou, E. Lughofer, D. Filev, Architectures of Evolving \nFuzzy Rule-based Classifiers, Proc. 2007 IEEE International \nConference on Systems, Man, and Cybernetics, 7-10 October, 2007, \nMontreal, Canada, ISBN 1-4244-0991-8\/07, pp.2050-2055.  \n[15] A. Kordon, G. Smits, A. Kalos, and E. Jordaan, Robust Soft Sensor \nDevelopment Using Genetic Programming, In Nature-Inspired \nMethods in Chemometrics,(R. Leardi-Ed.),pp. 69\u2013108, Elsevier, \nAmsterdam, Holland, 2003. \n[16] G. Smits, M. Kotanchek, Pareto-Front Exploitation Symbolic \nRegression, In Genetic Programming Theory and Practice II, U.M \nO\u2019Reilly, T. Yu, R. Riolo, B. Worzel (Eds), Springer, NY, USA, pp. \n283-300, 2004. \n[17] G. Smits, A. Kordon, E. Jordaan . C. Vladislavleva, and M. Kotanchek, \nVariable Selection in Industrial Data Sets Using Pareto Genetic \nProgramming,  In: Yu T., Riolo, R. and  Worzel, B. (eds): Genetic \nProgramming Theory and Practice III. Springer, NY, pp. 79 - 92, \n2006.  \nTABLE III \nRESULT FOR EXPERIMENT USING SELECTED INPUTS \n Comp1 Comp2 Comp3 Propylene \nNDEI 0.333 0.254 0.419 0.141 \nVAF, % 89.22 95.79 82.91 98.00 \n# Rules 2 3 4 6 \n# Features 2 2 7 2 \n \n46\nAuthorized licensed use limited to: IEEE Xplore. Downloaded on October 29, 2008 at 10:17 from IEEE Xplore.  Restrictions apply.\n"}