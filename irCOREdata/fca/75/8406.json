{"doi":"10.1007\/3-540-46037-3_7","coreId":"8406","oai":"oai:eprints.brighton.ac.uk:3278","identifiers":["oai:eprints.brighton.ac.uk:3278","10.1007\/3-540-46037-3_7"],"title":"Corresponding regions in Euler diagrams","authors":["Howse, John","Stapleton, Gem","Flower, Jean","Taylor, John"],"enrichments":{"references":[{"id":42747512,"title":"Collected Papers,","authors":[],"date":"1933","doi":"10.1038\/131639b0","raw":"C. Peirce. Collected Papers, volume Vol. 4. Harvard Univ. Press, 1933.","cites":null},{"id":42747516,"title":"Comparing regions in spider diagrams. Available at www.it.brighton.ac.uk\/research\/vmg\/papers.html.","authors":[],"date":null,"doi":null,"raw":"G. Stapleton. Comparing regions in spider diagrams. Available at www.it.brighton.ac.uk\/research\/vmg\/papers.html.","cites":null},{"id":42747501,"title":"Constraint trees.","authors":[],"date":"2002","doi":"10.1007\/3-540-45669-4_12","raw":"S. Kent and J. Howse. Constraint trees. In A. Clark and J. Warner, editors, Advances in object modelling with ocl. Spinger Verlag, to appear, 2002.","cites":null},{"id":42747498,"title":"Euler\u2019s visual logic.","authors":[],"date":"1998","doi":"10.1080\/01445349808837293","raw":"E. Hammer and S-J Shin. Euler\u2019s visual logic. In History and Philosophy of Logic, pages 1\u201329, 1998.","cites":null},{"id":42747495,"title":"Lettres a une princesse d\u2019allemagne,","authors":[],"date":null,"doi":"10.5962\/bhl.title.16687","raw":"L. Euler. Lettres a une princesse d\u2019allemagne, 1761.","cites":null},{"id":42747497,"title":"Logic and Visual Information.","authors":[],"date":"1995","doi":"10.2307\/2275831","raw":"E. Hammer. Logic and Visual Information. CSLI Publications, 1995.","cites":null},{"id":42747500,"title":"On the completness and expressiveness of spider diagram systems.","authors":[],"date":"2000","doi":"10.1007\/3-540-44590-0_8","raw":"J. Howse, F. Molina, and J. Taylor. On the completness and expressiveness of spider diagram systems. In Proceedings of Diagrams 2000, pages 26\u201341. SpringerVerlag, 2000.","cites":null},{"id":42747517,"title":"On the diagrammatic and mechanical representation of propositions and reasonings.","authors":[],"date":null,"doi":"10.1080\/14786448008626877","raw":"J. Venn. On the diagrammatic and mechanical representation of propositions and reasonings. Phil.Mag, 1880.","cites":null},{"id":42747499,"title":"On visual formalisms. In","authors":[],"date":"1998","doi":"10.1145\/42411.42414","raw":"D. Harel. On visual formalisms. In J. Glasgow, N. H. Narayan, and B. Chandrasekaran, editors, Diagrammatic Reasoning, pages 235\u2013271. MIT Press, 1998.","cites":null},{"id":42747503,"title":"Reasoning with extended Venn-Peirce diagrammatic systems.","authors":[],"date":"2001","doi":null,"raw":"F. Molina. Reasoning with extended Venn-Peirce diagrammatic systems. PhD thesis, University of Brighton, 2001.","cites":null},{"id":42747511,"title":"specification, version 1.3. Available from www.omg.org.","authors":[],"date":null,"doi":null,"raw":"OMG. UML specification, version 1.3. Available from www.omg.org.","cites":null},{"id":42747513,"title":"The Logical Status of Diagrams.","authors":[],"date":"1994","doi":"10.1017\/cbo9780511574696","raw":"S.-J. Shin. The Logical Status of Diagrams. Cambridge University Press, 1994.","cites":null},{"id":42747496,"title":"Towards a formalization of constraint diagrams.","authors":[],"date":"2001","doi":"10.1109\/hcc.2001.995241","raw":"J. Gil, J. Howse, and S. Kent. Towards a formalization of constraint diagrams. In Proc Symp on Human-Centric Computing. IEEE Press, Sept 2001.","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2002-01-01","abstract":"Euler diagrams use topological properties to represent set-theoretical concepts and thus are `intuitive' to some people. When reasoning with Euler diagrams, it is essential to have a notion of correspondence among the regions in different diagrams. At the semantic level, two regions correspond when they represent the same set. However, we wish to construct a purely syntactic definition of corresponding regions, so that reasoning can take place entirely at the diagrammatic level. This task is interesting in Euler diagrams because some regions of one diagram may be missing from another. We construct the correspondence relation from `zones' or minimal regions, introducing the concept of `zonal regions' for the case in which labels may differ between diagrams. We show that the relation is an equivalence relation and that it is a generalization of the counterpart relations introduced by Shin and Hammer","downloadUrl":"","fullTextIdentifier":null,"pdfHashValue":null,"publisher":"Springer-Verlag","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.brighton.ac.uk:3278<\/identifier><datestamp>\n      2015-04-20T15:46:30Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D47303030<\/setSpec><setSpec>\n      74797065733D636F6E666572656E63655F6974656D<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:relation>\n    \n      \n        http:\/\/eprints.brighton.ac.uk\/3278\/<\/dc:relation><dc:title>\n        Corresponding regions in Euler diagrams<\/dc:title><dc:creator>\n        Howse, John<\/dc:creator><dc:creator>\n        Stapleton, Gem<\/dc:creator><dc:creator>\n        Flower, Jean<\/dc:creator><dc:creator>\n        Taylor, John<\/dc:creator><dc:subject>\n        G000 Computing and Mathematical Sciences<\/dc:subject><dc:description>\n        Euler diagrams use topological properties to represent set-theoretical concepts and thus are `intuitive' to some people. When reasoning with Euler diagrams, it is essential to have a notion of correspondence among the regions in different diagrams. At the semantic level, two regions correspond when they represent the same set. However, we wish to construct a purely syntactic definition of corresponding regions, so that reasoning can take place entirely at the diagrammatic level. This task is interesting in Euler diagrams because some regions of one diagram may be missing from another. We construct the correspondence relation from `zones' or minimal regions, introducing the concept of `zonal regions' for the case in which labels may differ between diagrams. We show that the relation is an equivalence relation and that it is a generalization of the counterpart relations introduced by Shin and Hammer.<\/dc:description><dc:publisher>\n        Springer-Verlag<\/dc:publisher><dc:date>\n        2002-01-01<\/dc:date><dc:type>\n        Contribution to conference proceedings in the public domain<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:identifier>\n          Howse, John, Stapleton, Gem, Flower, Jean and Taylor, John  (2002) Corresponding regions in Euler diagrams  In: Diagrammatic Representation and Inference, Second International Conference, Diagrams 2002, Callaway Gardens, GA, USA, April 18-20, 2002.     <\/dc:identifier><dc:relation>\n        http:\/\/link.springer.com\/chapter\/10.1007%2F3-540-46037-3_7<\/dc:relation><dc:relation>\n        10.1007\/3-540-46037-3_7<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/eprints.brighton.ac.uk\/3278\/","http:\/\/link.springer.com\/chapter\/10.1007%2F3-540-46037-3_7","10.1007\/3-540-46037-3_7"],"year":2002,"topics":["G000 Computing and Mathematical Sciences"],"subject":["Contribution to conference proceedings in the public domain","PeerReviewed"],"fullText":"Corresponding Regions in Euler Diagrams\nJohn Howse, Gemma Stapleton, Jean Flower, and John Taylor\nSchool of Computing & Mathematical Sciences\nUniversity of Brighton, Brighton, UK\n{John.Howse,G.E.Stapleton,J.A.Flower,John.Taylor}@bton.ac.uk\nhttp:\/\/www.it.bton.ac.uk\/research\/vmg\/VisualModellingGroup.html\nAbstract. Euler diagrams use topological properties to represent set-\ntheoretical concepts and thus are \u2018intuitive\u2019 to some people. When rea-\nsoning with Euler diagrams, it is essential to have a notion of correspon-\ndence among the regions in different diagrams. At the semantic level,\ntwo regions correspond when they represent the same set. However, we\nwish to construct a purely syntactic definition of corresponding regions,\nso that reasoning can take place entirely at the diagrammatic level. This\ntask is interesting in Euler diagrams because some regions of one diagram\nmay be missing from another. We construct the correspondence relation\nfrom \u2018zones\u2019 or minimal regions, introducing the concept of \u2018zonal regions\u2019\nfor the case in which labels may differ between diagrams. We show that\nthe relation is an equivalence relation and that it is a generalization of\nthe counterpart relations introduced by Shin and Hammer.\n1 Introduction\nEuler diagrams [1] illustrate relations between sets. This notation uses topo-\nlogical properties of enclosure, exclusion and intersection to represent the set-\ntheoretic notions of subset, disjoint sets, and intersection, respectively. The dia-\ngram d2 in figure 1 is an Euler diagram with interpretation A is disjoint from B.\nVenn [13] adapted Euler\u2019s notation to produce a system of diagrams represent-\ning logical propositions. In a Venn diagram all intersections between contours\nmust occur. The diagram d1 in figure 1 is a Venn diagram. Some extensions of\nEuler diagrams allow shading, as in Venn diagrams, but since we are interested\nin a syntactic correspondence between regions shading is irrelevant. Thus we\ntreat Venn diagrams as a special case of Euler diagrams, and ignore shading.\nPeirce [10] extended Venn\u2019s notation to include existential quantification and\ndisjunctive information.\nShin [11] developed sound and complete reasoning rules for a system of Venn-\nPeirce diagrams. This work was seminal in that the rules were stated at the\ndiagrammatic level and all reasoning took place at that level. This was the\nfirst complete formal diagrammatic reasoning system; until then diagrammatic\nreasoning was a mixture of informal reasoning at the diagrammatic level and\nformal (and informal) reasoning at the semantic level. Hammer [3] developed\na sound and complete set of reasoning rules for a simple Euler system; it only\nconsidered inferences from a single diagram and contained only three reasoning\nrules.\nIn order to compare regions in different diagrams, Shin and Hammer de-\nveloped counterpart relations [4, 11]. This paper considers an alternative, but\nrelated, approach to these counterpart relations and generalizes it to comparing\nregions in Euler diagrams. The solution of this problem is very important in\nextending diagrammatic reasoning to systems which have practical applications.\nEuler diagrams form the basis of more expressive diagrammatic notations such as\nHigraphs [5] and constraint diagrams [2], which have been developed to express\nlogical properties of systems. These notations are used in the software develop-\nment process, particularly in the modelling of systems and frequently as part\nof, or in conjunction with, UML [9]. Indeed, some of the notations of UML are\nbased on Euler diagrams. The development of software tools to aid the software\ndevelopment process is very important and it is essential that such tools work at\nthe diagrammatic level and not at the underlying semantic level so that feedback\nis given to developers in the notations that they are using and not in some math-\nematical notation that the developers may find difficult to understand. Thus it\nis necessary to construct a purely syntactic definition of corresponding regions\nacross diagrams.\nThe task of defining such a correspondence relation is interesting, and very\nmuch non-trivial, in Euler diagrams because some regions of one diagram may\nbe missing from another. For example, in figure 1 the region within the contours\nA and B in d1 is missing from d2. Diagram d1 asserts that A \u2229 B may or may\nnot be empty, whereas d2 asserts that A \u2229 B = \u2205. What are the corresponding\nregions in this case?\nU UA A B\nC\nB\nd1 d2\nFig. 1. A Venn diagram and an Euler diagram.\nIn \u00a72 we give a concise informal description of Euler diagrams and a formal\ndefinition of its syntax. In \u00a73 we define the correspondence relation between re-\ngions in the more straightforward case of Venn diagrams. In \u00a74 we discuss the\nproblems of defining corresponding regions in Euler diagrams and in the par-\nticularly difficult case of a system involving the disjunction of diagrams, before\ngiving a general definition of the correspondence relation and showing that it is\nan equivalence relation. We then show, in \u00a75, that it is a generalization of the\ncounterpart relations developed by Shin and Hammer.\n2 Syntax of Euler Diagrams\nWe now give a concise informal description of Euler diagrams. A contour is\na simple closed plane curve. A boundary rectangle properly contains all other\ncontours. Each contour has a unique label. A district (or basic region) is the\nbounded area of the plane enclosed by a contour or by the boundary rectangle.\nA region is defined, recursively, as follows: any district is a region; if r1 and r2\nare regions, then the union, intersection and difference of r1 and r2 are regions\nprovided these are non-empty. A zone (or minimal region) is a region having no\nother region contained within it. Contours and regions denote (possibly empty)\nsets. Every region is a union of zones. In figure 2 the zone within A, but outside B\nis missing from the diagram; the set denoted by such a \u201cmissing\u201d zone is empty.\nAn Euler diagram containing all possible zones is called a Venn diagram.\nU\nB\nA\nFig. 2. An Euler diagram.\nGiven two diagrams we can connect them with a straight line to produce a\ncompound diagram [6]. This connection operation is interpreted as the disjunc-\ntion of the connected diagrams. A multi-diagram is a collection of compound\ndiagrams and is interpreted as the conjunction of the compound diagrams. In\nthis system a multi-diagram is in conjunctive normal form (cf. Shin\u2019s Venn II\nsystem [11]). In figure 3 diagrams d1 and d2 are to be taken in disjunction, thus\n{d1, d2} is a compound diagram, as is {d3} (any unitary diagram is a compound\ndiagram); the diagram {{d1, d2}, {d3}} is a multi-diagram.\nU U\nA A B\nUC\nd1 d2 d3\nFig. 3. Two compound diagrams.\nA unitary Euler diagram is a tuple d = \u3008L,U,Z\u3009 = \u3008L(d), U(d), Z(d)\u3009 whose\ncomponents are defined as follows:\n1. L is a finite set whose members are called contours. The element U , which\nis not a member of L, is called the boundary rectangle.\n2. The set Z \u2286 PL is the set of zones. A zone z \u2208 Z is incident on a contour\nc \u2208 L if c \u2208 z. Let R = PZ \u2212 \u2205 be the set of regions.\nIf Z = PL, d is a Venn diagram. At this level of abstraction we identify a\ncontour and its label. A zone is defined by the contours that contain it and\nis thus represented as a set of contours. The set of labels of a zone, z, is thus\nL(z) = z. A region is just a non-empty set of zones. The Euler diagram d in\nfigure 2 has L(d) = {A,B} and Z(d) = {\u2205, {B}, {A,B}}.\nA compound diagram, D, is a finite set of unitary diagrams taken in disjunc-\ntion. A multi-diagram, \u2206, is a finite set of compound diagrams taken in conjunc-\ntion [6]. The set of labels of a compound diagram, D, is L(D) =\n\u22c3\nd\u2208D\nL(d). The\nset of labels of a multi-diagram, \u2206, is L(\u2206) =\n\u22c3\nD\u2208\u2206\nL(D). In figure 3\nL({{d1, d2}, {d3}}) = {A,B,C}.\n3 Venn Diagrams\nWe will identify corresponding regions across Venn diagrams that do not neces-\nsarily have the same label sets. As an example, region {z1, z2, z3, z4} in d1 and\nregion {z5, z6} in d2 in figure 4 are corresponding. We introduce the concept of\na zonal region in order to identify this formally. Intuitively a zonal region is a\nregion that becomes a zone when contours are removed. This is illustrated in\nfigure 4. The contour with label C is removed and region {z1, z2} becomes a\nzone, {z5}, in the second diagram.\nz1\nz5 z6\nz3\nz2 z4\nU U\nA A BB\nC\nErase C\nd1 d2\nFig. 4. Two Venn diagrams with different label sets.\n3.1 Zonal Regions and Splits\nIn figure 4, consider how we might describe or identify the region {z1, z2}. Infor-\nmally, it has description \u2018everything inside A but outside B\u2019. Thus we associate\n{z1, z2} with an ordered pair of sets, {A} and {B}, which we shall write as\n\u3008{A}, {B}\u3009. Similarly the region {z1} is associated with \u3008{A}, {B,C}\u3009, intu-\nitively meaning \u2018everything inside A, but outside B and C\u2019. In order to define\nzonal regions formally, and to allow us to compare regions across diagrams, we\nintroduce the notion of a \u2018split\u2019.\nDefinition 1. A split is a pair of sets, \u3008P,Q\u3009, such that P\u2229Q = \u2205; if P\u222aQ \u2286 X\nthen \u3008P,Q\u3009 is said to be a split on X.\nAddition is defined on splits with the following axioms:\n1. \u3008P1, Q1\u3009 = \u3008P2, Q2\u3009 \u21d4 P1 = P2 \u2227Q1 = Q2\n2. \u2200A 6\u2208 P \u222aQ, \u3008P,Q\u3009 = \u3008P \u222a {A}, Q\u3009+ \u3008P,Q \u222a {A}\u3009\n3.\n\u2211n\ni=1\u3008Pi, Qi\u3009 =\n\u2211m\nj=1\u3008Rj , Sj\u3009 if \u2200 i\u2203 j \u2022 \u3008Pi, Qi\u3009 = \u3008Rj , Sj\u3009 and \u2200 j \u2203 i \u2022\n\u3008Rj , Sj\u3009 = \u3008Pi, Qi\u3009\nLemma 1. Addition is commutative and associative. Each element is idempo-\ntent. If \u3008P,Q\u3009 is a split and S is a finite set such that (P \u222aQ) \u2229 S = \u2205 then\n\u3008P,Q\u3009 =\n\u2211\nW\u2286S\n\u3008P \u222aW,Q \u222a (S \u2212W )\u3009\nThis lemma follows from axioms 2 and 3. The last part of the lemma generalizes\naxiom 2 and is illustrated below.\n\u3008{A}, {B}\u3009 =\n\u2211\nW\u2286{C,D}\n\u3008{A} \u222aW, {B} \u222a ({C,D} \u2212W )\u3009\n= \u3008{A}, {B,C,D}\u3009+ \u3008{A,D}, {B,C}\u3009+\n\u3008{A,C}, {B,D}\u3009+ \u3008{A,C,D}, {B}\u3009\nDefinition 2. For unitary Venn diagram d, let \u3008P,Q\u3009 be a split on L(d) . Then\nthe zonal region associated with \u3008P,Q\u3009 is\n{z \u2208 Z(d) : P \u2286 L(z) \u2227Q \u2286 L(z)}\nwhere L(z) = L(d)\u2212 L(z), [8].\nz1\nz4\nz2\nz3\nUA B\nC\nD\nd\nFig. 5. Venn-4.\nIn figure 5, zonal regions {z1}, {z2}, {z3} and {z4} are associated with \u3008{A},\n{B,C,D}\u3009, \u3008{A,D}, {B,C}\u3009, \u3008{A,C,D}, {B}\u3009 and \u3008{A,C, }, {B,D}\u3009. The zonal\nregion {z1, z2, z3, z4} is associated with \u3008{A}, {B}\u3009. We have {A} = L(z1) \u2229\nL(z2) \u2229 L(z3) \u2229 L(z4) and {B} = L(z1) \u2229 L(z2) \u2229 L(z3) \u2229 L(z4).\nLemma 2. For any unitary Venn diagram d, if a zonal region zr is associated\nwith \u3008P,Q\u3009 then P = \u22c2\nz\u2208zr\nL(z) and Q =\n\u22c2\nz\u2208zr\nL(z).\nHence each zonal region is associated with a unique split. There is a parallel\nbetween axiom 2, \u3008P,Q\u3009 = \u3008P \u222a {A}, Q\u3009+ \u3008P,Q \u222a {A}\u3009, and lemma 3 below.\nLemma 3. The split rule. Let zr be a zonal region of unitary Venn diagram d.\nIf zr is associated with \u3008P,Q\u3009 and A \u2208 L(d)\u2212 (P \u222aQ) then zr = zr1\u222a zr2 where\nzr1 and zr2 are zonal regions associated with \u3008P \u222a {A}, Q\u3009 and \u3008P,Q \u222a {A}\u3009\nrespectively.\nFor example, consider the diagram in figure 6. Zonal regions zr1 = {z2, z4, z5, z6},\nzr2 = {z2, z4} and zr3 = {z5, z6} are associated with \u3008{B}, \u2205\u3009, \u3008{A,B}, \u2205\u3009 and\n\u3008{B}, {A}\u3009 respectively. From the split rule zr1 = zr2 \u222a zr3 and from axiom 2,\n\u3008{B}, \u2205\u3009 = \u3008{A,B}, \u2205\u3009+ \u3008{B}, {A}\u3009.\nInformally, this is splitting zr1 into the part contained in A and the part excluded\nfrom A. A more general version of the split rule now follows.\nz1 z5z2\nz3 z6\nz4\nU\nA B\nC\nd\nFig. 6. Venn-3.\nCorollary 1. The derived split rule. If zr is a zonal region of unitary Venn\ndiagram d associated with \u3008P,Q\u3009 and S \u2286 L(d)\u2212 (P \u222aQ) then\nzr =\n\u22c3\nW\u2286S\nzrW\nwhere zrW is the zonal region associated with \u3008P \u222aW,Q \u222a (S \u2212W )\u3009.\nTaking zr = {z1, z2, z3, z4} to be the zonal region associated with \u3008{A}, \u2205\u3009 in\nfigure 6, using the derived spit rule with S = {B,C} gives\nzr = {z1} \u222a {z2} \u222a {z3} \u222a {z4}\nsince {z1}, {z2}, {z3} and {z4} are associated with \u3008{A}\u222a\u2205, \u2205\u222a{B,C}\u3009, \u3008{A}\u222a\n{B}, \u2205 \u222a {C}\u3009, \u3008{A} \u222a {C}, \u2205 \u222a {B}\u3009 and \u3008{A} \u222a {B,C}, \u2205 \u222a \u2205\u3009 respectively.\nIn general, if we set S = L(d) \u2212 (P \u222a Q) in the lemma above and take zr =\n{z1, z2, ..., zn} we get zr =\nn\u22c3\ni=1\n{zi}.\nNote that the split associated with a zone involves all the labels in the dia-\ngram: {z} is associated with \u3008P,Q\u3009 where P = L(z) and Q = L(z) = L(d)\u2212L(z).\nSince any region is a set of zones, we can use this to define a function, \u03c1, from\nregions to splits.\nDefinition 3. Let d be a unitary Venn diagram.\n(i) If z \u2208 Z(d) then \u03c1({z}) =\n\u2329\nL(z), L(z)\n\u232a\n(ii) If r = {z1, z2, ..., zn} \u2208 R(d) then \u03c1(r) =\n\u2211n\ni=1 \u03c1({zi})\nFor example, in figure 6, \u03c1({z1}) = \u3008{A}, {B,C}\u3009. Under \u03c1 the region {z3, z5, z6}\nmaps to\n\u3008{A,C}, {B}\u3009+ \u3008{B}, {A,C}\u3009+ \u3008{B,C}, {A}\u3009 = \u3008{A,C}, {B}\u3009+ \u3008{B}, {A}\u3009\nLemma 4. Let zr be a zonal region of unitary Venn diagram d associated with\n\u3008P,Q\u3009. Then \u03c1(zr) = \u3008P,Q\u3009.\nThe zonal region {z1, z2, z3, z4} in figure 6 is associated with \u3008{A}, \u2205\u3009 and\n\u03c1({z1, z2, z3, z4}) = \u3008{A}, {B,C}\u3009+ \u3008{A,B}, {C}\u3009+\n\u3008{A,C}, {B}\u3009+ \u3008{A,B,C}, \u2205\u3009\n= \u3008{A}, {C}\u3009+ \u3008{A,C}, \u2205\u3009\n= \u3008{A}, \u2205\u3009\nLemma 4 does not follow over to Euler diagrams, as we shall see in section 4.\nIf we know certain relationships between zonal regions, we can make deductions\nabout their images under \u03c1, and vice versa.\nLemma 5. Let zr1 and zr2 be zonal regions of unitary Venn diagram d. If\n\u03c1(zr1) = \u3008P1, Q1\u3009 and \u03c1(zr2) = \u3008P2, Q2\u3009 then\nzr1 \u2286 zr2 \u21d4 P2 \u2286 P1 \u2227Q2 \u2286 Q1\nIf (P1 \u222a P2) \u2229 (Q1 \u222aQ2) = \u2205 then zr1 \u2229 zr2 = zr3 where\n\u03c1(zr3) = \u3008P1 \u222a P2, Q1 \u222aQ2\u3009\nFrom lemma 5 we can deduce that the zonal region associated with \u3008{A}, \u2205\u3009 in\ndiagram d, figure 6, is not a subset of the zonal region associated with \u3008{B}, \u2205\u3009.\nThe zonal region associated with \u3008{A}, \u2205\u3009 is {z1, z2, z3, z4}. The zonal region\nassociated with \u3008{B}, \u2205\u3009 is {z2, z4, z5, z6} and {z1, z2, z3, z4} * {z2, z4, z5, z6}.\nLemma 5 also tells us the zonal regions associated with \u3008{A}, \u2205\u3009 and \u3008{B}, \u2205\u3009 in-\ntersect to give a zonal region associated with \u3008{A,B}, \u2205\u3009, that is {z1, z2, z3, z4}\u2229\n{z2, z4, z5, z6} = {z2, z4}. We now define correspondence between zonal regions.\nCorresponding zonal regions have the same semantic interpretation.\nDefinition 4. Let zr1 and zr2 be zonal regions of Venn diagrams d1 and d2\nrespectively. Regions zr1 and zr2 are corresponding zonal regions [8], denoted\nzr1 \u2261c zr2, if and only if \u03c1(zr1) = \u03c1(zr2).\nIn figure 4 zonal region {z1, z2} in d1 corresponds to zonal region {z5} in d2 since\n\u03c1({z1, z2}) = \u03c1({z5}) = \u3008{A}, {B}\u3009.\nTheorem 1. The relation \u2261c is an equivalence relation on zonal regions.\n3.2 Corresponding Regions in Venn Diagrams\nThe definition of correspondence is now extended to regions.\nDefinition 5. Let r1 and r2 be a regions of Venn diagrams d1 and d2 respec-\ntively. Regions r1 and r2 are corresponding regions [8], denoted r1 \u2261c r2, if\nand only if \u03c1(r1) = \u03c1(r2).\nAt the semantic level, corresponding regions represent the same set [6]. In figure\nz1\nz5 z6\nz3\nz2 z4\nU U\nA A BB\nC\nd1 d2\nFig. 7. Two Venn diagrams.\n7, region r1 = {z1, z2, z3, z4} in diagram d1 has\n\u03c1(r1) = \u3008{A}, {B,C}\u3009+ \u3008{A,C}, {B}\u3009+ \u3008{B}, {A,C}\u3009+ \u3008{B,C}, {A}\u3009\nRegion r2 = {z5, z6} in diagram d2 has\n\u03c1(r2) = \u3008{A}, {B}\u3009+ \u3008{B}, {A}\u3009\nUsing axiom 2, \u3008P,Q\u3009 = \u3008P \u222a {A}, Q\u3009+ \u3008P,Q \u222a {A}\u3009, we obtain\n\u3008{A}, {B}\u3009+ \u3008{B}, {A}\u3009 =\n\u3008{A}, {B,C}\u3009+ \u3008{A,C}, {B}\u3009+ \u3008{B}, {A,C}\u3009+ \u3008{B,C}, {A}\u3009\nThus r1 \u2261c r2.\nTheorem 2. The relation \u2261c is an equivalence relation on regions.\nProofs for some of the results in this section can be found in [12]. Ideally,\nwe want to be able to reason with diagrams that are Euler diagrams. The focus\nof this paper now turns to diagrams of this nature. Of the definitions related\nto Venn diagrams, 2 and 3 carry over to Euler diagrams. Also lemma 3 and\ncorollary 1 apply to Euler diagrams.\n4 Euler Diagrams\nIn this section we investigate problems related to zonal regions and their asso-\nciated splits in Euler diagrams. It is no longer necessarily true that, for a zonal\nregion zr associated with \u3008P,Q\u3009, \u03c1(zr) = \u3008P,Q\u3009 because the associated \u3008P,Q\u3009\nis no longer unique. In figure 8, the zonal region {z1} is associated with both\n\u3008{A}, \u2205\u3009 and \u3008{A}, {B}\u3009 but \u03c1({z1}) = \u3008{A}, {B}\u3009 6= \u3008{A}, \u2205\u3009. Thus lemma 4\nfails. However, we can think of \u3008{A}, \u2205\u3009 and \u3008{A}, {B}\u3009 as being \u2018equivalent\nin the context of d\u2019 because \u3008{A}, \u2205\u3009 = \u3008{A,B}, \u2205\u3009 + \u3008{A}, {B}\u3009 and the zone\ncorresponding to \u3008{A,B}, \u2205\u3009 is \u2018missing\u2019 from the diagram.\nz1\nU\nA B\nd\nFig. 8. An Euler diagram with a missing zonal region.\nIn some diagrams there may be a split on L(d) with no zonal region associated\nwith it. There is no zonal region associated with \u3008{A,B}, \u2205\u3009, in diagram d, in\nfigure 8. Informally, in our \u2018algebra of splits\u2019 we can think of \u3008{A,B}, \u2205\u3009 as\nrepresenting zero. If we allow this, we see that\n\u03c1({z1}) = \u3008{A}, {B}\u3009\n= \u3008{A}, {B}\u3009+ \u3008{A,B}, \u2205\u3009\n= \u3008{A}, \u2205\u3009\nWe have here the idea of equality in the context of a diagram.\nDefinition 6. The context of unitary diagram d, denoted \u03c7(d), is\n\u03c7(d) = {\u3008P,Q\u3009 : P \u2208 PL(d)\u2212 Z(d) \u2227Q = L(d)\u2212 P}\nIf \u3008P,Q\u3009 \u2208 \u03c7(d) then \u3008P,Q\u3009 is zero in the context of d, denoted \u3008P,Q\u3009 =d 0.\nUA\nB C\nd\nFig. 9. A unitary Euler diagram.\nThe diagram in figure 9 has Z(d) = {\u2205, {A}, {A,B}, {C}}, so\n\u03c7(d) = {\u3008{B}, {A,C}\u3009, \u3008{A,C}, {B}\u3009, \u3008{B,C}, {A}\u3009, \u3008{A,B,C}, \u2205\u3009}\ncorresponding to the four zones that are present in the Venn diagram with labels\n{A,B,C} but are missing in d.\nLemma 6. If d is a unitary Venn diagram \u03c7(d) = \u2205.\nU U\nAA B B\nd1 d2\nFig. 10. Two Euler diagrams.\nWhen considering more than one diagram, we need to take care when deciding\nwhat is the context. Considering diagrams d1 and d2, figure 10, in conjunction\nwe may deduce that \u3008{A,B}, \u2205\u3009 is zero in context, since\n{z \u2208 Z(d1) : {A,B} \u2286 L(z) \u2227 \u2205 \u2286 L(z)} = \u2205\nAt the semantic level, the sets represented by the contours labelled A and B are\ndisjoint. Thus we would want the zonal region associated with \u3008{A}, \u2205\u3009 in d2 to\ncorrespond to that associated with \u3008{A}, {B}\u3009, also in d2. However if we were to\ntake the diagrams in disjunction, we cannot deduce that the sets represented by\nthe contours labelled A and B are disjoint. Thus we would not want \u3008{A,B}, \u2205\u3009\nto be zero. In the disjunctive case it is incorrect for \u03c1({z1}) = \u3008{A}, \u2205\u3009.\nIn order to define the context of compound and multi-diagrams we first define\na function \u03b6\u03b4, called zonify, from splits on L(\u03b4) to sets of splits on L(\u03b4), where\n\u03b4 is a unitary, compound or multi-diagram,\n\u03b6\u03b4(\u3008P,Q\u3009) = {\u3008Pi, Qi\u3009 : P \u2286 Pi \u2227Qi = L(\u03b4)\u2212 Pi}\nThe zonify function delivers the set of splits corresponding to the zones that are\nelements of the zonal region associated with \u3008P,Q\u3009 in the Venn diagram with\nlabels L(\u03b4). Taking \u2206 = {{d1, d2}, {d3}} in figure 11,\n\u03b6\u2206(\u3008{A}, {B}\u3009) = {\u3008{A}, {B,C}\u3009, \u3008{A,C}, {B}\u3009}\nConsider the compound diagram D = {d1, d2} in figure 12. The shaded zones\nU U\nA A C\nU\nC\nB A B\nd1 d2 d3\nFig. 11. A multi-diagram.\nin the Venn diagram, d, with L(d) = L(D), represent those sets we can deduce\nempty at the semantic level. Each of these shaded zones is associated with a\nsplit that partitions L(D).\nU U UA\nD\nB\nC\nA B B A\nC\nD\nd1 d2 d\nFig. 12. A compound diagram and a Venn diagram.\nDefinition 7. Let D be a compound diagram. The context of D is defined to\nbe\n\u03c7(D) =\n\u22c2\nd\u2208D\n\uf8eb\uf8ed \u22c3\n\u3008P,Q\u3009\u2208\u03c7(d)\n\u03b6D(\u3008P,Q\u3009)\n\uf8f6\uf8f8\nIf \u3008P,Q\u3009 \u2208 \u03c7(D) then \u3008P,Q\u3009 is zero in the context of D, denoted \u3008P,Q\u3009 =D 0.\nThe context of {d1, d2} in figure 13 is \u03c7({d1, d2}) = \u2205, since \u03c7(d2) = \u2205. The\ncontexts of diagrams d3 and d4 are\n\u03c7(d3) = {\u3008{A}, {B}\u3009}\n\u03c7(d4) = {\u3008{A,C}, {B}\u3009, {\u3008{A}, {B,C}\u3009}\nz1 z2\nz3\nU U\nA AB\nU U\nB\nAB\nA\nC\nd1 d2\nd3 d4\nFig. 13. A multi-diagram containing two compound diagrams.\nWe use the zonify function to find \u03c7({d3, d4}).\n\u03c7({d3, d4}) =\n\uf8eb\uf8ed \u22c3\n\u3008P,Q\u3009\u2208\u03c7(d3)\n\u03b6D(\u3008P,Q\u3009)\n\uf8f6\uf8f8 \u2229\n\uf8eb\uf8ed \u22c3\n\u3008P,Q\u3009\u2208\u03c7(d4)\n\u03b6D(\u3008P,Q\u3009\n\uf8f6\uf8f8\n= {\u3008{A,C}, {B}\u3009, \u3008{A}, {B,C}\u3009} \u2229\n({\u3008{A,C}, {B}\u3009} \u222a {\u3008{A}, {B,C}\u3009})\n= {\u3008{A,C}, {B}\u3009, \u3008{A}, {B,C}\u3009}\nDefinition 8. Let \u2206 be a multi-diagram. The context of \u2206 is defined to be\n\u03c7(\u2206) =\n\u22c3\nD\u2208\u2206\n\uf8eb\uf8ed \u22c3\n\u3008P,Q\u3009\u2208\u03c7(D)\n\u03b6\u2206(\u3008P,Q\u3009)\n\uf8f6\uf8f8\nIf \u3008P,Q\u3009 \u2208 \u03c7(\u2206) then \u3008P,Q\u3009 is zero in the context of \u2206, denoted \u3008P,Q\u3009 =\u2206 0.\nThe context of \u2206 = {{d1, d2}, {d3, d4}} in figure 13 is\n\u03c7(\u2206) = {\u3008{A,C}, {B}\u3009, \u3008{A}, {B,C}\u3009}\nTherefore \u3008{A,C}, {B}\u3009 =\u2206 0 and \u3008{A}, {B,C}\u3009 =\u2206 0.\nDefinition 9. Let \u2206 be a multi-diagram,\n\u2211n\ni=1\u3008Pi, Qi\u3009 and\n\u2211m\nj=1\u3008P \u2032j , Q\u2032j\u3009 be\nsums of splits.\n\u2211n\ni=1\u3008Pi, Qi\u3009 and\n\u2211m\nj=1\u3008P \u2032j , Q\u2032j\u3009 are said to be equal in the\ncontext of \u2206, denoted\n\u2211n\ni=1\u3008Pi, Qi\u3009 =\u2206\n\u2211m\nj=1\u3008P \u2032j , Q\u2032j\u3009, if and only if there\nexists\n\u2211k\ni=1\u3008Ri, Si\u3009 and\n\u2211l\nj=1\u3008R\u2032j , S\u2032j\u3009 such that\u2211n\ni=1\u3008Pi, Qi\u3009 =\n\u2211k\ni=1\u3008Ri, Si\u3009,\n\u2211m\nj=1\u3008P \u2032j , Q\u2032j\u3009 =\n\u2211l\nj=1\u3008R\u2032j , S\u2032j\u3009 and\n\u2200 i (\u2203 j \u2022 \u3008Ri, Si\u3009 = \u3008R\u2032j , S\u2032j\u3009) \u2228 \u3008Ri, Si\u3009 =\u2206 0 and\n\u2200 j (\u2203 i \u2022 \u3008R\u2032j , S\u2032j\u3009 = \u3008Ri, Si\u3009) \u2228 \u3008R\u2032j , S\u2032j\u3009 =\u2206 0.\nIn figure 13, taking \u2206 = {{d1, d2}, {d3, d4}} we have,\n\u3008{A}, {B}\u3009+ \u3008{B}, {A}\u3009 = \u3008{A,C}, {B}\u3009+ \u3008{A}, {B,C}\u3009+ \u3008{B}, {A}\u3009\n=\u2206 \u3008{B}, {A}\u3009\nDefinition 10. Let \u2206 be a multi-diagram and d1, d2 be unitary diagrams such\nthat d1 \u2208 D1, d2 \u2208 D2 where {D1, D2} \u2286 \u2206. Let r1 and r2 be regions of d1 and\nd2 respectively. Region r1 is said to correspond in the context of \u2206 to region\nr2, denoted r1 \u2261\u2206 r2, if and only if \u03c1(r1) =\u2206 \u03c1(r2).\nCorresponding regions have the same semantic interpretation. Consider regions\nr1 = {z1}, r2 = {z1, z2}, r3 = {z2} and r4 = {z3} in figure 13.\n\u03c1(r1) = \u3008{A}, {B}\u3009 =\u2206 0\n\u03c1(r2) = \u3008{A}, {B}\u3009+ \u3008{B}, {A}\u3009\n=\u2206 \u3008{B}, {A}\u3009\n\u03c1(r3) = \u3008{B}, {A}\u3009\n\u03c1(r4) = \u3008{B}, {A}\u3009\nThus r1 6\u2261\u2206 r2 and r2 \u2261\u2206 r4. Interestingly, we also have r2 \u2261\u2206 r3 (r2 and r3\nare different regions in the same diagram).\nTheorem 3. The relation \u2261\u2206 is an equivalence relation on regions of unitary\ndiagrams contained in \u2206.\n5 The Counterpart Relations of Shin and Hammer\nThe basic idea of the counterpart relation on Venn diagrams is to identify cor-\nresponding basic regions (i.e., the region enclosed by a closed curve) and then\nto recursively define the relation on unions, intersections and complements of\nregions. Shin only defines the counterpart on basic regions and leaves the rest\nimplicit. Hammer defines the relation as follows for Venn diagrams:\nThe counterpart relation is an equivalence relation defined as follows. Two basic\nregions are counterparts if and only if they are both regions enclosed by rectan-\ngles or else both regions enclosed by curves having the same label. If r and r\u2032 are\nregions of diagram D, s and s\u2032 are regions of diagram D\u2032, r is the counterpart\nof s, and r\u2032 is the counterpart of s\u2032, then r \u222a r\u2032 is the counterpart of s \u222a s\u2032 and\nr\u00af is the counterpart of s\u00af.\nThis definition works very well for Venn diagrams where all minimal regions\nmust occur. In figure 14, the two regions enclosed by the rectangles are coun-\nterparts, and so are the two crescent-shaped regions within the circles labelled\nA but outside the circles labelled B; the region within all three curves in the\nU U\nA A BB\nC\nd1 d2\nFig. 14. Two Venn diagrams.\nleft-hand diagram has no counterpart in the other one. The counterpart relation\nis obviously equivalent to the correspondence relation defined in \u00a73.\nHammer defines a counterpart relation on Euler diagrams, but only for dia-\ngrams with the same label set:\nSuppose m and m\u2032 are minimal regions of two Euler diagrams D and D\u2032, respec-\ntively. Thenm andm\u2032 are counterparts if and only if there are curves B1, . . . , Bm\nand Bm+1, . . . , Bn of D and curves B\u20321, . . . , B\n\u2032\nm and B\u2032m+1, . . . , B\n\u2032\nn of D\u2032 such\nthat (1) for each i, 1 \u2264 i \u2264 n, Bi and B\u2032i are tagged by the same label; (2) m is\nthe minimal region within B1, . . . , Bm but outside Bm+1, . . . , Bn; and (3) m\u2032 is\nthe minimal region within B\u20321, . . . , B\n\u2032\nm but outside B\n\u2032\nm+1, . . . , B\n\u2032\nn.\nThis definition is sufficient for Hammer\u2019s purposes, but it only covers a special\ncase of Euler diagrams. Consider the two Euler diagrams in figure 15. Minimal\nregion 1 is the counterpart of minimal region a, 2 is the counterpart of b and\n3 is the counterpart of d. Minimal region c has no counterpart in the left-hand\ndiagram.\n1 a\n2 b dc3\nU U\nA A BB\nd1 d2\nFig. 15. Two Euler diagrams.\nThe correspondence relation defined in \u00a74 agrees with this interpretation\nwhen the context is the disjunction of the two diagrams. It also agrees in the\ncase in which the context is the conjunction of the two diagrams but adds in\nfurther correspondences such as region 2 corresponds with region b \u222a c.\n6 Conclusions and Further Work\nWe have constructed a purely syntactic definition of corresponding regions in\nEuler diagrams and shown it to be an equivalence relation and a generalization of\nthe counterpart relations introduced by Shin and Hammer. At the semantic level,\ntwo corresponding regions represent the same set. The system of Euler diagrams\nwe considered in this paper is in conjunctive normal form. However, we wish to\nreason in the more general case where we consider any combination of disjuncts\nand conjuncts of diagrams such as in constraint trees [7]. The correspondence\nrelation defined in this paper can be adapted for such systems.\nThe general aim of this work is to provide the necessary mathematical under-\npinning for the development of software tools to aid reasoning with diagrams. In\nparticular, we aim to develop the tools that will enable diagrammatic reasoning\nto become part of the software development process.\nAcknowledgements Author Stapleton would like to thank the UK EPSRC for\nsupport under grant number 01800274. Authors Howse, Flower and Taylor were\npartially supported by UK EPSRC grant GR\/R63516.\nReferences\n1. L. Euler. Lettres a une princesse d\u2019allemagne, 1761.\n2. J. Gil, J. Howse, and S. Kent. Towards a formalization of constraint diagrams. In\nProc Symp on Human-Centric Computing. IEEE Press, Sept 2001.\n3. E. Hammer. Logic and Visual Information. CSLI Publications, 1995.\n4. E. Hammer and S-J Shin. Euler\u2019s visual logic. In History and Philosophy of Logic,\npages 1\u201329, 1998.\n5. D. Harel. On visual formalisms. In J. Glasgow, N. H. Narayan, and B. Chan-\ndrasekaran, editors, Diagrammatic Reasoning, pages 235\u2013271. MIT Press, 1998.\n6. J. Howse, F. Molina, and J. Taylor. On the completness and expressiveness of\nspider diagram systems. In Proceedings of Diagrams 2000, pages 26\u201341. Springer-\nVerlag, 2000.\n7. S. Kent and J. Howse. Constraint trees. In A. Clark and J. Warner, editors,\nAdvances in object modelling with ocl. Spinger Verlag, to appear, 2002.\n8. F. Molina. Reasoning with extended Venn-Peirce diagrammatic systems. PhD\nthesis, University of Brighton, 2001.\n9. OMG. UML specification, version 1.3. Available from www.omg.org.\n10. C. Peirce. Collected Papers, volume Vol. 4. Harvard Univ. Press, 1933.\n11. S.-J. Shin. The Logical Status of Diagrams. Cambridge University Press, 1994.\n12. G. Stapleton. Comparing regions in spider diagrams. Available at\nwww.it.brighton.ac.uk\/research\/vmg\/papers.html.\n13. J. Venn. On the diagrammatic and mechanical representation of propositions and\nreasonings. Phil.Mag, 1880.\n"}