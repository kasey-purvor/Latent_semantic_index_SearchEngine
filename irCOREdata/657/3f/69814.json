{"doi":"10.1109\/ICCW.2008.92","coreId":"69814","oai":"oai:eprints.lancs.ac.uk:21148","identifiers":["oai:eprints.lancs.ac.uk:21148","10.1109\/ICCW.2008.92"],"title":"Using NEMO to Extend the Functionality of MANETs.","authors":["McCarthy, Ben","Edwards, Christopher","Dunmore, Martin"],"enrichments":{"references":[{"id":16335640,"title":"Ad hoc On-Demand Distance Vector (AODV) Routing\u201d. IETF Request For Comments 3561,","authors":[],"date":"2003","doi":"10.1016\/s1570-8705(03)00016-7","raw":"E. Belding-Royer C. Perkins and S. Das. \u201cAd hoc On-Demand Distance Vector (AODV) Routing\u201d. IETF Request For Comments 3561, July 2003.","cites":null},{"id":16335641,"title":"AODV and IPv6 Internet Access for Ad Hoc Networks.","authors":[],"date":"2002","doi":"10.1145\/581291.581310","raw":"Anders Nilsson, Charles E. Perkins, Antti J. Tuominen, Ryuji Wakikawa, and Jari T. Malinen. AODV and IPv6 Internet Access for Ad Hoc Networks. SIGMOBILE Mob. Comput. Commun. Rev., 6(3):102\u2013103, 2002. This full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings. Authorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.","cites":null},{"id":16335637,"title":"Mobility Support for IPv6\u201d. IETF Request For Comments 3775,","authors":[],"date":"2004","doi":null,"raw":"J. Arkko D. Johnson, C. Perkins. \u201cMobility Support for IPv6\u201d. IETF Request For Comments 3775, June 2004.","cites":null},{"id":16335633,"title":"Network Mobility Route Optimization Problem Statement\u201d. IETF Request For Comments 4888,","authors":[],"date":"2007","doi":null,"raw":"M. Watari C. Ng, P. Thubert and F. Zhao. \u201cNetwork Mobility Route Optimization Problem Statement\u201d. IETF Request For Comments 4888, July 2007.","cites":null},{"id":16335635,"title":"Network Transparency in a Mountain Rescue Domain.","authors":[],"date":"2007","doi":"10.1108\/10662240710830172","raw":"C. Edwards B. McCarthy and M. Dunmore. Network Transparency in a Mountain Rescue Domain. Internet Research Journal (Emerald Publications), Volume 17 Number 5, November 2007.","cites":null},{"id":16335638,"title":"Optimized Link State Routing Protocol (OLSR)\u201d. IETF Request For Comments 3626,","authors":[],"date":"2003","doi":null,"raw":"T. Clausen and P. Jacquet. \u201cOptimized Link State Routing Protocol (OLSR)\u201d. IETF Request For Comments 3626, October 2003.","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2008-05","abstract":"Network mobility is an established topic of research which has the potential capability to support many valuable scenarios. Specifically, the ability to support the mobility of entire networks of IP enabled devices that are oblivious to the changing network conditions beneath them is particularly useful to numerous scenarios such as vehicle based networks and personal area networks (PAN). In this paper, we present an efficient and scalable approach that allows mobile networks to intercommunicate and be reachable via the Internet both directly (via their own Internet connection) and indirectly (via another mobile network with an Internet connection). The implemented approach is based on the concept of combining the beneficial features of mobile ad-hoc networking (MANET) protocols and the network mobility basic support (NEMO BS) protocol to develop what is known as a MANEMO solution. In the paper we highlight the key performance characteristics of our protocol through analysis of our implementation in a testbed environment","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/69814.pdf","fullTextIdentifier":"http:\/\/eprints.lancs.ac.uk\/21148\/1\/getPDF.pdf","pdfHashValue":"19e97d03061f20246038bb79118ecb427f662ebb","publisher":"IEEE","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:21148<\/identifier><datestamp>\n      2018-01-24T01:57:31Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D51:5141:51413735<\/setSpec><setSpec>\n      74797065733D626F6F6B5F73656374696F6E<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        Using NEMO to Extend the Functionality of MANETs.<\/dc:title><dc:creator>\n        McCarthy, Ben<\/dc:creator><dc:creator>\n        Edwards, Christopher<\/dc:creator><dc:creator>\n        Dunmore, Martin<\/dc:creator><dc:subject>\n        QA75 Electronic computers. Computer science<\/dc:subject><dc:description>\n        Network mobility is an established topic of research which has the potential capability to support many valuable scenarios. Specifically, the ability to support the mobility of entire networks of IP enabled devices that are oblivious to the changing network conditions beneath them is particularly useful to numerous scenarios such as vehicle based networks and personal area networks (PAN). In this paper, we present an efficient and scalable approach that allows mobile networks to intercommunicate and be reachable via the Internet both directly (via their own Internet connection) and indirectly (via another mobile network with an Internet connection). The implemented approach is based on the concept of combining the beneficial features of mobile ad-hoc networking (MANET) protocols and the network mobility basic support (NEMO BS) protocol to develop what is known as a MANEMO solution. In the paper we highlight the key performance characteristics of our protocol through analysis of our implementation in a testbed environment.<\/dc:description><dc:publisher>\n        IEEE<\/dc:publisher><dc:date>\n        2008-05<\/dc:date><dc:type>\n        Contribution in Book\/Report\/Proceedings<\/dc:type><dc:type>\n        NonPeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:identifier>\n        http:\/\/eprints.lancs.ac.uk\/21148\/1\/getPDF.pdf<\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/ICCW.2008.92<\/dc:relation><dc:identifier>\n        McCarthy, Ben and Edwards, Christopher and Dunmore, Martin (2008) Using NEMO to Extend the Functionality of MANETs. In: IEEE International Conference on Communications Workshops, 2008. ICC Workshops '08. IEEE, pp. 455-460. ISBN 9781424420520<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/21148\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/dx.doi.org\/10.1109\/ICCW.2008.92","http:\/\/eprints.lancs.ac.uk\/21148\/"],"year":2008,"topics":["QA75 Electronic computers. Computer science"],"subject":["Contribution in Book\/Report\/Proceedings","NonPeerReviewed"],"fullText":"Using NEMO to Extend the Functionality of MANETs\nBen McCarthy, Dr. Christopher Edwards, Dr. Martin Dunmore\nComputing Department, InfoLab 21\nSouth Drive, Lancaster University\nLancaster, LA1 4WA\nLancashire, UK\nEmail: [b.mccarthy, ce, dunmore]@comp.lancs.ac.uk\nAbstract\u2014Network mobility is an established topic of research\nwhich has the potential capability to support many valuable\nscenarios. Specifically, the ability to support the mobility of\nentire networks of IP enabled devices that are oblivious to\nthe changing network conditions beneath them is particularly\nuseful to numerous scenarios such as vehicle based networks\nand Personal Area Networks (PAN). In this paper, we present an\nefficient and scalable approach that allows mobile networks to\nintercommunicate and be reachable via the Internet both directly\n(via their own Internet connection) and indirectly (via another\nmobile network with an Internet connection). The implemented\napproach is based on the concept of combining the beneficial\nfeatures of Mobile Ad-hoc Networking (MANET) protocols and\nthe Network Mobility Basic Support (NEMO BS) protocol to\ndevelop what is known as a MANEMO solution. In the paper\nwe highlight the key performance characteristics of our protocol\nthrough analysis of our implementation in a testbed environment.\nI. INTRODUCTION\nMANEMO is a relatively new and immature concept. The\nterm MANEMO itself can be loosely defined as describing\ntechniques which combine the properties of Mobile Ad-Hoc\nNetworks (MANETs) and Network Mobility (NEMO). From\nits early inception, MANEMO has often been considered from\nthe perspective of Nested NEMO networks. More specifi-\ncally, MANEMO is often considered as a Route Optimisation\nsolution to the pinball routing problem [1] that occurs in\nNested NEMO networks if the NEMO Basic Support pro-\ntocol (NEMO BS) [2] is used to support them. Considering\nMANEMO from this NEMO based perspective can be referred\nto as a NEMO-Centric MANEMO (NCM) approach, since we\nare considering scenarios that fundamentally revolve around\nthe notion of typical NEMO connectivity (i.e. periodically\nmoving between heterogeneous access networks, whilst pre-\ndominantly communicating with nodes on the Internet). When\nutilised in this manner, the purpose of the MANET protocol\nthat is run between the MRs is to optimise the path that packets\ntraverse before they reach the Internet.\nThis approach to solving the Nested NEMO routing problem\nby combining MANET and NEMO is however just one facet\noff the overall MANEMO domain. The integration of MANET\nand NEMO technologies is a mutually beneficial process for\nboth problem domains. NEMO-Centric MANEMO (NCM)\nrefers to how the NEMO problem space can benefit from\nthe introduction of MANET technologies. In this paper we\nintroduce how the MANET problem space can benefit from the\nintroduction of NEMO concepts, creating a so called MANET-\nCentric MANEMO solution (MCM) [3]. The rest of this paper\nis presented as follows: In Section II-A we introduce the\nconcept of Network Mobility (NEMO), highlight its purpose\nand the complex Nested NEMO problem. In Section II-B we\nprovide a brief overview of MANET technologies and discuss\nthe considerations that influenced our protocol selection for\nour implementation. In Section III we outline the design of\nour Unified MANEMO Architecture (UMA) protocol and\ndiscuss the problems we encountered when implementing this\nprotocol. In Section IV we present our preliminary lab based\ntesting results. Finally in Section V we provide an analysis\nof the general performance capabilities of our protocol and\nconclusions regarding the feasibility of this approach.\nII. OVERVIEW\nA. Network Mobility (NEMO)\nNEtwork MObility (NEMO) and, more specifically, the\nNEMO Basic Support Protocol (NEMO BS) offers a mobility\nsolution based on the concepts used by Mobile IPv6 (MIPv6)\n[4] that is targeted at supporting entire networks of IP devices\nas opposed to just single hosts. Using NEMO BS, mobile\nnetworks can be provided with constant, uninterrupted Internet\nconnectivity without any of the devices that are attached to the\nmobile network needing to be aware of their own mobility. In\nthe NEMO BS model, the mobile entity is considered to be a\nMobile Router (MR) that manages the mobility of the entire\nnetwork over its Egress interface (i.e., its connection to the\nInternet) and presents its Ingress interface to IP devices as a\nnormal, static IP connection. This is made possible through the\nuse of a Home Agent (HA) situated on the Home Network of\nthe MR; in the case of NEMO BS, the HA forwards packets\ndestined for an entire prefix of addresses that are attached\nto the MR, known as the Mobile Network Prefix (MNP).\nThis powerful solution supports many existing, real-life use\ncase scenarios, such as vehicle based networks, Personal Area\nNetworks (PAN) and Access networks on public transport\nwhere multiple IP devices wish to gain access to the Internet\nbut cannot be expected to support any additional software or\nprotocol stack.\nB. Mobile Ad-Hoc Networks (MANETs)\nMobile Ad-Hoc Networking protocols (MANET) support\nmobility (Mobile Host and Mobile Router) by deploying\noptimised routing protocols specifically designed to operate\nbetween mobile devices to predominantly support networking\nscenarios which have no prior infrastructure. MANET routing\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n978-1-4244-2052-0\/08\/$25.00 \u00a92008 IEEE 455\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\nprotocols can be classified as one of two main styles of\nprotocol, Proactive or Reactive. Proactive MANET protocols\nsuch the Optimised Link State Routing protocol (OLSR)\n[5] periodically disseminate routing information between all\nof the mobile nodes in a MANET in the same way that\na traditional routing protocol would, only in an optimised\nfashion. For example, OLSR assigns a subset of the mobile\nnodes in a MANET with the task of operating as Multi Point\nRelays (MPR); routing information is then disseminated only\nby this subset of nodes in order to reduce the amount of\nrouting protocol overhead experienced in the MANET. On\nthe other hand, Reactive MANET protocols such as Ad-Hoc\nOn-Demand Distance Vector routing protocol (AODV) [6]\ndo not disseminate routing information; instead mobile nodes\nutilising this kind of routing protocol only solicit for routing\ninformation as and when they need it.\nC. Rationale\nMobile Ad-Hoc Networking is a maturing area of research\nand development that has seen many innovations; however\nthe inherent complexity of the MANET problem domain has\nensured that there still remains many challenges to overcome.\nIn this paper we show how integrating the Home-Agent based\napproach of NEMO with a MANET protocol can introduce\nmany benefits to MANET scenarios, such as Global reach-\nability of MANET nodes, improved AAA and support for\nmultihoming. MANET protocols were originally designed to\nsupport inter-communication between the nodes connected to\na MANET, but over time they have been augmented to support\ncommunication with any node on the Internet from within the\nMANET via Internet Gateways [7]. Whilst different MANET\nprotocols offer varying techniques for supporting this type\nof communication with nodes external to a MANET, there\nstill remain many limitations. For instance, a Mobile Ad-Hoc\nNetwork cannot leak its routes directly into the Internet so\ntherefore changing its point of attachment can be problematic.\nIf a MANET of nodes wishes to roam across heterogeneous\nnetworks, each Access Router (AR) they connect to the\nInternet via must be equipped to support their connection. If\na MANET of nodes roams onto a new access network and\n(in the most straightforward case) is connected to that access\nnetwork via a single point of attachment (Internet Gateway)\nthen something must be done in order to ensure packets can\nbe routed out of and back in to the MANET. Typically this\ncould involve one of two approaches. Either the MANET\ncould use private addresses for intercommunication between\nthe MANET nodes and then use a Network Address Trans-\nlation (NAT) technique to communicate with nodes located\nexternally in the Internet. This approach would rely on the\nAR performing NAT functionality on behalf of each of the\nMANET nodes and would also prevent the MANET node\nbeing reachable unless it specifically initiated a flow. The other\napproach would be to have each node configure an address\nthat is topologically correct in relation to the access network\nthat the gateway node has connected to. This approach would\nrequire every node to configure a new address, every time\nthe gateway node changed its location. In addition, in this\ntype of scenario a MANET of nodes will not be able to\nbenefit from multiple simultaneous connections to different\naccess networks (multiple Internet Gateways). This is because\neach node within the MANET will have initially configured a\ntopologically acceptable IP address for use in its new location\nand therefore that address will only be topologically correct\nwith respect to the access network that it was configured from.\nBoth of these approaches require the AR of a visited\nnetwork to be \u2019MANET\u2019 aware (i.e. they must be augmented to\nsupport the attachment of MANETs). In addition, any change\nin the point of attachment by a Gateway node will result in the\nloss of sessions for all nodes within the MANET. Consider a\nscenario whereby a single Gateway node is providing access\nto the Internet for a cluster of 10 MANET nodes in total.\nIf the Gateway node initially has a connection via a publicly\navailable WiFi network, each of the MANET nodes will either\nconfigure a topologically correct address based on the ARs\nnetwork prefix or a private address that will be registered in\na NAT table in the AR. If the Gateway node then roamed\naway from the WiFi network and established a UMTS cellular\nconnection, all of the MANET nodes would be required to\ncarry out this initial address configuration process again, as\nthey would every time the Gateway node changed its location.\nA change in the overall attachment point of the MANET to\nthe Internet would also result in a change in the global IP\naddress used by the MANET nodes to communicate externally\nwith other nodes in the Internet. This change in addresses\nwould subsequently break any TCP sessions that were in place;\nand therefore to prevent this an addition protocol to maintain\nsession continuity would be needed.\nIn this paper we present a mobile networking approach\nthat has been designed to address these problems related to\nMANETs and global communication over the Internet. In\naddition the protocol we propose is primarily focused on\nsupporting mobile networks of devices that are unaware of\ntheir own mobility. This is achieved by utilising a Mobile\nRouter (MR) which in turn performs all IP mobility related\nfunctionality on the behalf of the attached devices in order to\nsupport the same key benefits as NEMO BS. However it is\nimportant to point out that the protocol implementation out-\nlined in this paper also inherently supports the more simplistic\ncase of single host mobility as well.\nIII. APPROACH AND IMPLEMENTATION\nThe overall aim of our MANET-Centric MANEMO proto-\ncol is to ensure that mobile networks are consistently reachable\non the Internet whenever they have access to an Internet\nconnection irrespective of whether it is a direct connection\nor established via other mobile networks. In addition, the\nprotocol has also been designed to introduce techniques for\nperforming security and AAA for packets transmitted into the\nInternet from ad-hoc networks. The fundamental approach we\nhave employed is based around combining the functionality\nof the Optimized Link State Routing (OLSR) protocol with a\nHA based approach to location registration (like the NEMO\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n456\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\nBasic Support protocol uses); we call our approach the Unified\nMANEMO Architecture (UMA). This approach requires every\nUMA enabled Mobile Router (UMA-MR) to setup a MR-\nHA bi-directional tunnel whenever it has a direct connection\nto the Internet. This direct tunnel link between the UMA-\nMR and its respective UMA enabled HA (UMA-HA) ensures\nthat the UMA-MR and its connected devices are permanently\nreachable (whenever the tunnel is present) via an address prefix\nthat the HA advertises on the UMA-MRs behalf. In addition all\nUMA-MRs maintain a MANET interface which they are able\nto use to connect to other UMA-MRs (and standard MANET\nnodes if required). Our protocol then utilises this MR-HA\ntunnel to provide all other UMA-MRs that are unable to form\ntheir own direct Internet connections with a means to reach\nthe Internet. Use of the MR-HA tunnel in this way ensures\nthat the access network need not be aware of the protocol in\nany way. Finally, by using a technique of HA inter cooperation\nto ensure any UMA-MR can connect to the Internet via any\nother collection of UMA-MRs, we have been able to produce a\nsimple, efficient solution to network mobility that pushes much\nof the associated complexity into the wired network (i.e. in the\nHAs).\nWith UMA, the UMA-MRs are only required to build a\ntopologically correct Care-of-Address (CoA) if they establish\na direct connection to the Internet via an access network (i.e.\nif they are a Gateway-MR). If their connection is indirectly\nestablished via other UMA-MRs, the newly attached UMA-\nMR can create a binding with whichever address it chooses\nto propagate in the MANET of UMA-MRs (i.e. its Home\nAddress). In our solution we utilise the OLSR Host and\nNetwork Association (HNA) messages to provide the trigger\nfor performing the BU process rather than movement detection\nbased on IPv6 Neighbor Discovery messages. HNA messages\nare used within OLSR in order for a node to advertise its\nability to reach other networks. The networks advertised by\nHNA messages can be both physically collocated networks\n(i.e. MNPs in the case of an MR) and also temporarily\nreachable networks (i.e. the Internet when a connection is\navailable). When a UMA-MR successfully attains a direct\nconnection to the Internet it becomes known as a Gateway-\nMR. The Gateway-MR then advertises its ability to reach the\nInternet in any subsequent HNA messages it sends to the\nother UMA-MRs that are connected to it (from here on we\nrefer to any cluster of UMA enabled MRs such as this as a\nUMA-Stub). Therefore when a MR receives a HNA message\ncontaining this default route it knows it can begin its BU\nprocess with its HA via this Gateway-MR. In addition to\nadvertising Internet reachability, the HNA record also carries\nthe address of the Gateway-MRs HA.\nIn scenarios supported by this approach, one fundamental\nconsideration is the makeup of the UMA-Stub. Mobile Routers\nwithin the UMA-Stub can either all belong to the same Home\nNetwork or can originate from a number of different Home\nNetworks. To give an example of how these scenarios can\narise, consider an emergency situation such as the breakout of\na fire in a building. Depending on the nature of the emergency\nthe fire brigade are likely to be the first of the emergency\nservices to attend the scene. In the period in which only the\nmembers of the fire brigade are present, all MRs carried by\nthe firefighters will have originated from same Home Network\n(i.e. the fire brigade HQ) and therefore will all be registered\nwith the same HA. If it is possible that people have been or\nmay be injured because of the fire then the scene will also\nbe attended by paramedics. When the paramedics arrive they\nwould undoubtedly benefit from the ability to communicate\non the same network as the fire brigade and therefore incor-\nporating their MRs should also be supported. However since\ntheir MRs will originate from a different Home Network (the\nhospital network) and therefore be registered with a different\nHA, the UMA protocol must behave differently to support\nthese new additions to the UMA-Stub.\nIn protocol terms, if a UMA-MR can only obtain an\nindirect connection to the Internet via a Gateway-MR, then\nthe principal concern is whether that UMA-MR is registered\nwith the same HA as the Gateway-MR or a different one.\nWhen the MR receives a HNA record from a Gateway-MR\nadvertising Internet reachability, the MR will first extract the\naddress of the Gateway-MRs HA and compare this address\nwith the address of its own HA to determine which type of\nBinding Update (BU) to perform. We refer to the case where\nthe MR sending the BU is registered with the same HA as\nthe Gateway-MR as the Aggregated Scenario. In this situation\n(illustrated here in Figure 1) the MR will first mark its BU\nmessage with the appropriate flags (detailed later) and send\nthe message directly to the Gateway-MRs HA. Receiving a\nBU message with both these flags set signals to the HA that\nan MR is trying to indirectly bind to the HA via one of\nits existing MR-HA Tunnel connections. Subsequently, after\nensuring that the MR is registered with itself, the HA will\nrecord the MR-HA tunnel that the UMA BU request was\nreceived via and then install routes to the newly binded MR\nand its MNPs via that Tunnel. Once the correct routing entries\nare in place, the HA returns a Binding Acknowledgment (BA)\nto the newly registered UMA-MR to signal whether the bind\nwas a success or failure. Upon receiving a successful BA,\nthe UMA-MR will then also install the appropriate routes\nin its routing table and communication with Correspondent\nNodes (CN) in the Internet can continue. In this scenario, our\napproach ensures that the overhead imposed by tunneling is\nkept to a minimum. Any UMA-MRs that are connected to\nthe Internet indirectly will not impose any further tunneling,\ntherefore beyond the Gateway-MR packets can be transmitted\nwithout any additional tunnel headers.\nSupplementary to this Aggregated Scenario many real world\nexamples exist where a UMA-MR attaching to an UMA-Stub\nwill not be registered with the same HA as the Gateway-MR.\nWe refer to this as the Non-Aggregated Scenario (illustrated\nhere in Figure 2). In this situation the Gateway-MR\u2019s HA will\nbehave as a Proxy-HA, forming an indirect link between any\nlegitimate MRs and their actual HA. In this case the MR again\ndetermines which HA to initially contact via the information\ncarried in the Gateway-MRs HNA messages. However when\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n457\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\nFig. 1. UMA BU - Aggregated Scenario\nthe MR recognises that the advertised HA is not located on\nits Home Network it switches its operational mode to perform\na UMA Proxy-Bind. To perform a Proxy-Bind the MR sends\nits BU to the Proxy-HA (The Gateway-MR\u2019s HA) and also\ninserts the address of its own HA (the Target-HA) into the\nBU message. When the Gateway-MR\u2019s HA receives this BU\nit assumes the role of a Proxy-HA and begins the Home Agent\nto Home Agent (HA-HA) binding process. To do this the\nProxy-HA extracts the address of the Target-HA from the BU\nmessage and sends a separate HA-HA BU to the Target-HA\nrequesting simultaneously, the setup of HA-HA bidirectional\ntunnel to carry packets directly to the MR and a binding\nregistration for the MR itself. The Target-HA then registers\nthe CoA of the MR as the MANET address and sets up a\nroute to that address as being reachable via the newly created\nHA-HA tunnel.\nFig. 2. UMA BU - Non-Aggregated Scenario\nFigure 3 illustrates the Binding Update (BU) message\nformat that the UMA protocol utilises. The layout of the UMA\nmessages has intentionally been designed to have a similar\noverall format as those used by NEMO BS. In addition to\nthe NEMO related fields the UMA BU message introduces\n2 new flags, the (U) flag and the (P) flag. The U flag\n(Unified MANEMO Architecture flag) is used to indicate to\nHAs (both Proxy and Target) that the BU is a request for a\nUMA binding and therefore the MR does not have a direct\nattachment to the Internet. The (P) flag (Proxy Registration\nflag) is always used in conjunction with the U flag by both\nMRs and Proxy-HAs and incorporates the use of the (H) flag\n(Home Registration flag) from MIPv6 in order to differentiate\nits use. If a HA receives a BU with just the (U) and (H) flag set,\nthis signifies that the MR is directly registered with that HA\nbut is performing a UMA bind via an existing Gateway-MR\u2019s\ntunnel connection. Whereas if a HA receives a BU with just\nthe (U) and (P) flags set (H flag not set), then this signifies that\nthe MR is not directly registered with the HA and is therefore\nrequesting that the HA performs a proxy bind with its Target-\nHA on behalf of the MR. Finally, if a HA receives a BU\nwith all 3 flags set (U), (P) and (H) this signifies that the BU\nmessage is from a Proxy-HA that is requesting to establish a\nHA-HA tunnel on behalf of the MRs HoA that is contained\nwithin the BU message. As with the BU message, the UMA\nBinding Acknowledgment (BA) message is designed to have\nthe same fundamental format as the NEMO BA message\nhowever it introduces new status numbers to support the new\nproxy binding functionality. These new status numbers are\nset by the Target-HA in response to receiving a Proxy-BU\nrequest from a Proxy-HA and they instruct the Proxy-HA as\nto whether the Proxy-BU was accepted or rejected (and if it\nwas rejected, for what reason).\nFig. 3. UMA Binding Update Message Format\nA. Access, Authentication and Accounting\nThe MANET-Centric MANEMO protocol outlined in this\npaper permits a two phase Access, Authentication and Ac-\ncounting (AAA)model to Mobile Ad-Hoc Network scenarios\nwhich are notoriously difficult to provide meaningful AAA for.\nFirstly a newly connecting MR must gain access to the local\nwireless communication provided by the UMA-Stub. This\ninitial access would most likely be protected by encryption\ntechniques such as WEP and WPA. Once the MR has gained\naccess to the wireless portion of the network it can begin\ncommunicating directly with other MRs in the UMA-Stub.\nOnce the MR has established a connection, any further com-\nmunication with nodes external to the UMA-Stub must pass\na second phase of AAA which is performed by the Gateway-\nMR\u2019s HA. Whether the Gateway-MR\u2019s HA will act as a Proxy-\nHA or as the ultimate Target-HA, it will first decide whether\nto accept any incoming request for connection based on either\na locally stored policy or a more dynamic process such as\nthe response from a remote AAA server. If the connection\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n458\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\ncannot be authorised then the unauthorised UMA-MR cannot\ntransmit any packets into the Internet, which prevents any\nillegitimate and potentially damaging traffic from originating\nwithin the UMA-Stub. If a connection is then accepted and\nestablished, the Gateway-MR\u2019s HA can then record all further\nthroughput and potentially bill the appropriate customer once\nthe session has completed. This functionality provides network\nadministrators with a level of control that is often unachievable\nin ad-hoc networks.\nIV. TESTING AND RESULTS ANALYSIS\nWe have developed an implementation of the protocol we\noutline in this paper on a Linux Platform (Ubuntu 7.10\ndistribution) using the 2.6.22 Linux kernel. At present we have\ncarried out our preliminary tests on a testbed consisting of\n4 Linux PCs. Each machine has multiple Ethernet network\ncards to provide wired local access to devices. All of the\ntests detailed in this section were performed between two\nlaptop PCs that were directly connected to one of the MNP\ninterfaces of the UMA-MRs using Ethernet cables. Also,\nboth the HAs and the Gateway-MR were all attached to\nseparate access networks, each interconnected by Cisco 3200\nSeries routers. Wired Ethernet links were used throughout our\ntesting to reduce the possibility that the results were effected\nby external influences (as wireless links can be effected by\ninterference). Using wired links in the testing phase results\nin throughput figures that are far greater than would be\nexpected using wireless links, however what we are most\ninterested in is the comparative performance of the protocol\nin each of the different scenario stages. One of the most\nimportant measurements when considering the performance\nof a mobility protocol is the handover times. In addition\nto handover times one of the other primary factors that we\nwish to analyse is the effect that this approach has on the\noverall end-to-end path once it is established. To analyse these\ntwo factors we developed a testing regime whereby for each\nappropriate mobility scenario the handover time taken to form\nthe new network layout was first measured. Then once the\nhandover had been performed and the connection was setup\nwe analysed how the overall performance along the end-to-end\npath was effected for each new configuration we tested. For\neach of the tests we used ICMP Echo request\/replies (pings)\nto determine the round trip times between the test machines\nand the iperf bandwidth measurement tool to determine the\nthroughput. To determine the handover times we again used\nthe Ping6 utility, in collaboration with the network packet\nanalyser Wireshark. By setting the ping request interval to a\nhigh value (1 request every 0.001 seconds) and then analysing\nthe time difference between the time of the first request not\nto receive a corresponding reply and the time the next reply\nwas received.\nA. Scenario 1 - NEMO\nFirstly, to act as a baseline for our results we began by\nmeasuring the handover time and end-to-end performance of\nthe UMA MR when it is directly connected to an access\nnetwork. In this scenario the UMA-MR behaves exactly as a\nNEMO-MR except that it will also run the MANET protocol\nover its MANET interface as well.\n\u2022 Handover: 6.65s\n\u2022 End-to-end Throughput: 10.7Mbps\n\u2022 End-to-End Latency: 2.52ms\nB. Scenario 2 - UMA (Aggregated)\nIn the Aggregated scenario an MR moves and subsequently\nchanges the Gateway-MR that it is connected to the Internet\nvia. In this scenario, the Gateway-MR and the adjoining UMA-\nMR are both registered to the same HA.\n\u2022 Handover: 4.2s\n\u2022 End-to-end Throughput: 10.6Mbps\n\u2022 End-to-End Latency: 2.85ms\nC. Scenario 3 - UMA (Non-Aggregated)\nFinally, in the Non-Aggregated scenario the same movement\noccurs as in the previous test, however the Gateway-MR is\nconnected to the same HA that the BU is ultimately destined\nfor. Therefore a Proxy-HA connection will be established.\n\u2022 Handover: 5.4s\n\u2022 End-to-end Throughput: 9.7Mbps\n\u2022 End-to-End Latency: 6.3ms\nV. ANALYSIS AND CONCLUSION\nThe overall outcome of the results from our initial testing\nphase have been quite positive. The results from scenario 1\nrepresents the amount of time it takes to perform a normal\nNEMO Binding Update. From our results it is possible to\nsee that a simple handover in this configuration can take a\nconsiderable length of time. A lot of this time is spent waiting\nfor the interface and the CoA to be configured rather than\non the process of actually communicating the CoA back to\nthe HA. In scenario 2 we witnessed an improved handover\ntime since the MANET interface is already configured with\nan address and must only wait to receive the appropriate\nHNA message. This removes the reliance on waiting for the\nNeighbor Discovery process to complete. In this scenario\nwe see an increase in the overall latency experienced as is\nexpected since the an additional hop has been introduced\nto the end-to-end path. Since no additional tunnel need be\ninstantiated, this scenario also results in a reduced level of\nprocessing on the HA once it receives the BU. Scenario 3\nhighlights the implications of carrying out the proxy bind\nrequest that is carried out by HA2 on behalf of MR1. As the\nresults show this approach does introduce implications on the\noverall latency and the achievable throughput. Obviously, since\npackets in this scenario must be transmitted via a secondary\nProxy-HA this additional step will incur an increase in the\nlength of the end-to-end path. In addition, the process of\nencapsulation and decapsulation for both the MR-HA tunnel\nand the proxy HA-HA tunnel impose some restrictions on\nthe amount of data that it is possible to force through the\nnetwork. Handover times also increase since the BU process\nnow involves an additional party, however since the additional\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n459\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\nsteps are only required on the HAs, the overall process does\nnot introduce too considerable a delay.\nThese results show that the UMA approach outlined in\nthis paper introduces much advantageous functionality without\nintroducing too much overhead in terms of processing. One\nfurther factor that must be considered (as with any Home-\nAgent based approach) is the network distance between the\nHAs in the Non-Aggregated scenario. In our testbed setup,\nthe networks that interconnect the Proxy-HA and the Target-\nHA directly connected together and therefore the latency of\npacket delivery between them is small. On the other hand, if\nthe HAs were geographically far apart (i.e. one HA was in\nLondon, the other in Tokyo) the Proxy-HA connection would\nobviously suffer from increased latencies and handover times.\nIt is also important to consider that this UMA approach ensures\nthat any change in the network structure is only communicated\nout to the appropriate HAs when it is absolutely necessary.\nThe first example of this is that any changes to the structure\nof the UMA-Stub that don\u2019t effect whichever MRs are acting\nas Gateways (i.e. any movement within the MANET) will not\nbe reported beyond the UMA-Stub. This efficient technique\nis also applied to the Non-Aggregated Scenario; if an MR\nis connected back to its HA via Proxy any changes to the\nGateway-MRs location need not be reported all the way back\nto the Target-HA. The Target-HA need only be updated when\nthe Gateway-MR itself is changed and therefore a new HA-HA\ntunnel must be established.\nWe feel that the UMA approach outlined in this paper\noffers many useful benefits that could potentially be applied\nto numerous different scenarios and application areas. By\ncombining the mutually beneficial properties of MANET and\nNEMO techniques we have been able to produce an extremely\nstrong solution to network mobility that is both capable and\nalso immediately deployable without any alterations required\nto the existing Internet architecture.\nVI. ACKNOWLEDGEMENT\nThe authors wish to thank Cisco Systems for their support\nof the Mobile Networks project at Lancaster University under\nwhich this work was completed.\nREFERENCES\n[1] M. Watari C. Ng, P. Thubert and F. Zhao. \u201cNetwork Mobility Route\nOptimization Problem Statement\u201d. IETF Request For Comments 4888,\nJuly 2007.\n[2] P. Thubert et al. \u201cNEMO Basic Support Protocol\u201d. IETF Request For\nComments 2693, January 2005.\n[3] C. Edwards B. McCarthy and M. Dunmore. Network Transparency\nin a Mountain Rescue Domain. Internet Research Journal (Emerald\nPublications), Volume 17 Number 5, November 2007.\n[4] J. Arkko D. Johnson, C. Perkins. \u201cMobility Support for IPv6\u201d. IETF\nRequest For Comments 3775, June 2004.\n[5] T. Clausen and P. Jacquet. \u201cOptimized Link State Routing Protocol\n(OLSR)\u201d. IETF Request For Comments 3626, October 2003.\n[6] E. Belding-Royer C. Perkins and S. Das. \u201cAd hoc On-Demand Distance\nVector (AODV) Routing\u201d. IETF Request For Comments 3561, July 2003.\n[7] Anders Nilsson, Charles E. Perkins, Antti J. Tuominen, Ryuji Wakikawa,\nand Jari T. Malinen. AODV and IPv6 Internet Access for Ad Hoc\nNetworks. SIGMOBILE Mob. Comput. Commun. Rev., 6(3):102\u2013103,\n2002.\nThis full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the ICC 2008 workshop proceedings.\n460\nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 16, 2008 at 09:13 from IEEE Xplore.  Restrictions apply.\n"}