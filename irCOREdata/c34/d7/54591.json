{"doi":"10.1109\/VPPC.2005.1554645","coreId":"54591","oai":"oai:eprints.lincoln.ac.uk:2510","identifiers":["oai:eprints.lincoln.ac.uk:2510","10.1109\/VPPC.2005.1554645"],"title":"GA-tuning of nonlinear observers for sensorless control of automotive power steering IPMSMs","authors":["Banghu, B S","Bingham, C M"],"enrichments":{"references":[{"id":991406,"title":"A Nonlinear Reduced Order Observer for Permanent Magnet Synchronous Motors\u201d","authors":[],"date":"1996","doi":"10.1109\/iecon.1994.397746","raw":"J. Solsona and C. Muravchik  \u201cA Nonlinear Reduced Order Observer for Permanent Magnet Synchronous Motors\u201d IEEE Trans. Ind. Electronics, vol. 43, 1996, pp.492-497.","cites":null},{"id":990978,"title":"Akhrif \u201cA Nonlinear State Observer for the Sensorless Control of a Permanent-Magnet","authors":[],"date":"2001","doi":"10.1109\/41.969388","raw":"G. Zhu, A. Kaddouri, L. Dessiant and O. Akhrif  \u201cA Nonlinear State Observer for the Sensorless Control of a Permanent-Magnet AC Machine\u201d IEEE Trans. Ind. Electronics, vol. 48, 2001, pp.1098-1108.","cites":null},{"id":992633,"title":"Applications of GAs in Sensorless Speed adjustment Control for Induction Motor Drive System\u201d Power Electronics and Motion Control Conf.,","authors":[],"date":null,"doi":"10.1109\/ipemc.2000.885418","raw":"L. Feng, Y. Qiwen, \u201cApplications of GAs in Sensorless  Speed adjustment Control for Induction Motor Drive System\u201d Power Electronics and Motion Control Conf., Proc. PIEMC 2000, vol. 1, pp. 296-301.","cites":null},{"id":992190,"title":"Brushless dc Motor Control without Position and Speed sensors\u201d","authors":[],"date":"1992","doi":"10.1109\/28.120220","raw":"N. Matsui and M. Shigyo, \u201cBrushless dc Motor Control without Position and Speed sensors\u201d IEEE Trans. Ind. Electron., vol. 28, 1992, pp. 120-127.","cites":null},{"id":991844,"title":"Coles \u201cEKFs and other Nonlinear State-Estimation Techniques for Sensorless Control of Automotive PMSMs\u201d;","authors":[],"date":null,"doi":null,"raw":"B. Bhangu, C. Williams, C. M. Bingham and J. Coles  \u201cEKFs and other Nonlinear State-Estimation Techniques for Sensorless Control of Automotive PMSMs\u201d; Proc. SPEEDAM 2002, pp.C5 33-38, Italy.","cites":null},{"id":991626,"title":"Design and Implementation of an Extended Kalman Filter for the State Estimation of a Permanent Magnet Synchronous Motor\u201d","authors":[],"date":"1999","doi":"10.1109\/63.85891","raw":"R. Dhaouadi, N. Mohan and L. Norum, \u201cDesign and Implementation of an Extended Kalman Filter for the State Estimation of a Permanent Magnet Synchronous Motor\u201d IEEE Trans. on Power Electronics, vol. 6, 1999, pp.491-497.","cites":null},{"id":990510,"title":"Electric Steering Systems \u2013 E-SteerTM electric power steering.","authors":[],"date":null,"doi":"10.4271\/981116","raw":null,"cites":null},{"id":990656,"title":"Improved speed estimation of sensorless","authors":[],"date":null,"doi":"10.1109\/iemdc.2001.939438","raw":"J.X Shen, Z.Q. Zhu and D. Howe \u201cImproved speed estimation of sensorless PM brushless AC drives\u201d IEEE Trans. Ind. Electronics, vol. 38(4), pp.1072-1080.","cites":null},{"id":992125,"title":"Nonlinear State-Observer Techniques for Sensorless Control of Automotive PMSM\u2019s, including Load-Torque Estimation and Saliency\u201d;","authors":[],"date":"2003","doi":null,"raw":"B. Bhangu, C. M. Bingham, \u201cNonlinear State-Observer Techniques for Sensorless Control of Automotive PMSM\u2019s, including Load-Torque Estimation and Saliency\u201d; EPE 2003, Toulouse, France.","cites":null},{"id":991192,"title":"Onuki \u201cSensorless Control of PMSM using a Linear Reduced Order Observer including Disturbance Torque Estimation\u201d","authors":[],"date":null,"doi":null,"raw":"D. Hamada, K. Uchida, L. F, Yusivar, S. Wakeo and T. Onuki \u201cSensorless Control of PMSM using a Linear Reduced Order Observer including Disturbance Torque Estimation\u201d EPE\u201999 - Lausanne, Waseda University.","cites":null},{"id":992423,"title":"Sensorless control of PMSMs for automotive electric power steering systems\u201d Thesis,","authors":[],"date":"2004","doi":null,"raw":"B. Bhangu \u201cSensorless control of PMSMs for automotive electric power steering systems\u201d Thesis, Sheffield University, 2004.","cites":null},{"id":990916,"title":"Zigliotto \u201cEffective estimation of Speed and Rotor Position of an PM Synchronous Motor Drive by a Kalman Filtering Technique\u201d","authors":[],"date":"1992","doi":"10.1109\/pesc.1992.254781","raw":"A. Bado, S. Bologani, M. Zigliotto \u201cEffective estimation of Speed and Rotor Position of an PM Synchronous Motor Drive by a Kalman Filtering Technique\u201d IEEE Proc. PESC, 1992, pp.951-957.","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2005","abstract":"The paper considers two observer-based rotor position estimation schemes for sensorless control of interior permanent magnet synchronous motors (IPMSMs) for use in future automotive power steering systems. Specifically, emphasis is given to techniques based on feedback-linearisation followed by classical Luenberger observer design, and direct design of non-linear observers. Genetic algorithms (GAs), using the principles of evolution, natural selection and genetic mutation, are introduced to address difficulties in selecting correction gains for the observers, since no analytical tuning mechanisms yet exist. Experimental measurements from an automotive power steering test-facility are included, to demonstrate the enhanced performance attributes offered by tuning the proposed observer schemes, online, in this manner","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/54591.pdf","fullTextIdentifier":"http:\/\/eprints.lincoln.ac.uk\/2510\/1\/bhangu_5.pdf","pdfHashValue":"88ad9e1fea3de2f6b8aa7e57ce86ea686f5d1877","publisher":"Institute of Electronic and Electrical Engineering","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lincoln.ac.uk:2510<\/identifier><datestamp>\n      2010-05-28T08:25:23Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D6A6163735F48:6A6163735F48363030<\/setSpec><setSpec>\n      74797065733D636F6E666572656E63655F6974656D<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:relation>\n    \n      \n        http:\/\/eprints.lincoln.ac.uk\/2510\/<\/dc:relation><dc:title>\n        GA-tuning of nonlinear observers for sensorless control of automotive power steering IPMSMs<\/dc:title><dc:creator>\n        Banghu, B S<\/dc:creator><dc:creator>\n        Bingham, C M<\/dc:creator><dc:subject>\n        H600 Electronic and Electrical Engineering<\/dc:subject><dc:description>\n        The paper considers two observer-based rotor position estimation schemes for sensorless control of interior permanent magnet synchronous motors (IPMSMs) for use in future automotive power steering systems. Specifically, emphasis is given to techniques based on feedback-linearisation followed by classical Luenberger observer design, and direct design of non-linear observers. Genetic algorithms (GAs), using the principles of evolution, natural selection and genetic mutation, are introduced to address difficulties in selecting correction gains for the observers, since no analytical tuning mechanisms yet exist. Experimental measurements from an automotive power steering test-facility are included, to demonstrate the enhanced performance attributes offered by tuning the proposed observer schemes, online, in this manner.<\/dc:description><dc:publisher>\n        Institute of Electronic and Electrical Engineering<\/dc:publisher><dc:date>\n        2005<\/dc:date><dc:type>\n        Conference or Workshop contribution<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:language>\n        en<\/dc:language><dc:identifier>\n        http:\/\/eprints.lincoln.ac.uk\/2510\/1\/bhangu_5.pdf<\/dc:identifier><dc:identifier>\n          Banghu, B S and Bingham, C M  (2005) GA-tuning of nonlinear observers for sensorless control of automotive power steering IPMSMs.  In: Vehicle Power and Propulsion, 2005 IEEE Conference, 7-9 Sept 2005, USA.  <\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/VPPC.2005.1554645<\/dc:relation><dc:relation>\n        10.1109\/VPPC.2005.1554645<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/eprints.lincoln.ac.uk\/2510\/","http:\/\/dx.doi.org\/10.1109\/VPPC.2005.1554645","10.1109\/VPPC.2005.1554645"],"year":2005,"topics":["H600 Electronic and Electrical Engineering"],"subject":["Conference or Workshop contribution","PeerReviewed"],"fullText":" \n \n \n  \nAbstract\u2014The paper considers two observer-based rotor \nposition estimation schemes for sensorless control of Interior \nPermanent Magnet Synchronous Motors (IPMSMs) for use in \nfuture automotive power steering systems.  Specifically, emphasis \nis given to techniques based on feedback-linearisation followed \nby classical Luenberger observer design, and direct design of \nnon-linear observers.  Genetic Algorithms (GAs), using the \nprinciples of evolution, natural selection and genetic mutation, \nare introduced to address difficulties in selecting correction gains \nfor the observers, since no analytical tuning mechanisms yet \nexist.  Experimental measurements from an automotive power \nsteering test-facility are included, to demonstrate the enhanced \nperformance attributes offered by tuning the proposed observer \nschemes, online, in this manner. \n \nIndex Terms\u2014 Genetic algorithms, Nonlinear estimation, \nObservers, Permanent magnet machines, State estimation. \nI. INTRODUCTION \nncreasing pressure from governments, and other bodies, to \nimprove vehicle fuel economy and reduce carbon \nemissions, has lead to automotive manufacturers targeting \nauxiliary vehicle power systems as a means of improving \nefficiency.  The use of power assisted steering systems, in \nparticular, is now a relatively standard feature of most mass-\nproduced domestic vehicles, and improved efficiency could \nyield marked reductions in the vehicle auxiliary load, and \nconsequently, promote reduced vehicle emissions.  By way of \nexample, for a typical hydraulic power steering system the \nresulting load on the vehicle is around 1.5kW, of which only \n0.5kW may be transformed into mechanical assistance at the \nsteering shaft.  The resulting system efficiency is therefore \nrelatively low. It is estimated that the result of employing \nelectric-based power assistance is equivalent to an \nimprovement in fuel economy of up to 4% [1]. \n \n \n \nII. ELECTRIC POWER ASSISTED STEERING \nTwo generic types of electric assisted steering systems are \ncommonly employed by the automotive sector viz. full \nElectric Power Steering (EPS), and electrically powered \nhydraulic steering (EPHS); a combination of electric and \nhydraulic units, as schematically depicted, respectively, in \nFigs. 1(a) and (b).  Such systems generally have three modes \nof operation: \ni. to assist the driver to make a controlled turn \nii. to assist the driver to return to a straight line \nafter making a turn  \niii. improve road feel and to dampen kickback.  \nAdditionally, on the occurrence of a full-lock steering \ndemand, the Electronic Control Unit (ECU) reduces the \nsupply current to the motor to prevent overload conditions, \nand, upon the occurrence of a fault, must also ensure that the \nsystem fails to a safe state i.e. reverts to manual steering. \nEPS systems employ electromechanical actuation, with an \nelectric motor attached to the steering rack or column via a \ngear mechanism, as opposed to the more traditional hydraulic \npump. Sensors located on the input shaft determine the \namount of torque the driver is applying on the steering wheel, \nthe direction and speed of the steering wheel, and steering \nangle.  These measurements, along with the vehicle velocity \nare fed into the on-board ECU microprocessor, where lookup \ntables determine the required amount of power assistance. The \nresulting demand is fed to the drive circuitry to appropriately \nexcite the bi-directional motor, pushing the rack in either \ndirection.   \nPrimary advantages of EPSs are the elimination of \ntraditional hydraulic elements, such as the pumps, fluids, \nhoses, pulleys and drive-belts. Furthermore, their operation is \nengine independent, thereby reducing engine drain (giving \nimproved vehicle acceleration) and allowing assistance even \nwhen the engine is off\u2014the latter issue being particularly \nuseful for hybrid power trains where the engine is often \nturned-off and tractive power is delivered by pure electric \nmeans.   \nGA-tuning of Nonlinear Observers for \nSensorless Control of Automotive Power \nSteering IPMSMs  \nB. S. Bhangu (MIEEE), C. M. Bingham (MIEEE) \n \nDepartment of Electronic and Electrical Engineering \nUniversity of Sheffield, Mappin Street, \nSheffield, S1 3JD, UK. \nCorresponding author:  b.bhangu@sheffield.ac.uk \nI\n0-7803-9280-9\/05\/$20.00 \u00a92005 IEEE. 772\n \n \n \n \nA variant lying between conventional hydraulic steering \ntechnologies, and full electric integration, is EPHS.  As with \nEPS systems, all direct connections to the engine are \neliminated in favour of using an electric motor, ECU and \nhydraulic pump, all constructed as an integrated unit that is \nreadily linked to a conventional rack and pinion gear to \nprovide steering assistance when needed. Assistance is \nobtained by regulating the pump via control of the electric \nmotor to provide a desired pressure and flow-rate. To provide \nenergy savings, the pump is able to operate at low speed, or \nshutdown, when the car is travelling in a straight line. The \nmain advantages offered by current EPHS systems are \nenhanced performance at reduced cost. \nIII. PM MOTOR \/ DRIVE REQUIREMENTS \nPrimary in-service handling requirements of all power \nassisted steering systems are to impart smooth torque transfer \nto the mechanical steering linkages whilst also providing a \ndegree of torque feedback to the driver.   \nExisting EPHSs normally consist of a Permanent Magnet \nBrushless-DC (PMBDC) machine that continuously circulates \nhydraulic fluid for power steering assistance, whilst running at \na low standby speed. However, it is notable that PMBDC \nmachines, by virtue of their 2-phase-on block commutation, \ncan cause relatively high acoustic noise emissions and torque \nripple.  With the foreseeable adoption of increasing numbers \nof brushless machines in the vehicle, audible noise is \nbecoming a concern, and PM Brushless-AC motor (PMBAC) \ncounterparts are therefore becoming preferred candidates.  For \nsinusoidal commutation, however, encoders (and Hall-effects \nto facilitate full-torque start-up) or resolvers are traditionally \nrequired.  Such sensors decrease reliability (due to being \nsubjected to harsh environments) and usually require custom \nmounting arrangements. In addition, intense economic \nconstraints, product volumes and manufacture\/motor \nparameter tolerance issues, consistent with the requirements of \nvehicle technology industries, have meant that the cost and \ncomponent count attributed to the requirement for dedicated \nrotor position sensors for the increasing number of PMSMs \nenvisaged for auxiliary systems, is leading to greater interest \nin sensorless rotor position estimation schemes.  Furthermore, \nwhere applications call for custom motor designs, the \nomission of a rotor position sensor has the added benefit of \nincreasing the active length of the rotor\/stator, thereby further \nincreasing the power\/torque obtained for a given volume \nenvelope.   \nNevertheless, before any candidate sensorless solution can \nbe considered appropriate, the automotive sector requires that \nthe following key issues be addressed:  \ni. Minimal algorithm complexity\/code length  \nii. Accurate rotor position estimates during \ndynamic load disturbances\u2014no transient loss \nof information \niii. Robustness to parameter tolerances \niv. Low acoustic noise emissions. \nThe first issue relates to the economics of utilising extra \ncapacity on existing minimal-cost computational hardware \n(there is little point in replacing position sensors with \nrelatively expensive processing hardware), whilst the next two \npoints concern operational performance of the motor, and the \nconsequences of volume manufacture and changes in motor \nparameters due to the ambient thermal operating envelope \n(typically \u201340 to 125oC), respectively.  Finally, the 4th issue \nreflects requirements for user comfort in the cabin. \nIV. OBSERVER-BASED SENSORLESS CONTROL  \nFor servo-type applications, and those where \nelectromagnetic torque ripple and audible noise have a \nsignificant impact on overall product quality, vector control \nschemes are preferred [2]. In such cases, sensorless operation \ncan only be achieved by utilising motor terminal quantities to \nestimate rotor position.   \nThe situation is further complicated for applications in the \nvehicular technology industry, where the use of Interior \nPermanent Magnet Synchronous Machines (IPMSMs), or \nburied magnet motors, where the magnets are mounted inside \nthe rotor, are preferred Such machines have advantages for \ncost and performance-critical applications viz. the flat, buried \nmagnets can be cheaper to manufacture and can produce \nSteering wheel\nTorque and steering\nangle sensor\nVehicle velocity\nM\not\nor\nEPS\nECU\n\/\nPWM\n \n(a) \n \nECU\n\/\nPWM\nSteering wheel\nhydraulic pump\nM\not\nor\nEPHS\n \n(b) \nFig. 1. Schematic of electric-based power assisted steering systems (a) EPS\nsystem (b) EPHS system. \n773\n \n \n \nsimilar flux densities to surface mounted counterparts whilst \nrequiring less bulk material, and, for high speed operation, the \nrotor possesses enhanced mechanical robustness since the \nrotor iron encapsulates the magnets.  A consequence of using \nburied magnets, however, is that the direct and quadrature \nmotor inductances are no longer equal, with Ld and Lq \ndiffering typically by between 5 and 30%.    \nAlthough various observer-based sensorless techniques \nhave been proposed for non-salient PMSMs [3,4,5,6,7,8,9], \ntheir application to salient machines, for addressing the \nspecific requirements of automotive systems, remains \noutstanding.   \nHere then, two observer-based state-estimation techniques, \nare developed, specifically for application to IPMSMs, with \nthe use of GAs to assist in selection of optimal observer gains.  \nThe structural difference between the proposed observer \ntechniques, is shown in Fig. 2. The first method involves \nfeedback linearization followed by the design and subsequent \nimplementation of a classical Luenberger observer, extended \nto include salient nonlinearities, whilst the second proposes \nthe direct design of a non-linear observer. \nV. IMPACT OF SALIENCY ON POSITION ESTIMATES  \n  Employing observers on buried magnet machines without \naccommodating the effects of saliency is known to \nsignificantly degrade the accuracy of resulting rotor position \nestimates, as demonstrated in [10]. Consequently, \nformulations specifically for application to such machines, \nmust be made.   \nA. Feedback Linearization and Luenberger Observer \nDesign with Effects of Saliency \nA dynamic model of an IPMSM, in rotor-fixed d-q \nreference frame, is given in (1), where the applied inputs are \nthe transformed terminal voltages Tqd vvu ],[= , and the \nmeasured outputs are the machine terminal currents \nT\nqd iiy ],[= .  \n( )\n\u03c9\u03b8\n\u03c9\u03c9\n\u03c9\u03c9\n\u03c9\n=\n\u2212\u2212+=\n+\u2212\u2212\u2212=\n++\u2212=\ndt\nd\nJ\nBiiLL\nJ\npi\nJ\npK\ndt\nd\nL\nv\nL\nK\nL\nL\nii\nL\nR\ni\ndt\nd\nL\nv\nL\nL\nii\nL\nR\ni\ndt\nd\nqdqdq\nt\nq\nq\nq\ne\nq\nd\ndq\nq\ns\nq\nd\nd\nd\nq\nqd\nd\ns\nd\n2\n3\n (1) \nFrom (1), it is evident that equations describing the \nelectrical dynamics are coupled by nonlinear angular velocity \nterms.  The classical use of feedback linearization methods [5] \nmeans that such nonlinearities can be accommodated through \nthe use of auxiliary inputs:  \nddqq\nqqdd\nLivu\nLivu\n\u03c9\n\u03c9\n\u2212=\n+=\n (2) \nthat employ nonlinear feedback of motor currents and angular \nvelocity (estimated in practice).  For a salient machine, the \nresulting dynamic description is given by: \n( )\n\u03c9\u03b8\n\u03c9\u03c9\n\u03c9\n=\n\u2212\u2212+=\n+\u2212\u2212=\n+\u2212=\ndt\nd\nJ\nBiiLL\nJ\npi\nJ\npK\ndt\nd\nL\nu\nL\nKi\nL\nRi\ndt\nd\nL\nui\nL\nRi\ndt\nd\nqdqdq\nt\nq\nq\nq\ne\nq\nq\ns\nq\nd\nd\nd\nd\ns\nd\n2\n3\n (3) \nHowever, from (3), it is evident that a non-linear term \nremains by virtue of the non-zero term )( qd LL \u2212 that is \npresent as a consequence of motor saliency, thereby \npreventing classical Luenberger-type observer techniques to \nbe subsequently applied\u2014as is commonplace with the non-\nsalient motor counterparts [10].   \nA proposed solution is, therefore, to introduce an additional \nnon-linear state, z, such that: \nqd iiz =  (4) \nand, from (3), the time-derivative is given by: \nq\nz\nd\nz\nqd\ns L\nU\nL\nU\nz\nLL\nRz\ndt\nd 2111 ++\u239f\u239f\u23a0\n\u239e\n\u239c\u239c\u239d\n\u239b +\u2212=  (5) \nwhere, \ndqdez\nqdz\niuiKU\niuU\n+\u2212=\n=\n\u03c92\n1  (6) \nresulting in the new dynamic description: \n \nmotor model\nf(x,u)\nFeedback\nLinearization\n+\n+\nLuenberger\nobserver\nCorrection\n3-phase\nInverter IPMSM\ndq\n\u222b\n+\n-\n\u03b8\u02c6\n[ ]Tqd vv [ ]Tqd uu\ndv\n\u03c9\u02c6\n[ ]Tqd ii\nabc\ndq\n\u03c9\u2206\n[ ]Tqd ii calculate vd'\n[ ]Tqd ii \u02c6\u02c6\nSV\nPWM\n\u03b1\u03b2\nrefV\u03b2\nrefV\u03b1\n+\nw\n \n(a) \n \nmotor model\nf(x,u)\nNonlinear\nobserver gain\nyy \u02c6\u2212\n[ ]Tii \u03b8\u03c9\u03b2\u03b1 \u02c6,\u02c6,\u02c6,\u02c6\n+\n-\n+\n+\ninputs\n \n \n(b) \nFig. 2. Structure of observer schemes. (a) Feedback linearization and\nLuenberger observer (b) Nonlinear observer. \n774\n \n \n \n( )\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\n++\u239f\u239f\u23a0\n\u239e\n\u239c\u239c\u239d\n\u239b +\u2212\n\u2212\u2212+\n+\u2212\u2212\n+\u2212\n=\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\nq\nz\nd\nz\nqd\ns\nqdq\nt\nq\nq\nq\ne\nq\nq\ns\nd\nd\nd\nd\ns\nq\nd\nL\nU\nL\nU\nz\nLL\nR\nJ\nBzLL\nJ\npi\nJ\npK\nL\nu\nL\nK\ni\nL\nR\nL\nu\ni\nL\nR\nz\ni\ni\ndt\nd\n2111\n2\n3 \u03c9\n\u03c9\n\u03c9  (7) \nSince Uz1 and Uz2 are dependent on the auxiliary inputs and \nthe terminal currents, which will be measured quantities, they \ncan be considered as known disturbances.  Hence, a state \nvariable representation of the machine, suitable for the design \nof a Luenberger observer, can be derived from (7), as follows, \n( )\nT\nqd\nz\nz\nqd\nq\nd\nq\nd\nq\nd\nqd\ns\nqd\nt\nq\ne\nq\ns\nd\ns\nq\nd\nzii x\nwuxx\nU\nU\nLL\nu\nu\nL\nL\nz\ni\ni\nLL\nR\nLL\nJ\np\nJ\nB\nJ\npK\nL\nK\nL\nR\nL\nR\nz\ni\ni\ndt\nd\n][  where\nor\n11\n00\n00\n00\n00\n00\n10\n01\n11000\n2\n30\n00\n000\n2\n1\n\u03c9\n\u03c9\u03c9\n=\n++=\n\u23a5\u23a6\n\u23a4\u23a2\u23a3\n\u23a1\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a3\n\u23a1\n+\u23a5\u23a5\u23a6\n\u23a4\n\u23a2\u23a2\u23a3\n\u23a1\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\n+\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a3\n\u23a1\n\u239f\u239f\u23a0\n\u239e\n\u239c\u239c\u239d\n\u239b +\u2212\n\u2212\u2212\u2212\n\u2212\u2212\n\u2212\n=\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\nBA&\n (8) \nThe structure of the resulting observer is given by: \n)\u02c6(\u02c6\u02c6 yywuxx \u2212+++= KBA&  (9) \nwhere w  is the \u2018known\u2019 disturbance given by last term on \nRHS of (8). \nIt is notable that the state variable relating to \u03b8  has been \nomitted in (7-9), in favour of utilising an auxiliary correction \nfeature, initially proposed in [11], to account for the \nunobservability of \u03b8 , as a result of the feedback linearization \nprocess given by (2).  The complete rotor position estimation \nscheme therefore consists of  \ni. a feedback linearising controller \nii. a linear observer \niii. a correction scheme to allow \u03b8\u02c6 to converge      \nto\u03b8  \nas shown in Fig. 2(a).  Ultimately, the performance of the \nobserver is dependent on the assignment of suitable \nconvergence dynamics, via the choice of K, and is motor \nparameter dependent.  The eigenvalues of the observer are \ngenerally assigned to be of sufficiently high-bandwidth, \ncompared to the motor dynamics, so as to minimise the effects \nof a transient convergence of state estimates on closed-loop \nspeed and position control systems.  Specifically, the error \nconvergence dynamics are designed by noting the difference \nbetween the system state vector, and the observed state vector ( )xx \u02c6\u2212  and are governed by [12]: \n( )exxe KCA \u2212=\u2212= &&& \u02c6  (10) \nwhere K assigns appropriate eigenvalues. \nThe performance of the proposed observer is demonstrated \non a closed-loop, speed controlled, power-steering test-\nfacility, Fig. 3, incorporating a, 0.7kW, 12V IPMSM with \n28% saliency. In this case, the electrical time constant of the \nmotor is 3.5ms and the inertia of the motor and load is \n410x7.1 \u2212 kgm2. \n \n \nFig. 3. Power assisted steering test facility. \n \n(a) \n \n(b) \nFig. 4. Power assisted steering test facility. Rotor position error in response\nto transient speed demands at t=0s. (a) Non-salient Luenberger observer  \n(b) Salient Luenberger observer. \n775\n \n \n \nFigure 4 shows the performance resulting from application \nof the non-salient observer scheme, and the proposed salient \nvariant, respectively, in response to various transient step \ndemands from 500rpm at t=0s. Neglecting the effects of \nsaliency in the observer, Fig. 4(a) shows the increase in \nsteady-state position error.  However, by integrating the \neffects of the salient dynamics into the observer, as discussed, \nalong with the known disturbance, w, improvements in the \nrotor position estimates are evident from the measurements \ngiven in Fig. 4(b), particularly for relatively high speed \ndemands.  Although position errors are present in all cases, a \ngeneral improvement in both the dynamic- and steady-state \nresponses can be seen when the salient observer variant is \nemployed.  Moreover, when using the non-salient observer, a \ngeneral reduction in the robustness of estimate convergence, is \nalso evident, with unstable tendencies being present for large \ntransient demands. \nB.  Non-linear observer scheme incorporating the effects of \nsaliency \nA full account of the formulation of the proposed direct \nnonlinear observer, is beyond the scope of this paper.  The \nreader is therefore re-directed to [4] for derivation details and \nto [12] for full details of the salient counterpart.  Here then, \nfor brevity, the resulting structure of the proposed salient \nobserver is merely stated as: \n( ) ( )\n( )yy\nJ\nBiiLL\nJ\npii\nJ\npK\nL\nv\nLiiL\nL\nKi\nL\nR\nL\nvLiiL\nL\nKi\nL\nR\ni\ni\ndt\nd\nqdqd\nt\nd\noqqo\nd\ne\nd\ns\nd\noqqo\nd\ne\nd\ns\n\u02c6\n\u02c6\n\u02c6\n2\n3\u02c6sin\u02c6\u02c6cos\u02c6\ncossincos\nsincossin\n\u02c6\n\u02c6\n\u02c6\n\u02c6\n\u2212+\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a3\n\u23a1\n\u2212\u2212+\u2212\n++\u2212\u2212\u2212\n+\u2212\u2212+\u2212\n=\n\u23a5\u23a5\n\u23a5\u23a5\n\u23a5\n\u23a6\n\u23a4\n\u23a2\u23a2\n\u23a2\u23a2\n\u23a2\n\u23a3\n\u23a1\nK\n\u03c9\n\u03c9\u03b8\u03b8\n\u03b8\u03b8\u03c9\u03b8\u03c9\n\u03b8\u03b8\u03c9\u03b8\u03c9\n\u03b8\n\u03c9\n\u03b1\u03b2\n\u03b2\u03b2\n\u03b1\u03b1\n\u03b2\n\u03b1\n&\n&\n  \nwhere, the observer gain K takes the form, \n \n\u23a5\u23a6\n\u23a4\u23a2\u23a3\n\u23a1\n\u0393= zs\ny\nK\nK\nK ,           \u23a5\u23a5\u23a6\n\u23a4\n\u23a2\u23a2\u23a3\n\u23a1=\n2\n1\n0\n0\ny\ny\ny K\nK\nK  \n\u23a5\u23a6\n\u23a4\u23a2\u23a3\n\u23a1 \u2212=\u0393 \u03b8\u03b8\n\u03b8\u03c9\u03b8\u03c9\n\u03c9 sincos\ncossin\ne\nd\ns K\nL ,          \u23a5\u23a6\n\u23a4\u23a2\u23a3\n\u23a1=\n2\n1\n0\n0\nz\nz\nz K\nK\nK  \nd\nqd\nL\nLL\nL\n\u2212=0  (11) \nNotably, no formal tuning methods have yet been reported \nfor selecting Ky and Kz, and recourse to either \u2018sweep-\nparameter\u2019 methods or intelligent tuning methods is ultimately \nrequired.  \nExample measurements comparing the performance of both \nthe salient and non-salient observer schemes, is given in Fig. \n5, where step changes in speed demand, from 500 to 1000 \nrpm, are applied. It can be seen that the proposed salient \nobserver scheme consistently outperforms the non-salient \ncounterpart, with 40% improvement in position error being \nevident.  The gain matrices in each case depicted here have \nbeen \u2018tuned\u2019 on-line by empirical means. \nVI. GA TUNING OF THE NONLINEAR OBSERVE \nTwo methods for choosing the elements of the gain \nmatrices, are now investigated.  The first, based on a \n\u2018parameter sweep\u2019, merely scans elemental values of the gain \nmatrices and performs tests to determine the resulting position \nerror. The second technique is an \u2018intelligent\u2019 tuning method \nbased on the on-line implementation of a Genetic Algorithm \n(GA). \nA. Parameter Sweep Method \nSimulation studies have been conducted to identify regions \nof the gain parameter space that facilitate stable sensorless \ncontrol of the IPMSM. Fig. 6(a) shows an example result \ndepicting the stable and unstable regions of the resulting \nclosed-loop system, for a range of gain values\u2014the stable and \nunstable regions are classified by plotted values \u20180\u2019 and \u20181\u2019, \nrespectively. All results are obtained at steady-state operating \nconditions at 1000rpm.  \n \nFig. 5.  Position error in response to a step speed demand at t=0s.\n \n(a) \n \n(b) \nFig. 6. Simulation results from a parameter sweep of correction gains. (a)\nStable and unstable region (b) Stability and performance for a range of Ky\nand Kz. \n776\n \n \n \nOn closer examination of the results from the stable region, \nFig. 6(b) shows the resulting steady-state position error for the \nassociated range of Ky and Kz.  In this case, it is seen that \nperformance is enhanced when Ky is bounded between \n60004000 \u2192 , and Kz between 61015.0 \u00d7\u2192 , and that, by \nappropriate choice, the position error can be within 0.03 rad \n(elec). \nB. Genetic Algorithm Implementation \nAn alternative technique is to select observer gains based \non the results from a GA, tuned on-line.  A block diagram \nrepresentation of the basic operation of the GA, with the \nobjective of obtaining minimum position error, is shown in \nFig. 7. In principle, \u2018parents\u2019 are selected for reproduction \nwith a bias towards individuals with a \u2018high-fitness\u2019, and \nreproduced by cross breeding or recombining by processes of \ncrossover and mutation [13] to generate off-spring.  Repetition \nof this process leads to evolutionary populations that enhance \nthe fitness function [13] (position error in this case).  \nResults from the candidate IPMSM, Fig. 8(a), shows an \nexample GA trial exploring a large state-space to maximise \nthe fitness function i.e. minimum rotor position error, with \nFig. 8(b) showing the rotor position error obtained from initial \nobserver gains (obtained from the \u2018sweep test\u2019 and trial-and-\nerror basis) and with resultant gains obtained from on-line GA \ntrials for a range of Ky and Kz from .20000 \u2192  It is evident \nthat the GA selects gains that generally provide smaller \ntransient overshoot, lower settling time and reduced steady \nstate error. \nThe following accounts the experimental implementation of \nthe GA, on-line, to tune the nonlinear observer gains for \nenhanced sensorless performance of the vector controlled \nIPMSM. A performance comparison of position error at \nvarious speeds, is given in Fig. 9. The parameter sweep \nmethod, along with the best \u2018manual\u2019 tuning of observer, and \nthe associated steady-state position error at various steady-\nstate operating speeds, is shown in Fig. 9 (a). It can be seen \nthat the observer gains obtained from the use of the GAs result \nin similar characteristics, but with reduced position error when \ncompared to the results of the sweep tests.  Due to the \nstatistical nature of GA evolution, however, it is likely that \ndifferent sets of gains will result from each trial (in practical \nsituations at least, since the global optima is likely to be \nslightly different due to changes in operating temperature, for \ninstance, and other extraneous effects). Figure 9 therefore also \nshows that although the observer gains from two independent \ntests, termed GA1 and GA2, each produced a different set of \ngains  (\u224860% variation), Table I, whilst being tuned at a \nsteady-state speed demand of 1000 rpm, it can be seen that the \nperformance in each case is qualitatively very similar.  \nMore generally, since it is recognised that the evolution of \nGAs are based on statistical features, extensive testing is often \nnecessary to ensure the results do not become trapped within \nlocal minima, and provide a degree of confidence that \nsolutions are optimal.  Results of several trials, at various \noperating speeds, and with different statistical properties, in \nparticular, by defining the probability of crossover and \nmutation (termed \u2018xov\u2019 and \u2018mut\u2019 respectively), are applied to \nthe GA.  From Fig. 10, which shows the resulting steady-state \nerror after each set of gains has been applied to the observer, it \ncan be seen that the performance is, again, qualitatively very \nsimilar each case, even with typical variations of Ky and Kz \nbeing \u224835% and \u224865%, respectively. This is therefore \nsuggestive that a characteristic of this system is that localised \noptima provide similar performance features. \n \nGenerate\nPopulation\nConvert chromosomes\n(binary string to real value)\nApply gains to\nobserver\nEvaluate fitness\n(min position error)\nPerform\ncrossover\nPerform\nmutation\nConvergence ?\nTournament selection\nwith breeding\n(select parents for reproduction)\nno\nyes\nOptimum observer gains\n \nFig. 7. GA for tuning nonlinear observer. \n \n(a) \n \n(b) \nFig. 8. Simulated study of parameter sweep gains to online implementation \nof GAs. (a) On-line selection of observer gains (b) Position error associated \nwith using GA observer gains.\n777\n \n \n \n \nC. Robustness study \nObserver robustness when subject to parameter variations is \nan essential feature of candidate estimation schemes when \nmotors are manufactured in high volumes, where parameters \nsuch as the phase resistance, Rs, and the back-emf constant, \nKe, in particular, can change significantly due to variations in \nambient temperature.  A number of trials have therefore been \nundertaken to investigate the impact of parameter variations \non estimates of rotor position, over a wide speed range \n(including field weakening regime, id\u22600).  The results, which \nhave been taken for both the nominal parameters, and \u224820% \nvariations in Rs and \u224811% variations in Ke, (Table II) are \ngiven in Fig. 11.  For each selected case, it can be seen that \nthe observer performance remains stable and the maximum \nrotor position error is \u224812o\u2014well within the accuracy \nrequirements for this application. Notably, the worst-case \nerror is evident upon occurrences of both extreme variations \nof Ke and Rs. \nVII. CONCLUSION \nTwo observer-based rotor position estimation schemes for \nsensorless control of IPMSMs for an automotive electric \npower steering system, have been investigated.  The first \nemploys a linearised controller with the second scheme \nconsidering a complete non-linear implementation.  For the \nlatter, difficulties in tuning the observer gain terms have \nprompted an investigation into the use of parametric \u2018sweep\u2019 \ntests and GAs, with tuning based on GAs showing a marked \nperformance improvement.   \nImportantly, for cost critical applications, it is highly \ndesirable that such observer schemes make use of existing \nprocessing hardware.  In this case, computational overhead \nand memory requirements are of significant importance.  \nTable III therefore shows the resource requirement for both \ntechniques, with a corresponding EKF implementation (a \ntraditional solution to such problems) being included as a \nbenchmark. In this case, the feedback linearisation\/Luenberger \nobserver technique is seen to provide the highest resource \nefficiency. \n \nFig. 9. Experimental results illustrating comparison of sweep test gains \n(Initial gains) to observer gains obtained from on-line GAs for GA1 and GA2 \nshown by Table I. \n \nFig. 10. Position error measurements from automotive salient machine for\nvarious operating speeds and statistical properties using optimal observer \ngains identified by GAs. \nFig. 11. Position errors at various operating speeds, subject to parameter\nvariation of Rs and Ke about their nominal value. \nTABLE I \nOBSERVER GAINS FROM SWEEP TEST AND GAs AT 1000RPM \n \nTest Ky1 Kz1 Kz2 \nInitial 5000 1x106 1X106 \nGA1 5000 7.8692x106 87.0799 x106 \nGA2 5000 17.8133 x106 76.1199 x106 \n \nTABLE II \nPARAMETER VARIATION OF Rs AND Ke. \n \n   Ke  \n Multiplying \nfactor 0.89 1 1.1 \n  Rs 0.8 Ke lo  Rs lo Rs lo Ke hi  Rs lo\n 1 Ke lo 1 Ke hi \n 1.21 Ke lo  Rs hi Rs hi Ke hi  Rs hi\n \nTABLE III \nOBSERVER RESOURCE REQUIREMENTS \n \n Computation time Memory requirement \nEKF 1 1 \nLuenberger 0.10 0.34 \nNonlinear 0.17 0.41 \n \n \n778\n \n \n \nACKNOWLEDGMENT \nThe authors would like to thank TRW Automotive UK for \nproviding funding for the research, with particular thanks to \nDrs. Connel Williams and Jeff Coles for their valuable \ncontributions. \nREFERENCES \n[1] Electric Steering Systems \u2013 E-SteerTM electric power steering. Delphi. \n[2] J.X Shen, Z.Q. Zhu and D. Howe \u201cImproved speed estimation of \nsensorless PM brushless AC drives\u201d IEEE Trans. Ind. Electronics, vol. \n38(4), pp.1072-1080. \n[3] A. Bado, S. Bologani, M. Zigliotto \u201cEffective estimation of Speed and \nRotor Position of an PM Synchronous Motor Drive by a Kalman \nFiltering Technique\u201d IEEE Proc. PESC, 1992, pp.951-957. \n[4] G. Zhu, A. Kaddouri, L. Dessiant and O. Akhrif  \u201cA Nonlinear State \nObserver for the Sensorless Control of a Permanent-Magnet AC \nMachine\u201d IEEE Trans. Ind. Electronics, vol. 48, 2001, pp.1098-1108. \n[5] D. Hamada, K. Uchida, L. F, Yusivar, S. Wakeo and T. Onuki  \n\u201cSensorless Control of PMSM using a Linear Reduced Order Observer \nincluding Disturbance Torque Estimation\u201d EPE\u201999 - Lausanne, Waseda \nUniversity. \n[6] J. Solsona and C. Muravchik  \u201cA Nonlinear Reduced Order Observer for \nPermanent Magnet Synchronous Motors\u201d IEEE Trans. Ind. Electronics, \nvol. 43, 1996, pp.492-497. \n[7] R. Dhaouadi, N. Mohan and L. Norum, \u201cDesign and Implementation of \nan Extended Kalman Filter for the State Estimation of a Permanent \nMagnet Synchronous Motor\u201d IEEE Trans. on Power Electronics, vol. 6, \n1999, pp.491-497. \n[8] S. Bolognani, R. Oboe and M. Zigliotto, \u201cSensorless Full-Digital PMSM \nDrive With EKF Estimation of Speed and Rotor Position\u201d IEEE Trans. \nInd. Electronics, vol. 46, 1999, pp.184-191. \n[9] B. Bhangu, C. Williams, C. M. Bingham and J. Coles  \u201cEKFs and other \nNonlinear State-Estimation Techniques for Sensorless Control of \nAutomotive PMSMs\u201d; Proc. SPEEDAM 2002, pp.C5 33-38, Italy. \n[10] B. Bhangu, C. M. Bingham, \u201cNonlinear State-Observer Techniques for \nSensorless Control of Automotive PMSM\u2019s, including Load-Torque \nEstimation and Saliency\u201d; EPE 2003, Toulouse, France. \n[11] N. Matsui and M. Shigyo, \u201cBrushless dc Motor Control without Position \nand Speed sensors\u201d IEEE Trans. Ind. Electron., vol. 28, 1992, pp. 120-\n127. \n[12] B. Bhangu \u201cSensorless control of PMSMs for automotive electric power \nsteering systems\u201d Thesis, Sheffield University, 2004. \n[13] L. Feng, Y. Qiwen, \u201cApplications of GAs in Sensorless  Speed \nadjustment Control for Induction Motor Drive System\u201d Power \nElectronics and Motion Control Conf., Proc. PIEMC 2000, vol. 1, pp. \n296-301. \n \n \n \n779\n"}