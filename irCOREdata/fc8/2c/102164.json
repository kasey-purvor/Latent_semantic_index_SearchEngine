{"doi":"10.1109\/TBC.2008.2005397","coreId":"102164","oai":"oai:epubs.surrey.ac.uk:1613","identifiers":["oai:epubs.surrey.ac.uk:1613","10.1109\/TBC.2008.2005397"],"title":"A Cross-Layer Delay Differentiation Packet Scheduling Scheme for Multimedia Content Delivery in 3G Satellite Multimedia Systems","authors":["Fan, L","Du, H","Mudugamuwa, U","Evans, BG"],"enrichments":{"references":[],"documentType":{"type":1}},"contributors":[],"datePublished":"2008-12-01","abstract":null,"downloadUrl":"","fullTextIdentifier":null,"pdfHashValue":null,"publisher":"IEEE-INST ELECTRICAL ELECTRONICS ENGINEERS INC","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:epubs.surrey.ac.uk:1613<\/identifier><datestamp>\n      2017-10-31T14:02:31Z<\/datestamp><setSpec>\n      74797065733D61727469636C65<\/setSpec><setSpec>\n      6469766973696F6E733D656E67616E64706879736963616C736369656E636573:656C656374726F6E6963656E67696E656572696E67:63637372<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:relation>\n    \n      \n        http:\/\/epubs.surrey.ac.uk\/1613\/<\/dc:relation><dc:title>\n        A Cross-Layer Delay Differentiation Packet Scheduling Scheme for Multimedia Content Delivery in 3G Satellite Multimedia Systems<\/dc:title><dc:creator>\n        Fan, L<\/dc:creator><dc:creator>\n        Du, H<\/dc:creator><dc:creator>\n        Mudugamuwa, U<\/dc:creator><dc:creator>\n        Evans, BG<\/dc:creator><dc:publisher>\n        IEEE-INST ELECTRICAL ELECTRONICS ENGINEERS INC<\/dc:publisher><dc:date>\n        2008-12-01<\/dc:date><dc:type>\n        Article<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:format>\n        text<\/dc:format><dc:language>\n        en<\/dc:language><dc:identifier>\n        http:\/\/epubs.surrey.ac.uk\/1613\/1\/fulltext.pdf<\/dc:identifier><dc:identifier>\n          Fan, L, Du, H, Mudugamuwa, U and Evans, BG  (2008) A Cross-Layer Delay Differentiation Packet Scheduling Scheme for Multimedia Content Delivery in 3G Satellite Multimedia Systems   IEEE TRANSACTIONS ON BROADCASTING, 54 (4).  pp. 806-815.      <\/dc:identifier><dc:relation>\n        10.1109\/TBC.2008.2005397<\/dc:relation><dc:language>\n        English<\/dc:language><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/epubs.surrey.ac.uk\/1613\/","10.1109\/TBC.2008.2005397"],"year":2008,"topics":[],"subject":["Article","PeerReviewed"],"fullText":"806 IEEE TRANSACTIONS ON BROADCASTING, VOL. 54, NO. 4, DECEMBER 2008\nA Cross-Layer Delay Differentiation Packet Scheduling Scheme for\nMultimedia Content Delivery in 3G Satellite Multimedia Systems\nLinghang Fan, Hongfei Du, Member, IEEE, Upendra Mudugamuwa, Student Member, IEEE, and\nBarry G. Evans, Senior Member, IEEE\nAbstract\u2014The design of efficient packet scheduling algorithms,\nwhich play a key role in the radio resource management (RRM),\nis crucial for the multimedia delivery in the satellite digital multi-\nmedia broadcasting (SDMB) system. In this paper, a novel packet\nscheduling scheme, which uses the cross-layer approach in its de-\nsign, is proposed. This scheme comprises a new service prioriti-\nzation algorithm and a dynamic rate matching based resource al-\nlocation algorithm, aimed at utilizing both the applications\u2019 QoS\nattributes and the physical layer data rate information. The per-\nformance of the proposed scheme has been evaluated via simula-\ntion. In comparison with existing schemes, the proposed scheme\nachieves significant performance gain on delay, delay variation and\nphysical channel utilization.\nIndex Terms\u2014Cross-layer design, DDQ, dynamic rate matching,\npacket scheduling, RRM, SDMB.\nI. INTRODUCTION\nT HE EUROPEAN satellite digital multimedia broadcasting(SDMB) [1] system implements a satellite based broad-\ncast layer over 2.5G and 3G terrestrial mobile cellular networks\naimed at the efficient delivery of the multimedia broadcast mul-\nticast service (MBMS) [2], [3]. Due to the unidirectional na-\nture of the SDMB system and the point-to-multipoint services it\nprovides, the design of packet scheduling algorithms in SDMB\nis challenging. The packet scheduling schemes in SDMB are\nnot only required to satisfy the quality of service (QoS) require-\nments of different service flows, but also have to optimize the\ntransmission power setting of each physical channel on the basis\nof the required reception QoS level and under the constraint\nthat the total available transmission power for all the physical\nchannels within a satellite beam is fixed. Given the absence of\na power control mechanism and the lack of channel-state-infor-\nmation (CSI) via the return channels, existing packet scheduling\nalgorithms [4]\u2013[8] used in general mobile networks cannot be\nused directly in the SDMB system.\nPrevious studies [9] have addressed the packet sched-\nuling problems in the SDMB system via adaptation of two\nwell-known packet scheduling schemes, namely multi-level\nManuscript received November 07, 2006; revised July 03, 2008. Current ver-\nsion published December 04, 2008. This work has been supported by the IST\nFP6 MAESTRO [16] project, funded by European Commission (EC).\nL. Fan and B. G. Evans are with the Mobile Communications Research\nGroup, Center for Communication Systems Research, University of Surrey,\nGuildford, Surrey GU2 7XH, U.K.\nH. Du is with the School of Computing Science, Simon Fraser University,\nBurnaby, BC V5A 1S6, Canada (e-mail: hongfei.du@ieee.org).\nU. Mudugamuwa is with Aeroflex, Cambridge SG8 6DP, U.K.\nColor versions of one or more of the figures in this paper are available at\nhttp:\/\/ieeexplore.ieee.org.\nDigital Object Identifier 10.1109\/TBC.2008.2005397\npriority queuing (MLPQ) and weighted fair queuing (WFQ).\nHowever, both feature major weaknesses in provisioning\nQoS differentiated multimedia services with respect to both\nefficiency and fairness. Furthermore, the power allocation algo-\nrithm used in previous packet scheduling schemes is based on\nstatic rate matching (SRM), where the transmit power setting\nfor the physical channel is based on the required reception\nquality of the most demanding requirement against\ntarget block error rate (BLER) of all the active multiplexed ser-\nvice flows in the physical channel. No cross-layer information\nis exchanged between the MAC layer scheduling algorithm\nand the physical layer functions. Relevant issues in relation to\nthe reliability mechanisms for the SDMB system are evaluated\nin [10], where the cross-layer approach is investigated for\ncombining redundancy introduction across protocol stacks.\nTo this end, based on our previous research [11], a novel\ncross-layer packet scheduling scheme, called cross-layer delay\ndifferentiation queuing (CL-DDQ), is proposed in this paper.\nTwo main algorithms can be identified in the proposed packet\nscheduling scheme: an efficient service prioritization algorithm,\nnamely delay differentiation queuing (DDQ), and dynamic re-\nsource allocation (DRA) algorithm based on a new technique\ncalled dynamic rate matching [12]. As the first step, DDQ per-\nforms service prioritization based on the applications\u2019 QoS de-\nmands and delay status of competing flows. Thereafter, the DRA\nscheme, which operates in coordination with the dynamic rate\nmatching, further optimizes the resource allocation based on\nthe physical layer data rate. Dynamic rate matching is proposed\nagainst the conventional downlink SRM in order to minimize the\nnumber of discontinuous transmission (DTX) bits required for\nthe chosen transport format combination in a transmission time\ninterval (TTI) scale given the available physical layer resources.\nUnlike its SRM counterpart, by utilizing the cross-layer infor-\nmation (i.e. physical layer instantaneous data rate), dynamic rate\nmatching achieves better resource utilization at the MAC layer,\nand thereby improves the overall system performance.\nThis paper is organized as follows. An outline of the radio\nresource management (RRM) concept in the SDMB system is\npresented in Section II. The proposed RRM strategy is then pre-\nsented in Section III. In Section IV, the simulation scenarios are\ndescribed. We then proceed in Section V with the performance\nevaluation of the proposed scheme, in comparison with existing\nschemes. We summarize our proposal and conclude this paper\nin Section VI.\nII. RRM IN SDMB\nA. System Review\nAs illustrated in Fig. 1, the SDMB system defines a hybrid\nsatellite-terrestrial communication system, featuring a unidi-\n0018-9316\/$25.00 \u00a9 2008 IEEE\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\nFAN et al.: CROSS-LAYER DELAY DIFFERENTIATION PACKET SCHEDULING SCHEME 807\nFig. 1. SDMB system architecture.\nrectional geostationary satellite component that is responsible\nfor the delivery of the point-to-multipoint MBMS services\nand provides a European coverage by multiple umbrella cells.\nThe SDMB radio interface employs an adaptation of the wide-\nband code-division multiple access (WCDMA) [13], with the\nsatellite gateway (Sat-GW) hosting both the Radio Network\nController (RNC) and the Node B functional entities of the\nUMTS Radio Access Network. The user equipment (UE) ap-\nplies the standard 3G terminal enriched with SDMB-enabling\nfunctions, which, given the unidirectional nature, are very\nlimited. The terrestrial gap-fillers, identified as intermediate\nmodule repeater (IMR), are co-installed physically at the ter-\nrestrial base stations to enhance the signal reception quality\nand provide adequate coverage in urban, built-up areas. The\nSDMB-enabled Broadcast\/Multicast Service Center (BMSC),\nis enhanced with SDMB-specific functions from the standard\n3GPP MBMS BMSC [3].\nIt is noteworthy that no direct satellite return link is envisaged\nunder the baseline SDMB infrastructure, the return path is rather\nprovided via the terrestrial link if needed. It is assumed that in\nSDMB, MBMS services are intended for transmission to UEs\nin either broadcast or multicast mode. In the latter case service\nis only delivered to the UEs within a specific multicast group.\nPackets from the BMSC are firstly buffered at the Sat-Hub (or\nNode B) in a FIFO manner before being scheduled for trans-\nmission over the satellite link. Being closely integrated into the\nbaseline architecture of 2.5 G\/3 G mobile cellular networks, the\nsystem enjoys maximum reusing of technology and infrastruc-\nture and minimum system development cost [14]. The hybrid\nsystem takes advantage of the satellite inherent broadcast ca-\npability to provide efficient delivery of MBMS contents to the\nextensive mass mobile market.\nBeing defined by the European Telecommunications Stan-\ndards Institute (ETSI), the SDMB system provides datacast ca-\npacity for various mobile operators. Based on a broadcast na-\nture, the SDMB system offers extensive coverage, low trans-\nmission cost for large numbers of terminals as well as high QoS\nguarantees for real time multimedia applications. By employing\nthe WCDMA with frequency division duplexing (FDD), the\nsystem can be closely integrated with existing mobile cellular\nnetworks, and minimize potential cost impacts on both 3 G cel-\nlular terminals and network operators. The successful validation\nand demonstration of the innovative SDMB concept carried out\nwithin the EU IST project MoDiS [15] has pushed the system to-\nwards an operational stage. The whole range of issues pertinent\nto the SDMB system, from system definition to standardization,\nis addressed in the EU IST project MAESTRO [16].\nIn the S-DMB system, the service types are considered as:\n\u201cstreaming\u201d, \u201chot download\u201d, and \u201ccold download\u201d:\n\u2022 Streaming allows multimedia to be stored temporarily in\nthe receiver buffer and displayed continuously even before\nthe completion of transmission. Streaming service requires\nexplicit upper bound on queuing delay\/ delay variation.\n\u2022 Hot download allows the data to be stored at the receiver\nfor their offline access. Compared with streaming, the hot\ndownload service has more tolerant demand on delay and\ndelay variation but more stringent demand on packet loss.\n\u2022 Cold download requires the least demand on delay\/ delay\nvariation but the most stringent demand on packet loss, ser-\nvices in this category are often transmitted as individual\nfile, such as software package, video\/images, and text mes-\nsages.\nB. RRM in SDMB\nThe Radio Resource Management (RRM) functionalities im-\nplemented at the SDMB access layer comprise three main sep-\narated but cooperated parts: packet scheduling, radio resource\nallocation (RRA), and admission control. Due to the unidirec-\ntional nature of the SDMB system and the point-to-multipoint\nservices it provides, the design of an efficient RRM scheme is\nchallenging.\nThe physical channels are multiplexed in the satellite\ngateway through a two-level RRA procedure [17]. The RRA\nis responsible for the radio bearer configuration at the time\nof the admission for each session, which includes the esti-\nmation of the required number of logical\/transport\/physical\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\n808 IEEE TRANSACTIONS ON BROADCASTING, VOL. 54, NO. 4, DECEMBER 2008\nFig. 2. Channel mapping in the SDMB system.\nchannels and their mapping from logical channels to the trans-\nport\/physical channels [18]. As seen from Fig. 2, each service is\nmapped, one-to-one, onto an MBMS point-to-multipoint Traffic\nCHannel (MTCH) logical channel [19], which is then mapped\nonto the Forward Access Channel (FACH) transport channel.\nAt the physical layer, the Secondary Common Control Physical\nCHannel (S-CCPCHs) can carry one or more FACH(s) via\ntransport channel multiplexing [18]\u2013[22]. The implementation\non the radio bearer mapping and allocation are out of scope of\nthis paper, interested readers may refer to [23] for more details.\nThe role of the scheduler is to time-multiplex competing\nQoS-differentiated service flows and adjust the transmit power\nsetting for each physical channel accordingly.\nThe admittance decision of each incoming requested session\nis handled by the admission control function. An appropriate\ntransport format combination set (TFCS) for each physical\nchannel must be derived for the packet scheduler performing\nthe short-term resource allocation work.\nFig. 3 illustrates an example of data exchange through the\nSDMB access layer. A transport block is the minimum element\nthat can be accepted by the physical layer to be jointly encoded,\nand a set of transport blocks that are exchanged between MAC\nand physical layer at the same TTI using the same transport\nchannel is defined as a transport block set (TBS). For each TTI,\nthe packet scheduler in the MAC will choose an appropriate\ntransport format from each multiplexed transport channel. In\nthe presence of the transport channel multiplexing, the combi-\nnation of the selected transport formats\/transport format sets for\nall the transport channels forms a transport format combination.\nAll the transport format combinations that an UE is permitted to\ntransmit in each physical channel during each TTI are included\nin a list called the TFCS. One of the main functions of the packet\nscheduler is to select the appropriate transport format combina-\ntion from the TFCS list in each TTI.\nGiven the absence of a power control mechanism in SDMB,\nthe packet scheduler becomes the main mechanism of fast re-\nsource allocation and performs the priority handling and trans-\nport format selection tasks. More specifically, in SDMB, the\npacket scheduler is responsible for two important tasks that are\nexecuted in each TTI interval of the radio bearers:\n1) Time-multiplexing of service flows with different QoS\nrequirements into physical channels with fixed spreading\nfactor, so as to satisfy these requirements.\n2) Adjusting the transmit power of the physical channel car-\nrying the data flows on the basis of the required reception\nquality of the service (i.e. the target BLER) under the con-\nstraint that the total available power for all the physical\nchannels within a satellite beam is fixed.\nAs shown in Fig. 4, time multiplexing from transport chan-\nnels to physical channels is preformed independently from other\nphysical layer functions, such as CRC, turbo coding and inter-\nleaving. However, the performance of rate matching, which is\nresponsible for matching input data rates to the allocated data\nrate by performing puncturing or repeating the bits, is highly\nrelevant to the transport channel multiplexing.\nIt is noted that extensive research [24], [25] has been done on\nthe upper layer Turbo coder and first interleaving, but limited\nresearch has been carried out with respect to the rate matching\ntechnique. In traditional SRM schemes, the allocated data rate is\nbased on the maximum data rate supportable for each physical\nchannel. This strategy can only influence long term resource al-\nlocation, whilst the short term physical layer data rate variation\ncan waste system capacity. Since the rate matching functionality\nis performed at the physical layer in accordance with other phys-\nical layer procedures, cross-layer interactions between physical\nlayer and MAC layer can lead to beneficial impact on resource\nutilization\/allocation.\nC. Problem Analysis\nAccording to the specific features in the SDMB system, the\npacket scheduling scheme has the following requirements to\nconsider:\n1) Time multiplexing;\n2) Power constrains;\n3) Absence of return channel(s).\nAs aforementioned, previous studies [9] have systematically\naddressed the packet scheduling problems in the SDMB system\nvia adaptations of two well-known packet scheduling schemes,\nnamely multi-level priority queuing (MLPQ) and weighted fair\nqueuing (WFQ). These two scheduling schemes were designed\nbased on the terrestrial scheme according to specific features\nin the SDMB system. However, both feature major weaknesses\nin provisioning QoS-differentiated multimedia services with re-\nspect to efficiency and fairness.\nFirstly, MLPQ always processes packets from those\nnon-empty queues with the highest QoS rank; as a result,\npackets waiting in lower-priority queues may suffer from con-\nsiderably longer queuing delays. Furthermore, it is generally\nagreed that background applications do not have strict delay\nconstraint, and the only requirement for applications in this\ncategory is that information should be delivered to the user\nerror free. In fact, background applications still need a delay\nconstraint as there will always be an upper limit for any service\ncategory. Finally, MLPQ deals with queues having the same\npriority in a round-robin fashion. As a consequence, no differ-\nentiation is made between queues within the same QoS rank.\nHowever, this is not an efficient tactic, since other essential QoS\nmetrics (e.g. queuing delay) should also be taken into account\nwhen scheduling.\nIn the WFQ case, the weights are set according to each service\nflow\u2019s data rate instead of priority. The serving order of all the\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\nFAN et al.: CROSS-LAYER DELAY DIFFERENTIATION PACKET SCHEDULING SCHEME 809\nFig. 3. Example of data exchange between MAC and the physical layers.\nFig. 4. The relationship between rate matching and transport channel multiplexing.\nqueues is based on the data rate and the time-stamp of packets\nat the head of each queue. This means that the higher the data\nrate of a service, the higher possibility it will be served. If two\nservices have the same data rate, the service with the lower time-\nstamp on its head packet will be served first. Since non-priority\npolicy is applied in this scheme, this may lead to unacceptably\nlong delay in higher priority queues.\nThe SRM scheme has been used within the existing RRM\nscheme [9]. The objective of the SRM is to minimize the number\nof DTX bits required for the maximum data rate supported by\nthe TFCS for a given physical channel. The rate matching ratio\nis calculated according to the maximum data rate at the begin-\nning of each session. However, when the instantaneous data rate\nis lower than the maximum data rate, the rate matching ratio is\nkept constant, which will result in unnecessary puncturing and\ninefficient resource\/power utilization in the physical layer.\nIII. PROPOSED PACKET SCHEDULING SCHEME\nTo overcome the problems discussed in the above section, an\nefficient packet scheduling scheme not only needs to consider\npower constraints and the existing time multiplexing scheme,\nbut also needs to consider the following main requirements:\n1) Both fairness and priority;\n2) Optimizing the power usage.\nIn this paper, a novel cross-layer packet scheduling scheme\nis proposed to meet these requirements. This scheme consists\nof two new algorithms: Delay Differentiation Queuing (DDQ)\nand Dynamic Resource Allocation (DRA).\nThe packet scheduling scheme in the SDMB system is shown\nin Fig. 5, which can be conceptualized into the following two\nparts: service prioritization and resource allocation.\nDDQ, considering both fairness and priority, performs the\nservice prioritization task. DRA is developed based on the novel\ndynamic rate matching technique and performs the resource al-\nlocation task at the MAC sublayer according to the cross-layer\ndata rate information from the physical layer. This new tech-\nnique is more resource-friendly in that the radio resource is allo-\ncated dynamically based on the instantaneous data rate for each\napplication class in a short-term TTI-scale.\nA. Service Prioritization Algorithm\nThe incoming service requests are first ordered according to\na priority criterion. In order to select the respective criteria, the\nservice attributes are considered, which are normally mapped\nonto the traffic handling priorities, as defined by the SDMB\nQoS classes (i.e. streaming, hot download and cold download\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\n810 IEEE TRANSACTIONS ON BROADCASTING, VOL. 54, NO. 4, DECEMBER 2008\nFig. 5. Flow diagram of proposed packet scheduling procedure.\nclasses). It is noted that the prioritization can be more or less\ndynamic; in a more dynamic prioritization, the relative priori-\nties of channels may change in each resource allocation interval\n(i.e., one TTI), depending for example on the QoS rank or av-\nerage queuing delay status of competing flows.\nThe proposed DDQ service prioritization algorithm is devel-\noped based on the concept from the Hybrid Proportional Delay\n(HPD) scheduling scheme [4], which is widely used in service\ndifferentiated networks. In the HPD, the hybrid delay consists\nof two separate parts: average queuing delay and head waiting\ntime. The head waiting time is the waiting time of the packet at\nthe head of each class. This algorithm was modified as follows:\n1) The waiting time used in our algorithm is the average waiting\ntime of all the packets in the queue of each class instead of the\nwaiting time of the packet at the head of each class; 2) instead\nof separating the average queuing delay and head waiting time,\nboth queuing delay and waiting delay have been considered to-\ngether in our algorithm and have also been assigned to the same\nweight in order to obtain the overall delay performance. DDQ\nperforms service prioritization dynamically depending on the\nQoS and the waiting time\/queuing delay experienced by packets\nin each FACH. This assumes that each MBMS session maintains\na separate FACH queue and that there are QoS ratios between\ndifferent QoS priority classes. In each TTI, the serving indices\nwill be calculated for each queue. These serving indices are ob-\nTABLE I\nIMPORTANT NOTATION TABLE\ntained based on two metrics: the QoS factor and the fairness\nfactor.\nThe QoS factor indicates the QoS priority of the MBMS\nservices. The fairness factor indicates the fairness among the\nMBMS services, and is expressed by the average waiting delay\nfor all the packets currently in the queue and the average queuing\ndelay for all the packets that have left the queue before the cur-\nrent TTI. Important notations used in this article are summarized\nin Table I.\nThe mathematical formulation of DDQ can be expressed as\nfollows.\nLet be the fairness factor at the current time slot n for\neach queue . This measure describes the delay states of all\npackets passing through the respective queue, including both\nthe packets which are currently in the queue and those packets\nwhich have already left the queue (are served). It is calculated\nfor each queue in each TTI as (1):\n(1)\nwhere is the fairness factor for queue , is the number\nof packets that are currently in the queue, is the waiting\ndelay for packet currently in the queue , the number of\npackets that have left the queue before this TTI, is queuing\ndelay for packet , which has left the queue before this TTI.\nLet be the QoS priority factor for the service flow at FACH\nqueue ; the priority for queue in TTI can be defined as (2):\n(2)\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\nFAN et al.: CROSS-LAYER DELAY DIFFERENTIATION PACKET SCHEDULING SCHEME 811\nConsequently, the serving orders are calculated and assigned\nto each FACH by (2) at the beginning of each TTI. FACH queues\nwith higher priority will be served ahead of the lower priority\ncounterparts in non-preemptive order.\nWith the above approach of dynamic service prioritization\nin mind, the instant priorities of the FACH queue indicate the\nserving order of FACHs for each TTI by the scheduler.\nB. Dynamic Resource Allocation Algorithm\nOnce all the services to be transmitted are prioritized, the next\nstep is the allocation of the resources to these services, which\nconsists of bit rates and transmission power assignments within\nthe specific resource allocation interval ( i.e. one TTI).\nPrevious research on the rate matching and power allocation\nseparates their optimizations [9]. By using the cross-layer de-\nsign, a new power allocation algorithm is proposed to work in\ncoordination with the rate matching technique to further opti-\nmize the scarce radio resources in the SDMB system.\nAs shown in Fig. 4, this new power allocation algorithm uses\ndynamic rate matching to select the required transmission power\nfor all physical channels according to their instantaneous data\nrate requirements. The proposed dynamic rate matching relies\non instantaneous data rate instead of maximum data rate used\nin the SRM. The rate matching ratio is calculated for every TTI\nand corresponds to the instantaneous data rate. Therefore, it has\ntwo main advantages: firstly, it allows better DTX minimization,\nand secondly its power requirement will be less for lower data\nrates (i.e. it requires less power when the instantaneous data\nrate is lower than the maximum data rate). The disadvantage\nof dynamic rate matching is that it needs more processing and\nmemory compared to SRM.\nThe procedure for the proposed power allocation algorithm\nbased on dynamic rate matching is described in the following.\nFor each FACH, the packet scheduler scans the TFCS of the\nphysical channel to find all the different TBS sizes that could\nbe used, namely to serve the whole or part of the queued data\nat the FACH buffer. A sorted list of all candidate TBS sizes,\nin decreasing order, is created. The scheduler firstly seeks to\nallocate the maximum TBS size to the first FACH.\nAs shown in Fig. 5, the scheduler first checks the rate\nmatching ratio based on (3). It calculates the RM ratios for\nall the subsets of transport format combinations from the\nfull transport format combination set, and these values are\nstored against each transport format combination set. Then\nthe scheduler checks which subset the chosen transport format\ncombination belongs to, and based on this information the rate\nmatching ratio obtained from the stored data, and a tentative\nvalue is determined according to the selected transport format\ncombination. Following this, the scheduler performs tentative\nvalue correction and then rate matching patterns are generated.\n(3)\nwhere, is the S-CCPCH ID, is the transport format combi-\nnation ID, and is the transport format combination subset that\nits TBS that has been calculated. is the allowed data.\nis the transport block length of FACH in this transport format\ncombination. is the number of TB with allocated TBS.\nis the coding rate.\nAccording to the calculated RM ratio values, the scheduler\ndetermines the required value according to each session\nBLER requirement. The scheduler then checks whether the se-\nlected TBS size for the new session satisfies the total transmit\npower criteria.\n\u2022 If this is not satisfied, it will check whether all the possible\nTBS sizes have been checked for total transmit power cri-\nteria. For the next TBS size (less than the previous one), the\nabove procedure is performed. If none of the TBS sizes sat-\nisfy the power criteria, the scheduler assigns TBS to zero.\n\u2022 If the power criteria is met, based on each session and RM\ncombinations, the transmit power for each session is calcu-\nlated separately according to (4) and the highest power re-\nquirement assigned as the physical channel transmit power.\n(4)\nwhere is the required transmit power at time slot n,\nis the thermal noise, is the requirement,\nis path loss, and is the rate matching ratio, is the\nmodulation scheme, and is the spread factor.\nThese procedures are repeated recursively until all the FACHs\nmapped to each S-CCPCH are assigned.\nIV. SIMULATION SCENARIOS\nSimulation has been carried out for the proposed RRM\nscheme using the software package ns2 [26], where different\ntraffic mixes and physical channel capacities are evaluated.\nThree types of SDMB QoS categories, namely streaming, hot\ndownload and cold download, are considered in the simulation.\nThese services correspond to UMTS QoS classes streaming and\nbackground respectively [13]. In addition, we choose different\nguaranteed data rates in order to examine the performance\nbetween users with different rates. The performance of our\nproposed strategy and that of previous studies are compared\nvia simulation metrics, such as queuing delay, queuing delay\nvariation, and system utilization.\nThe performance of our proposed CL-DDQ scheme is exam-\nined over a wide variety of traffic mix scenarios. We consider\nindividual MBMS sessions with diverse QoS profiles in terms\nof service type, data rate, and QoS constraints for broadcast\ntransmission, each of which is carried by a single FACH queue.\nMultiple S-CCPCHs are used for carrying heterogeneous multi-\nmedia services and the radio bearer mapping scenarios given in\nTable II are considered as representative for performance eval-\nuations.\nScenario I is formed by 5 FACHs and 2 S-CCPCHs carrying\nhomogenous multimedia service, i.e., streaming service, where\nno QoS-differentiation is envisaged in this scenario, herein the\nparameter of interest is the different data rates of these streaming\nservices.\n1) S-CCPCH 1: Has three FACHs. Two streaming FACHs\nhave data rates at 64 kbps, and one has a data rate at\n128 kbps.\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\n812 IEEE TRANSACTIONS ON BROADCASTING, VOL. 54, NO. 4, DECEMBER 2008\nTABLE II\nRADIO BEARER MAPPING CONFIGURATION\n2) S-CCPCH 2: Has two streaming FACHs, whose data rates\nare 256 kbps and 128 kbps respectively;\nScenario II considers two additional lower priority traffic\nclasses: hot download and cold download. However, the sce-\nnario is defined as only a single service type is carried by each\nS-CCPCH.\n1) S-CCPCH 1: Has the two streaming FACHs have data rates\nat 256 kbps and128 kbps, respectively;\n2) S-CCPCH 2: Has two hot download FACHs, whose data\nrates are 256 kbps and 128 kbps respectively;\n3) S-CCPCH 3: Has two cold download FACHs, whose data\nrates are 256 kbps and 128 kbps respectively;\nScenario III describes a more complex situation; where het-\nerogeneous traffic types are carried by arbitrary S-CCPCHs. The\ntask of the packet scheduler therein not only includes the dif-\nferentiation of the session within a single S-CCPCH, but also\nembraces the traffic differentiation between FACHs which are\ncarried by different S-CCPCHs.\n1) S-CCPCH 1: Has three FACHs. The hot download FACH\n(i.e. FACH 1) has a data rate at 64 kbps, and the two\nstreaming FACHs ( i.e. FACH 2, 3) have data rates at\n256 kbps and 64 kbps, respectively;\n2) S-CCPCH 2: Has two streaming FACHs (i.e. FACH 4, 5),\nwhose data rates are 256 kbps and 128 kbps respectively;\n3) S-CCPCH 3: Has one download FACH (i.e. FACH 6), and\nits data rate is 384 kbps;\nOur link budget simulation results provide the v.s.\nBLER look-up curves of each FACH, where the radio propaga-\ntion channel model features either classical Ricean characteris-\ntics for satellite-associated path, or Rayleigh multipath fading\nchannel for UE-associated path with the consideration of both\nDoppler effect and propagation impairments. The maximum\nSDU size is 1500 bytes, TTI is 0.08 seconds, Turbo coder and\nQPSK is applied. The simulation period is set to 1000 s or\n12500 TTIs. We use publicly available trace files [27] for video\nstreaming traffic flow. Hot download and cold download traffic\ncharacteristics follow the typical ns2 Pareto distribution, with\ndifferent QoS factors assigned [28].\nV. PERFORMANCE EVALUATION\nSince the selection of rate matching techniques features major\nchanges between the proposed scheduling algorithm and that\nof the previous research, we identify the scheduling algorithm\nscenarios as combinations of scheduling algorithms and rate\nmatching techniques:\n1) Weighted Fair Queue scheduling algorithm with Static\nRate Matching technique: WFQ-SRM;\n2) Multi-level Priority Queue scheduling algorithm with\nStatic Rate Matching technique: MLPQ-SRM;\n3) Delay Differentiation Queue scheduling algorithm with\nStatic Rate Matching technique: DDQ-SRM;\n4) Delay Differentiation Queue scheduling algorithm with\nDynamic Rate Matching technique: DDQ-DRM. This is\nour proposed CL-DDQ scheduling scheme.\nThe following major parameters, which have significant im-\npact upon the overall system performance, have been examined\nin our evaluation:\n1) Queuing delay;\n2) Queuing delay variation;\n3) Physical channel utilization.\nA. Queuing Delay Evaluation\nThe mean queuing delay experienced by packets of each\nFACH queue in the buffer is an important parameter to eval-\nuate the performance of packet scheduling algorithms. Fig. 6\nshows the queuing delay of different scheduling schemes under\ndifferent traffic mix scenarios.\nAs illustrated in Fig. 6(a), only streaming sessions are envis-\naged in scenario I, we set the simulation parameters to heavy\ntraffic load scenario, i.e., all queues are non-empty during a ses-\nsion transmission time. It is shown that, for homogenous traffic\nmix, the performance of WFQ mainly depends on the service\ndata rates. The MLPQ does not provide any differentiation for\ncompeting flows, i.e., queues are served in round robin manner,\nwhich leads to the queuing delays being determined mainly by\ntheir packet arrival rates. For example, when MLPQ is applied,\nFACH 4 carried with 256 kbps streaming experiences much\nlonger queuing delay than other low data rate queues.\nThe effectiveness of the proposed scheme in terms of the QoS\ndifferentiation is analyzed in Fig. 6(b), where the Scenario II\nis selected as a representative traffic mixes with diverse QoS\nranks. As mentioned earlier, the WFQ provides no differentia-\ntion on the QoS rank, the only deterministic factor influencing\nthe performance of WFQ is the service data rate. As shown,\nthe MLPQ achieves the best delay performance for streaming\nservices and the worst delay performance for download ser-\nvices because of its strict-priority based scheduling mechanism.\nDDQ, with its delay-differentiation nature, provides improved\nperformance for low class services by sacrificing the perfor-\nmance of high class sessions.\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\nFAN et al.: CROSS-LAYER DELAY DIFFERENTIATION PACKET SCHEDULING SCHEME 813\nFig. 6. Queuing delay of different scheduling schemes. (a) Scenario I; (b) sce-\nnario II; (c) scenario III.\nIn scenario III, compared with MLPQ-SRM and DDQ-SRM,\nWFQ-SRM has much lower delay for the high data rate services\n(i.e. FACH 6 at 384 kbps), but has much longer delay for the rel-\native low data rate services (i.e. FACHs 1, 3 and 5). However, it\nis noted that FACH 6 carries the download services and FACH\n3 and 5 carry the streaming services. This means the predom-\ninance of high data rate download services causes long delays\non lower data rate streaming services since the priority between\nservice classes is almost ignored by WFQ-SRM according to its\ndata-rate-based nature.\nNumerically, for instance in scenario III, hot and cold down-\nload classes have a reduction of 51.3% and 74.0% on their\nmean queuing delay, respectively. It is noted that, by using\nDDQ-DRM, the significant reduction on delay of the lower\nclass service has been achieved. This indicates that, unlike the\nSRM scheme, dynamic rate matching scheme is more suitable\nto DDQ.\nAs stated above, both DDQ and dynamic rate matching\nachieve better queuing delay than previous approaches. When\nthe performance of DDQ with dynamic rate matching is com-\npared with those of MLPQ and WFQ with SRM, significant\nperformance enhancement are seen.\nB. Queuing Delay Variation\nThe \u201cqueuing delay variation\u201d is defined as the variation of\nthe instantaneous queuing delay from their mean value during\na specified transmission period. Fig. 7 shows the mean queuing\nvariation experienced by each individual FACH for three dif-\nferent packet scheduling schemes under different traffic mixes.\nAs shown in Fig. 7, by using SRM, compared MLPQ and\nDDQ, the WFQ has much lower queuing variation for the high\ndata rate services, but has much longer queuing variation for\nthe relative low data rate services. It is noted that the unidirec-\ntional streaming service in the SDMB system is quite sensitive\nto delay-variation. The delay variation of the streaming service\nshould be limited in order to preserve the time variation between\npackets of the stream [29]. Although WFQ assigns higher pri-\nority to high data rate services, there is no differentiation made\nwith respect of QoS rank, therefore WFQ makes delay varia-\ntion-tolerant high data rate download services have higher pri-\nority than the delay variation sensitive lower data rate streaming\nservices.\nAs shown in Fig. 7, in the case of SRM presence, DDQ has\nbetter performance on queuing delay variation than both MLPQ\nand WFQ. If the dynamic rate matching is used, DDQ-DRM\nfeatures much lower delay variation for both streaming and\ndownload services. Typically, the average delay variation\nreduction for download services in scenario III is as much\nas 73.0%, while the average delay variation reduction for the\nstreaming service reaches 38.2%.\nC. Physical Channel Utilization Evaluation\nThe mean S-CCPCH channel utilization for different schemes\nis studied in this section. As shown in Fig. 8(a), in Scenario I,\nwhere the traffic mix is limited to single streaming traffic class,\ni.e., no QoS-differentiation is envisaged for the scheduling plan,\nthe WFQ behaves as a rate-based differentiation scheme while\nthe MLPQ can be regarded as a simple round robin discipline;\ntherefore the discrepancy featured in the physical channel\nutilization is mainly caused by the incoming traffic dynamics.\nDDQ-SRM is able to provide a primary differentiation in terms\nof queuing delay behaviors and the impact of traffic dynamics\non the channel utilization is largely eliminated, i.e., smaller\ndifferences on S-CCPCH channel utilization. The proposed\nDDQ-DRM scheme, achieves better overall resource utiliza-\ntion; the mean physical channel utilization for all S-CCPCHs\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\n814 IEEE TRANSACTIONS ON BROADCASTING, VOL. 54, NO. 4, DECEMBER 2008\nFig. 7. Queuing delay variation of different scheduling schemes. (a) Scenario\nI; (b) scenario II; (c) scenario III.\nreaches 96.1%, compared with 86.4%, 91.2% and 92.3% in\nWFQ-SRM, MLPQ-SRM and DDQ-SRM, respectively.\nFrom the result obtained for Scenario II, where single QoS\ntraffic classes are carried within a single S-CCPCH, it indicates\nthat by adaptively utilizing the resource in an intelligent way,\nthe DDQ-DRM achieves higher resource utilization than other\nschemes in that it either utilizes the wasted resources or re-uti-\nlize\/shares the resources in a more efficient way. The overall\nchannel utilization has been improved by 56.7%, 43.1% and\nFig. 8. Physical channel throughput of packet scheduling schemes. (a) Scenario\nI; (b) scenario II; (c) scenario III.\n23.5% from WFQ-SRM, MLPQ-SRM and DDQ-SRM respec-\ntively.\nIn scenario III, DDQ-DRM achieves much higher physical\nchannel throughput than for all the other schemes. It reaches\n378.2kbps on S-CCPCH 1, and 378.9kbps on S-CCPCH 2 and\n328.1 kbps on S-CCPCH 3, which are equivalent to 98.4%,\n98.6% and 85.4% of the S-CCPCH capacity, respectively. Its\nnearest candidate, DDQ-SRM, reaches 366.4kbps on S-CCPCH\n1, and 363.4kbps on S-CCPCH 2 and 328.1 kbps on S-CCPCH\n3, which are equivalent to 95.5%, 94.7% and 85.4% channel uti-\nlization, respectively.\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\nFAN et al.: CROSS-LAYER DELAY DIFFERENTIATION PACKET SCHEDULING SCHEME 815\nHence, DDQ-DRM manages to obtain channel utilization\nimprovement on those physical channels carrying background\ntraffic. From the results, it can be inferred that the proposed\nDDQ-DRM scheme not only improves the delay performance\namong different QoS classes, but also increases the throughput\nand physical channel utilization.\nAs a summary, the proposed cross-layer scheduling algorithm\nhas the following advantages over the existing packet sched-\nuling scheme:\n\u2022 Achieves dynamic proportional delay-driven prioritiza-\ntion;\n\u2022 Balances all FACHs irrespective of their QoS class;\n\u2022 Has significant improvement on delay and delay variation\nperformance;\n\u2022 Achieves more efficient resource allocation;\n\u2022 Achieves higher throughput and channel utilization.\nVI. CONCLUSIONS\nThe SDMB system intends to implement a commercial satel-\nlite based broadcast\/multicast (BC\/MC) layer over the unicast\nterrestrial 3 G mobile telecommunication system infrastructure\naimed at the efficient delivery of the interactive MBMS ser-\nvices to mobile terminals. The design of efficient packet sched-\nuling algorithms plays a key role in radio resource manage-\nment (RRM) for the multimedia content delivery in the SDMB\nsystem.\nIn this paper, a novel cross-layer packet scheduling scheme,\nnamely CL-DDQ, is proposed for the SDMB system. The\nproposed scheme not only balances the priority and fairness\namong QoS-differentiated traffic flows, but also considers\nphysical channel data rate factor.\nPerformance evaluation of the proposed approach has been\ncarried out via simulation studies. The results show that, com-\npared with the existing packet scheduling schemes, the proposed\ncross-layer packet scheduling scheme achieves better perfor-\nmance for delay, delay variation, throughput and channel uti-\nlization. Therefore, it better optimizes the overall system per-\nformance of the SDMB system.\nIn future work, more factors reflecting differentiated service\nQoS attributes will be taken into account in resource allocation\nalgorithm in order to achieve even better QoS provisioning of\nmultimedia content delivery in the SDMB system.\nACKNOWLEDGMENT\nThe authors also thank Dr. Atta Quddus for reviewing this\npaper.\nREFERENCES\n[1] N. Chuberre et al., \u201cRelative positioning of the European satellite dig-\nital multimedia broadcast (SDMB) among candidate mobile broadcast\nsolutions,\u201d in IST Mobile & Wireless Communications Summit 2005,\nDresden, Germany, June 19\u201323, 2005.\n[2] \u201cMultimedia Broadcast\/Multicast Service: Stage 1,\u201d 3GPP TS 22.146\nV6.6.0, October 2004.\n[3] \u201cMultimedia Broadcast\/Multicast Service; Architecture and functional\ndescription, (Release 6),\u201d 3GPP TS 23.246 v6.8.0, October 2005.\n[4] C. Dovrolis et al., \u201cProportional differentiated services: Delay differ-\nentiation and packet scheduling,\u201d IEEE Trans. Networking, vol. 10, no.\n1, pp. 12\u201326, February 2002.\n[5] V. Huang and W. Zhuang, \u201cQoS-Oriented packet scheduling for wire-\nless CDMA network,\u201d IEEE Trans. Mobile Computing, vol. 3, no. 1,\npp. 73\u201385, January\u2013March 2004.\n[6] G. Aniba and S. Aissa, \u201cAdaptive Proportional Fairness for Packet\nScheduling in HSDPA,\u201d in IEEE Globecom, 2004, pp. 4033\u20134037.\n[7] Q. Liu et al., \u201cA cross-layer scheduling algorithm with QoS support\nin wireless networks,\u201d IEEE Trans. Veh. Technol., vol. 55, no. 3, May\n2006.\n[8] S. Abedi, \u201cEfficient radio resource management for wireless multi-\nmedia communications: A multidimensional QoS-based packet sched-\nuler,\u201d IEEE Trans. Wireless Commun., vol. 4, no. 6, pp. 2811\u20132822,\nNovember 2005.\n[9] M. Karaliopoulos et al., \u201cPacket scheduling for the delivery of mul-\nticast and broadcast services over S-UMTS,\u201d Int. J. Satell. Commun.\nNetwork., vol. 22, pp. 503\u2013532, 2004.\n[10] A. Bouabdallah et al., \u201cEvaluation of cross-layer reliability mecha-\nnisms for satellite digital multimedia broadcast,\u201d IEEE Trans. Broad-\ncasting, vol. 53, no. 1, March 2007.\n[11] L. Fan, H. Du, U. Mudugamuwa, and B. G. Evans, \u201cNovel radio\nresource management strategy for multimedia content delivery in\nSDMB system,\u201d in 24th AIAA ICSSC, San Diego, California, USA,\nJune 11st\u201315th, 2006, pp. 2006\u20135476.\n[12] U. Mudugamuwa, \u201cReliable Multimedia Broadcast and Multicast Con-\ntent Delivery Over 3G Mobile Satellite Networks,\u201d 2006, Ph.D. Thesis.\n[13] WCDMA for UMTS: Radio Access for Third Generation Mobile Com-\nmunications, H. Holma and A. Toskala, Eds., 2nd ed. Hoboken, NJ:\nJohn Wiley & Sons Ltd, 2002.\n[14] N. Chuberre et al., \u201cSatellite digital multimedia broadcasting for 3G\nand beyond 3G systems,\u201d in 13th IST Mobile & Wireless Communica-\ntion Summit 2004, Lyon, France, June 2004.\n[15] EU FP5 IST MoDiS Homepage [Online]. Available: http:\/\/www.ist-\nmodis.org \u201cEU FP5 IST MoDiS Homepage,\u201d [Online]. Available:\nhttp:\/\/www.ist-modis.org\n[16] \u201cEU FP6 IST MAESTRO Homepage,\u201d [Online]. Available: http:\/\/ist-\nmaestro.dyndns.org\n[17] H. Du, L. Fan, and B. G. Evans, \u201cTwo-level channel multiplexing: A\nnovel radio resource allocation strategy for SDMB system,\u201d in Proc.\nIEEE ICC 2006, Istanbul, Turkey, June 11\u201315, 2006, vol. 10, pp.\n4445\u20134450.\n[18] \u201cPhysical Channels and Mapping of Transport Channels onto Physical\nChannels,\u201d 3GPP TS 23.221 V6.5.0, September 2005.\n[19] \u201cRadio Interface Protocol Architecture,\u201d 3GPP, TS 25.301 v6.2.0,\nMarch 2005.\n[20] \u201cPhysical Layer\u2014General Description,\u201d 3GPP TS 23.201 V6.2.0, June\n2005.\n[21] \u201cMultiplexing and Channel Coding,\u201d 3GPP TS 23.212 V6.10.0, De-\ncember 2006.\n[22] \u201cSpreading and Modulation,\u201d 3GPP TS 23.213 V6.5.0, March 2006.\n[23] H. Du, L. Fan, and B. G. Evans, \u201cNovel radio resource allocation\nstrategy for multimedia content delivery over satellite multicast\/broad-\ncast systems,\u201d Elsevier Comput. Commun. J., vol. 30, no. 8, pp.\n1870\u20131889, June 2007.\n[24] C. Heegard and S. B. Wicker, Turbo coding. Norwell, MA: Kluwer\nAcademic Publishers, 1999.\n[25] G. Albertazzi et al., \u201cPerformance of turbo coding for satellite UMTS\nmultimedia broadcast multicast services,\u201d in ICCT 2003, April 2003,\nvol. 2, pp. 1078\u20131081.\n[26] [Online]. Available: http:\/\/www.isi.edu\/nsnam\n[27] [Online]. Available: http:\/\/www.tkn.tu-berlin.de\/research\/trace\/ltvt.\nhtml\n[28] H. Du, \u201cEfficient Radio Resource Management for Satellite Digital\nMultimedia Broadcasting,\u201d Ph.D. Thesis, University of Surrey, , Au-\ngust 2007.\n[29] \u201cQuality of Service (QoS) Concept and Architecture,\u201d 3GPP TS 23.107\nV6.3.0, June 2005.\nAuthorized licensed use limited to: CREATE-NET. Downloaded on December 8, 2008 at 19:46 from IEEE Xplore.  Restrictions apply.\n"}