{"doi":"10.1109\/3DTV.2008.4547827","coreId":"102770","oai":"oai:epubs.surrey.ac.uk:2303","identifiers":["oai:epubs.surrey.ac.uk:2303","10.1109\/3DTV.2008.4547827"],"title":"Bit-Rate Adaptive Downsampling for the Coding of Multi-View Video with Depth Information","authors":["Ekmekcioglu, E","Worrall, ST","Kondoz, AM"],"enrichments":{"references":[],"documentType":{"type":1}},"contributors":[],"datePublished":null,"abstract":"In this paper, the potential for improving the compression efficiency of multi-view video coding with depth information is explored. The proposed technique uses downsampling prior to encoding, for arbitrary views and depth maps. A bit-rate adaptive downscaling-ratio decision approach is proposed for certain views and depth maps prior to encoding. Colour and depth videos are considered separately due to their different characteristics and effects on synthesized free view-point videos. The inter-view references, if present, are downsampled to the same resolution as the input video to be coded. The results for several multi-view with depth sequences indicate that using bit-rate adaptive mixed spatial resolution coding for both views and depth maps can achieve savings in bit-rate, compared to full resolution and fixed depth-to-colour ratio multi-view coding when the quality of synthesized viewpoints are considered. The computational complexity in the encoder is significantly reduced at the same time, since the number of blocks coded is reduced, and hence the number of block mode decisions carried out is reduced","downloadUrl":"","fullTextIdentifier":null,"pdfHashValue":null,"publisher":null,"rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:epubs.surrey.ac.uk:2303<\/identifier><datestamp>\n      2017-10-31T14:04:58Z<\/datestamp><setSpec>\n      74797065733D61727469636C65<\/setSpec><setSpec>\n      6469766973696F6E733D656E67616E64706879736963616C736369656E636573:656C656374726F6E6963656E67696E656572696E67:63637372<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:relation>\n    \n      \n        http:\/\/epubs.surrey.ac.uk\/2303\/<\/dc:relation><dc:title>\n        Bit-Rate Adaptive Downsampling for the Coding of Multi-View Video with Depth Information<\/dc:title><dc:creator>\n        Ekmekcioglu, E<\/dc:creator><dc:creator>\n        Worrall, ST<\/dc:creator><dc:creator>\n        Kondoz, AM<\/dc:creator><dc:description>\n        In this paper, the potential for improving the compression efficiency of multi-view video coding with depth information is explored. The proposed technique uses downsampling prior to encoding, for arbitrary views and depth maps. A bit-rate adaptive downscaling-ratio decision approach is proposed for certain views and depth maps prior to encoding. Colour and depth videos are considered separately due to their different characteristics and effects on synthesized free view-point videos. The inter-view references, if present, are downsampled to the same resolution as the input video to be coded. The results for several multi-view with depth sequences indicate that using bit-rate adaptive mixed spatial resolution coding for both views and depth maps can achieve savings in bit-rate, compared to full resolution and fixed depth-to-colour ratio multi-view coding when the quality of synthesized viewpoints are considered. The computational complexity in the encoder is significantly reduced at the same time, since the number of blocks coded is reduced, and hence the number of block mode decisions carried out is reduced.<\/dc:description><dc:type>\n        Article<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:format>\n        text<\/dc:format><dc:language>\n        en<\/dc:language><dc:identifier>\n        http:\/\/epubs.surrey.ac.uk\/2303\/1\/SRF002247.pdf<\/dc:identifier><dc:identifier>\n          Ekmekcioglu, E, Worrall, ST and Kondoz, AM   Bit-Rate Adaptive Downsampling for the Coding of Multi-View Video with Depth Information   3DTV Conference: The True Vision - Capture, Transmission and Display of 3D Video, 2008.  137 -140 - 137 -140.      <\/dc:identifier><dc:relation>\n        http:\/\/ieeexplore.ieee.org\/xpls\/abs_all.jsp?arnumber=4547827&tag=1<\/dc:relation><dc:relation>\n        10.1109\/3DTV.2008.4547827<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/epubs.surrey.ac.uk\/2303\/","http:\/\/ieeexplore.ieee.org\/xpls\/abs_all.jsp?arnumber=4547827&tag=1","10.1109\/3DTV.2008.4547827"],"year":null,"topics":[],"subject":["Article","PeerReviewed"],"fullText":"BIT-RATE ADAPTIVE DOWNSAMPLING FOR THE CODING OF MULTI-VIEW VIDEO \nWITH DEPTH INFORMATION  \n \nErhan Ekmekcioglu, Stewart T. Worrall, Ahmet M. Kondoz \n \nCentre for Communication Systems Research, University of Surrey,  \nGU2 7XH Guildford, Surrey, United Kingdom \n{E.Ekmekcioglu, S.Worrall, A.Kondoz}@surrey.ac.uk \n \nABSTRACT \n \n   In this paper, the potential for improving the compression \nefficiency of multi-view video coding with depth \ninformation is explored. The proposed technique uses \ndownsampling prior to encoding, for arbitrary views and \ndepth maps. A bit-rate adaptive downscaling-ratio decision \napproach is proposed for certain views and depth maps prior \nto encoding. Colour and depth videos are considered \nseparately due to their different characteristics and effects on \nsynthesized free view-point videos. The inter-view \nreferences, if present, are downsampled to the same \nresolution as the input video to be coded. The results for \nseveral multi-view with depth sequences indicate that using \nbit-rate adaptive mixed spatial resolution coding for both \nviews and depth maps can achieve savings in bit-rate, \ncompared to full resolution and fixed depth-to-colour ratio \nmulti-view coding when the quality of synthesized view-\npoints are considered. The computational complexity in the \nencoder is significantly reduced at the same time, since the \nnumber of blocks coded is reduced, and hence the number of \nblock mode decisions carried out is reduced. \n \nIndex Terms\u2014 Multi-view Video Coding, multi-view \nplus depth, mixed resolution coding. \n \n1. INTRODUCTION \n \n   The issue of MVC has grown in significance in order to \nmake the applications like 3D TV [1] and free view-point \nTV (FTV) [2] possible. To maintain a wide range of viewing \nangle in free view-point videos systems, it is necessary to \ncapture and transmit multiple representations of a certain \nvideo from arbitrary viewpoints and also their associated \nper-pixel depth information to assist generating intermediate \nvirtual camera locations. According to [3], coding of depth \ninformation should take place in encoder side, particularly \nfor free viewpoint video applications, which brings \nadditional bit-rate load. Multiple view plus depth concept \n[4][5] is essential in considering depth and colour videos \njointly in the sense of coding.  \n     In most multi view plus depth coding applications, the \nbit-rate of depth maps is restricted to a certain percentage of \nthe bit-rate of colour videos. The higher this rate means the \nbetter the quality of a generated arbitrary free viewpoint. \nHowever, since the reconstructed colour videos and depth \nmaps have effects on the quality of the final rendered free \nviewpoint to different extents, it is not always optimal to fix \nthe depth-to-colour bit-rate ratio to a certain percentage. In \n[6], the authors propose a joint depth\/texture bit allocation \nalgorithm which selects a group of quantization parameters \nfor colour and the depth sequences, yielding the highest \nrendered free viewpoint quality, rather than coding depth \nsequences at a fixed percentage of the colour videos\u2019 rate (in \ngeneral 10%-15%).  \n     In this paper, we encode both colour videos and depth \nmaps at a wide range of bit-rates after downsampling them \nwith different downscaling ratios, regardless of their inter-\nview dependencies. In decoding process, they are upsampled \nback to their original resolution. The idea that down-\nsampling an image to a low resolution, then coding at the \nlower resolution and subsequently interpolating the result to \nthe original resolution can improve the overall PSNR \nperformance of the compression process [7], motivated us to \nuse such an approach. The technique is based on a trade-off \nbetween the distortion introduced by downsampling and \ndistortion introduced by quantization. For a fixed bit budget, \nincreasing the downsampling ratio means that less coarse \nquantization needs to be used. Thus, more information is lost \nthrough downsampling, but less is lost through coarse \nquantization. Finding the optimum trade-off between the two \ndistortion sources leads to improved compression efficiency. \nAccordingly, bit-rate savings are achieved at certain \nqualities for both colour and depth videos, and hence, an \noverall bit-rate saving is achieved when compared to the \ncase, where there is a fixed ratio between the colour video \nand depth map bit-rates, regarding the quality of rendered \nfree view point sequences.  \n     Section 2 describes the bit-rate adaptive downsampling \nscheme separately for colour and depth sequences.  \nThis work was developed within VISNET II, a European Network of \nExcellence (http:\/\/www.visnetnoe.org), funded under the European \nCommission IST FP6 programme. \n978-1-4244-1755-1\/08\/$25.00 \u00a92008 IEEE 3DTV-CON'08, May 28-30, 2008, Istanbul, Turkey\n137\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 15:34:55 UTC from IEEE Xplore.  Restrictions apply. \n      a) \n \n     b) \nFigure 2. (a) Coding performance of the multi-view coder \nthat uses several downscaling ratios for the second view of \nthe Breakdancer test sequence. (b) Coding performance of \nthe proposed bit-rate adaptive MVC for Ballroom and Akko \n& Kayo test sequences (average of all views). \n \n \nPerformance graphs for several test sequences are provided. \nSection 3 shows the experimental results of view + depth \ncoding with the bit-rate adaptive downsampled coding \napproach, where the visual comparisons of the results are \nshown as well. Finally, section 4 concludes the paper.  \n \n2. BIT-RATE ADAPTIVE DOWNSAMPLING \n \n   Figure 1 shows a part of the proposed multi-view encoder \nstructure, for two views using inter-view prediction. As in \nthe draft multi-view coder Joint Multi-view Video Model \n(JMVM) [8], based on H.264 AVC [9], Hierarchical B \nframe prediction [10] is used in both temporal and view \ndimensions. For coding videos (either colour or depth) that \nuse inter-view prediction, the inter-view references are \ndownsampled using the same scaling ratio as the original \nview before being put in the reference picture buffer, as \nshown on Figure 1, so as to make sure that all motion and \ndisparity estimation processes takes place between frames of \nthe same spatial resolution. JMVM version 6.0 is used for \ntesting the performance of the proposed method. Each view \nor depth map is downsampled prior to encoding with a \ndownscaling ratio selected from a set. Divisibility by 16 is \nmaintained for both dimensions of the downscaled videos in \norder to comply with the codec used. The aspect ratio is kept \nconstant when downsampling. Multi-view videos with \nprovided depth information used in the experiments are of \nresolution 1024x768 originally (both colour and depth \nvideos). A couple of multi-view videos without any depth \ninformation are also tested which are of VGA resolution \n(640x480) originally. For VGA resolution videos, 0.9, 0.8, \n0.7, 0.6, 0.5, 0.3 downscaling ratios are applied to both \ndimensions of the colour videos and tested separately. \nSimilarly, 0.86, 0.78, 0.625, 0.5 and 0.39 downscaling ratios \nare applied to both depth and colour videos separately, for \nthe 1024x768 sequences. The difference between the two \nsets of downscaling ratios arises from the constraints \nexplained earlier in this section. A set of seven filters, \ndesigned originally to support the extended range of spatial \nscaling ratios used in the scalable extension of H.264\/AVC, \nis used to downsample the original views. Integer based 6-\ntap filters are applied to the decoded low-resolution videos \nto upsample them back to their original resolutions. 2 multi-\nview sets with provided depth information and 2 other VGA \nmulti-view sets (colour video only) are used in tests. For all \ntests, around an operating bit-rate, as the amount of \ndownscaling is increased, the applied quantization step size \nis decreased, in order to maintain a similar total bit budget.  \n   The results show that different scaling ratios yield different \nperformance characteristics at different bit-rates for both \ntests. To compute the compression efficiency for the depth \nmaps with different resolutions and quantization parameters, \nnot the reconstruction quality of depth maps is used. Instead, \nthe associated original colour videos and decoded depth \nmaps are used to render a test view on the real camera \nposition closest to the view under concern. The quality of \nthat generated colour video is taken into account. The \nviewpoint is rendered using depth image based 3D warping \nalgorithm [11]. The results indicate that, regardless of the \nnumber of inter-view references used, all videos are affected \nin the same way.  \n   Figure 2 (a) shows the coding performance for the second \ncolour video of the Breakdancer [5] sequence. For the \nreference method, all sequences are coded in their original \nresolution, while the other curves show the performance \nwith different scaling ratios. The results show that the \nFigure 1. The proposed encoder structure (for a two view case) \n138\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 15:34:55 UTC from IEEE Xplore.  Restrictions apply. \n      a) \n \n     b) \nFigure 3. (a) Coding performance of the multi-view coder that \nuses several downscaling ratios for the second view of the \nBreakdancer test sequence. (b) Coding performance of the \nproposed bit-rate adaptive MVC for Ballroom and Akko & \nKayo test sequences (average of all views). \noptimum trade-off between the two distortion types \n(downscaling and quantization) varies with the target bit \nrate. The best performance characteristics at medium and \nlow bit-rates, where the quantization distortion is more \neffective, is achieved with 0.5 - 0.625 scaling ratios, where \nthe coder achieves up to a 28% reduction in bit-rate for the \nBreakdancer sequence. High downscaling ratios, such as \n0.39, are only useful at very low bit-rates, where the \nreconstruction quality is already insufficient to be used in \nany multi-view application. Reconstruction quality of around \n33 dB is satisfactory, while a PSNR of around 35-36 dB is \nregarded as reasonable quality. Much higher qualities are \ndifficult to distinguish.  Figure 2 (b) shows the performance \ncharacteristics of the proposed technique on a couple of \nother test sequences (Ballroom and Akko & Kayo). The \nresults are obtained by taking the average of all views inside \na test set. For the proposed technique, 0.6 scaling is used for \nmedium and low bit-rate ranges (less than 400 kbps), and \n0.8 scaling is used for high bit-rate ranges (over 400 kbps) at \n25 fps.  \n   Similarly, Figure 3 (a) and (b) show the results for depth \nmap compression performances with Breakdancer and \nBallet sequences respectively. As in the case of colour video \n \n \nFigure 4. Performance comparison of the proposed bit-rate \nadaptive downsampled coding scheme and full resolution, fixed \ncolour-to-depth rate ratio coding with a depth-to colour ratio of \n15% (Total bit-rate is shown including depth and colour bit-rate). \n \ncoding, not the full resolution coding yields optimum results \nat all bit-rates. Especially at medium and low bit-rate points, \napplication of a proper downscaling ratio can make the \ndepth map coding system save up to 55% and 20% of the \ntotal depth rate for Breakdancer and Ballet sequences. \n \n3. EXPERIMENTAL RESULTS OF BIT-RATE ADAPTIVE \nDOWNSAMPLED VIEW AND DEPTH CODER \n \n   For a given total bit budget, the bit-rates for depth and \ncolour can be assigned jointly, with the aim of maximizing \nthe rendered free view-point image quality. It is proposed to \nuse the bit-rate adaptive resized colour and depth map \ncoding in achieving this goal, i.e. globally optimizing the \ntotal rate-distortion performance, where the bit-rates of both \ncomponents do not necessarily need to have a fixed ratio \n(15% in most cases). \n   The total bit budget is given as: \n \n                                                                                      (1) \n \nwhere, Rcolour and Rdepth are colour and depth bit-rates, Q and \nScale are respectively the quantization parameter (Qp) and \nthe downscaling ratio. The optimization problem is defined \nas: \n \n \n \n           (2) \n \nunder the constraint that: \n \n           (3) \n \nwhere, SSetc and SSetd are predefined sets for downscaling \nratios determined for colour and depth sequences, QSetc and \nQSetd represent candidate Qp sets for colour and depth, \nlocated around some initial estimate Qp\u2019s. Optimizing all \n( ) ( )dddepthcccolourtotal ScaleQRScaleQRR ,, +=\n( )( )ddccrendering\nSSetScaleSSetScale\nQSetQQSetQ\nd\nopt\nd\nopt\nc\nopt\nc\nopt\nScaleQScaleQD\nScaleQScaleQ\nddcc\nddcc\n,,,minarg\n),,,(\n,\n,\n\u2208\u2208\n\u2208\u2208\n\u22c5\u22c5\u22c5=\n( ) ( ) totaldoptdoptdepthcoptcoptcolour RScaleQRScaleQR \u2264+ ,,\n139\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 15:34:55 UTC from IEEE Xplore.  Restrictions apply. \nFigure 5. Visual comparison of the proposed technique and \nthe reference technique at 2 different output rendering \nqualities (results shown for a cropped section of \nBreakdancer test sequence). \nfour parameters at the same time requires great computing\/ \ncoding time and power.  \n   In this paper, a sub-optimal approach is utilized that still \noutperforms the conventional constant-ratio bit-rate \nallocation scheme.  \n   For a given total bit budget, 15% is assigned as depth-rate. \nFirst, depth map coding is optimized by arranging Qd and \nScaled, such that the necessary bit-rate for depth is decreased \noptimally, taking into account the rendered free view-point \nimage quality for a constant colour frame rate. Second, \noptimization is performed for Qc and Scalec, where the aim \nis to achieve a reduction in the total colour rate, while \nmaintaining a constant reconstructed colour picture quality. \nOverall, the total bit-rate needed for a multi-view plus depth \nmap video system has decreased, while the rendered free \nview-point quality is maintained and depth\/colour bit-rate \nhas deviated from the initial assumption of 15%.  \n     Figure 4 shows the coding results for the Breakdancer \nsequence. The result shown is for a single view and its \nassociated depth map (third view and its associated depth \nmap). The free viewpoint video is rendered in the camera \nposition of the second view and the PSNR of the rendered \nvideo sequence is evaluated. The PSNR is calculated against \nthe reference which is rendered using the original colour and \ndepth video of the third view. It is clear that there is a total \nbit-rate save of as much as 33%. Especially, at rendering \nqualities as low as 30.5 \u2013 31 dB, the depth map is coded at \n1\/16 of its original size, and the colour video is coded at \n39% of its original size, which means that the coding power \nis also reduced significantly.  \n     Figure 5 visually compares the proposed method with the \nreference technique at several objective rendering qualities. \nThere is almost no visual difference between the outputs of \ntwo methods, although a significant coding rate difference is \npresent.  \n \n4. CONCLUSION \n \n   In this paper, a joint bit-rate allocation technique for multi-\nview plus depth coding is proposed that uses bit-rate \nadaptive spatial sub-sampling. The proposed scheme takes \ninto account the fact that the optimum trade-off between \nquantization distortion and downsampling distortion varies \nwith operating bit-rate. Experimental results show that the \nassumption holds for both colour and depth videos. A visual \ncomparison of the proposed method and a fixed rate-ratio \nmethod at similar objective qualities shows no difference \nbetween the two methods for rendered free viewpoint \nimages. Further investigations concerning the optimization \nof the downscaling ratio decision process, coding delay and \ndownsampling with different aspect ratios, will be made in \nthe future.  \n \n \n \n5. REFERENCES \n \n[1] L. Onural, \u201cTelevision in 3-D: What are the prospects?\u201d, Proceedings \nof IEEE, Vol. 95, No. 6, June 2007. \n[2] M. Tanimoto, \u201cOverview of free viewpoint television\u201d, Signal \nProcessing: Image communication 21, pp. 454-461, 2006.  \n[3] M. Tanimoto and et. al., \u201cProposal on Requirements for FTV\u201d, JVT-\nW127, San Jose, California, USA, April 2007. \n[4] P. Kauff and et. al., \u201cDepth map creation and image-based rendering \nfor advanced 3DTV services providing interoperability and \nscalability\u201d, Signal Processing: Image Communication 22, pp. 217-\n234, February 2007. \n[5] C. L. Zitnick and et. al., \u201cHigh-quality video view interpolation using \na layered representation,\u201d ACM Siggraph and ACM Trans. on \nGraphics Aug. 2004. \n[6] Y. Morvan and et. al., \u201cJoint Depth\/Texture Bit-allocation for Multi-\nview Video Compression\u201d, 26th Picture Coding Symposium, Portugal, \nNovember 2007. \n[7] Bruckstein, A.M.; Elad, M.; Kimmel, R., \"Down-scaling for better \ntransform compression,\" Image Processing, IEEE Transactions on , \nvol.12, no.9, pp. 1132-1144, Sept. 2003. \n[8] A. Vetro, P. Pandit, H. Kimata, and A. Smolic, \u201cJoint Multiview \nvideo model JMVM 6.0,\u201d ITU-T and ISO\/IEC Joint Video Team, \nDocument JVT-Y207, October 2007. \n[9] T. Wiegand, G. J. Sullivan, \u201cDraft ITU-T Recommendation and Final \nDraft International Standard of Joint Video Specification (ITU-T rec \nH.264 -ISO\/IEC 14496-10 AVC)\u201d, 7th JVT meeting, Thailand, 2003. \n[10] K. M\u00fcller and et. al., \u201cMulti-view Video Coding Based on \nH.264\/AVC Using Hierarchical B-Frames\u201d, Picture Coding \nSymposium 2006, China, 2006. \n[11] Sehoon Yea and et. al., \u201cReport on Core Experiment CE3 of \nMultiview Coding\u201d, JVT-T123, Klagenfurt, Austria, July 2006. \n140\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 15:34:55 UTC from IEEE Xplore.  Restrictions apply. \n"}