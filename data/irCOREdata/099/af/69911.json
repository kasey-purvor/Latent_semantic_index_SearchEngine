{"doi":"10.1109\/DATE.2005.308","coreId":"69911","oai":"oai:eprints.lancs.ac.uk:20079","identifiers":["oai:eprints.lancs.ac.uk:20079","10.1109\/DATE.2005.308"],"title":"The integration of on-line monitoring and reconfiguration functions using IEEE1149.4 into a safety critical automotive electronic control unit.","authors":["Jeffery, C.","Cutajar, R.","Richardson, Andrew M. D.","Prosser, S.","Lickess, M.","Riches, S."],"enrichments":{"references":[{"id":16319351,"title":"1149.4-1999, \u201cStandard for a Mixed Signal Test Bus\u201d,","authors":[],"date":"2000","doi":"10.1007\/978-0-387-23521-9_3","raw":"IEEE Standard 1149.4-1999, \u201cStandard for a Mixed Signal Test Bus\u201d, IEEE, USA, 2000","cites":null},{"id":16319359,"title":"Alternative Test Methods Using","authors":[],"date":"2000","doi":"10.1109\/date.2000.840312","raw":"U. Kac, F. Novak, S. Macek, M. S. Zarnik, \u201cAlternative Test Methods Using IEEE 1149.4, Proc. of Design And Test in Eurpoe, pp.463 - 467 2000","cites":null},{"id":16319363,"title":"An Integrated Diagnostic Reconfiguration (IDR) Technique for Fault Tolerant Mixed Signal Microsystems&quot;","authors":[],"date":null,"doi":"10.1109\/icecs.1998.813352","raw":"Erfaan Sharif, Tony Dorey & Andrew Richardson, &quot;An Integrated Diagnostic Reconfiguration (IDR) Technique for Fault Tolerant Mixed Signal Microsystems&quot; Proceedings of IEEE International Circuits & Systems Symposium, Lisbon, pp1.413-1.416, 7-11th Sept. 98. ISBN : 0-7803-5008-1. 0 5 10 15 20 25 Num ber of ABMs C l o c k C y c l e s Worst Case Best Case","cites":null},{"id":16319356,"title":"Experimental test infrastructure supporting IEEE 1149.4 standard\u201d, Poster presentation at European Test Workshop,","authors":[],"date":"2002","doi":null,"raw":"U. Kac, F. Novak, \u201cExperimental test infrastructure supporting IEEE 1149.4 standard\u201d, Poster presentation at European Test Workshop, 2002","cites":null},{"id":16319362,"title":"Fault Tolerant & Self Testable Architectures for Zero Failure Electronics\u201d Automotive Electronics, IMeche seminar publication 1997-10,","authors":[],"date":"1997","doi":null,"raw":"A. Richardson,  B. Betts & E. Sharif, \u201cFault Tolerant & Self Testable Architectures for Zero Failure Electronics\u201d Automotive Electronics, IMeche seminar publication 1997-10, ISBN 1 86058 115 3, 4 th Nov. 1997.","cites":null},{"id":16319357,"title":"Innovative Built-In Self-Test Schemes for On-Chip Diagnosis,","authors":[],"date":"2003","doi":null,"raw":"G. O. Ducoucdray \u2013 Acevedo, J. Ramirez-Angulo, \u201cInnovative Built-In Self-Test Schemes for On-Chip Diagnosis, Compliant with IEEE 1149.4 Mixed Signal Test Bus Standard\u201d, Journal of Electronic Testing, vol 19, pp 21-28, 2003","cites":null},{"id":16319354,"title":"Institute, BS5760, \u201cReliability of systems, equipment and components\u201d, part 5: \u201cGuide to failure modes, effects and criticality analysis (FMEA and FMECA)\u201d,","authors":[],"date":"1991","doi":"10.3403\/00256425","raw":"British Standard Institute, BS5760, \u201cReliability of systems, equipment and components\u201d, part 5: \u201cGuide to failure modes, effects and criticality analysis (FMEA and FMECA)\u201d, 1991.","cites":null},{"id":16319358,"title":"Limited Access Testing:","authors":[],"date":"1998","doi":null,"raw":"J. McDemid, \u201cLimited Access Testing: IEEE 1149.4\u201d, Proc. of International Test Conference, pp388-395, 1998","cites":null},{"id":16319355,"title":"Physics-of-Failure Guidelines for Accelerated Qualification of Electronic Systems\u201d,","authors":[],"date":"1998","doi":"10.1002\/(sici)1099-1638(199811\/12)14:6<433::aid-qre224>3.0.co;2-u","raw":"K. Upadhyayula , A. Dasgupta, \u201cPhysics-of-Failure Guidelines for Accelerated Qualification of Electronic Systems\u201d, Quality and Reliability Engineering International, Vol. 14, pp. 433-447, 1998.","cites":null},{"id":16319360,"title":"Preliminary Results of Passive Component Measurement Methods Using","authors":[],"date":null,"doi":null,"raw":"I. Duzevik, \u201cPreliminary Results of Passive Component Measurement Methods Using and IEEE 1149.4 Compliant Device\u201d, http:\/\/www.national.com\/appinfo\/scan\/files\/duzevik_BTW02 _paper.pdf","cites":null},{"id":16319353,"title":"Quantitative analysis methodology in safetycritical microprocessor applications\u201d, Relyability Engineering and System Safety,","authors":[],"date":"2001","doi":"10.1016\/s0951-8320(01)00061-8","raw":"] J.J Camargo Jr. , E Canzin, J.R. Almeida Jr., S.M. Paz, B.A. Basseto, \u201cQuantitative analysis methodology in safetycritical microprocessor applications\u201d, Relyability Engineering and System Safety, Vol 74, pp 53-62, 2001","cites":null},{"id":16319361,"title":"Reconfigurable Circuits for Fault Tolerant Systems: Factors to Consider\u201d,","authors":[],"date":"2002","doi":null,"raw":"C. Jeffrey, A. Lechner & A. Richardson \u201cReconfigurable Circuits for Fault Tolerant Systems: Factors to Consider\u201d, Proc. of International Mixed Signal Test Workshop, pp 247-249, 2002","cites":null},{"id":16319352,"title":"Winner take all experts network for sensor validation\u201d,","authors":[],"date":"2001","doi":"10.1016\/s0019-0578(00)00047-1","raw":"G.G. Yen, W. Feng, \u201dWinner take all experts network for sensor validation\u201d, ISA Transactions, Vol 40, pp 99-110, 2001.","cites":null}],"documentType":{"type":0.8888888889}},"contributors":[],"datePublished":"2005","abstract":"This paper presents an innovative application of IEEE 1149.4 and the integrated diagnostic reconfiguration (IDR) as tools for the implementation of an embedded test solution for an automotive electronic control unit, implemented as a fully integrated mixed signal system. The paper describes how the test architecture can be used for fault avoidance with results from a hardware prototype presented. The paper concludes that fault avoidance can be integrated into mixed signal electronic systems to handle key failure modes","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/69911.pdf","fullTextIdentifier":"http:\/\/eprints.lancs.ac.uk\/20079\/1\/getPDF.pdf","pdfHashValue":"71e083ef65fba0c69b639a74845d08710740a5e7","publisher":null,"rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:20079<\/identifier><datestamp>\n      2018-01-24T01:57:12Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D54:5441<\/setSpec><setSpec>\n      74797065733D626F6F6B5F73656374696F6E<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        The integration of on-line monitoring and reconfiguration functions using IEEE1149.4 into a safety critical automotive electronic control unit.<\/dc:title><dc:creator>\n        Jeffery, C.<\/dc:creator><dc:creator>\n        Cutajar, R.<\/dc:creator><dc:creator>\n        Richardson, Andrew M. D.<\/dc:creator><dc:creator>\n        Prosser, S.<\/dc:creator><dc:creator>\n        Lickess, M.<\/dc:creator><dc:creator>\n        Riches, S.<\/dc:creator><dc:subject>\n        TA Engineering (General). Civil engineering (General)<\/dc:subject><dc:description>\n        This paper presents an innovative application of IEEE 1149.4 and the integrated diagnostic reconfiguration (IDR) as tools for the implementation of an embedded test solution for an automotive electronic control unit, implemented as a fully integrated mixed signal system. The paper describes how the test architecture can be used for fault avoidance with results from a hardware prototype presented. The paper concludes that fault avoidance can be integrated into mixed signal electronic systems to handle key failure modes.<\/dc:description><dc:date>\n        2005<\/dc:date><dc:type>\n        Contribution in Book\/Report\/Proceedings<\/dc:type><dc:type>\n        NonPeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:identifier>\n        http:\/\/eprints.lancs.ac.uk\/20079\/1\/getPDF.pdf<\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/DATE.2005.308<\/dc:relation><dc:identifier>\n        Jeffery, C. and Cutajar, R. and Richardson, Andrew M. D. and Prosser, S. and Lickess, M. and Riches, S. (2005) The integration of on-line monitoring and reconfiguration functions using IEEE1149.4 into a safety critical automotive electronic control unit. In: Proceedings of Design, Automation and Test in Europe, 2005. , pp. 153-158.<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/20079\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/dx.doi.org\/10.1109\/DATE.2005.308","http:\/\/eprints.lancs.ac.uk\/20079\/"],"year":2005,"topics":["TA Engineering (General). Civil engineering (General)"],"subject":["Contribution in Book\/Report\/Proceedings","NonPeerReviewed"],"fullText":"The Integration of On-Line Monitoring and Reconfiguration Functions using \nIEEE1149.4 Into a Safety Critical Automotive Electronic Control Unit \nC. Jeffrey1, R Cutajar1, S Prosser2, M Lickess2, A. Richardson1 & S Riches3\n 1Centre for Microsystems Engineering, Engineering Department, Lancaster University, Lancaster, LA1 4YR, UK \n2 TRW Automotive, Technical Centre, Stratford Road, Solihull, B90 4GW, UK \n3 Micro Circuit Engineering, Exning Road, Newmarket, Suffolk, CB8 0AU,UK \nAbstract \nThis paper presents an innovative application of IEEE \n1149.4 and the Integrated Diagnostic Reconfiguration \n(IDR) as tools for the implementation of an embedded test \nsolution for an Automotive Electronic Control Unit \nimplemented as a fully integrated mixed signal system. \nThe paper described how the test architecture can be used \nfor fault avoidance with results from a hardware prototype \npresented. The paper concludes that fault avoidance can be \nintegrated into mixed signal electronic systems to handle \nkey failure modes.  \n1 Introduction \nToday's motor vehicles contain an increasing number of \nmicrocontrollers (20 to 50), providing electronic control of \na range of systems, including engine management, \nbraking, steering and airbag safety systems. The demands \nof both the automotive market and physical environment \nputs pressure upon electronics design to ensure low cost, \nrobust, high quality and high volume products. Quality \ntargets of typically 10 parts per million are currently set by \nvehicle manufacturers. The trend to X-by-wire systems \n(e.g. braking and steering) and the proposed future \nelectrical architectures are forcing the migration of the \nelectronic control units to more harsh environments (e.g. \nbrake caliper, engine, exhaust). Locating intelligence \ndirectly at the transducer interface is also becoming \nextremely desirable, as sub-system performance increases \nas signal noise is reduced, auto\/intelligent calibration can \nbe realised, connector count can be reduced and \nmanufacturing costs optimised. It is also vital that both \ndesign and architectures meet the appropriate level of \nsafety integrity and reliability. There is no doubt that \nfuture systems will be heavily dependent upon high-\nintegrity, high-reliability embedded electronic modules.  \nThe implications of these trends are a paradigm shift in \nautomotive electronic design from board based to fully \nintegrated systems. Table 1 provides some typical  \nenvironmental specifications associated with the range of \nautomotive applications. \nRecently in [1] fault tolerant sensors and actuators for X-\nby-wire systems have been addressed. This paper \nhighlights the technical difficulties associated with fault \ntolerant mechatronic systems but does not address the \nunderlying electronics.  \nLocation Typical \nContinuous  \nMax \nTemperature \n Vibration \nLevel \nFluid Exposure \nOn Engine \nOn \nTransmission \n140\u00b0C Up to 15g  Harsh \nAt Engine \n(Intake \nManifold) \n125\u00b0C Up to 10g Harsh \nUnder Hood \n(Near Engine) \n120\u00b0C 3 - 5g Harsh \nUnder Hood \n(Remote \nLocation) \n105\u00b0C  3 - 5g Harsh \nExterior 70\u00b0C 3 - 5g Harsh \nPassenger \nCompartment \n70 - 80\u00b0C 3 - 5g Benign \nTable 1 Electronic environmental conditions in \nautomotive applications \nTo address this, the work presented in this paper has led to \nthe integration of test support hardware into an automotive \nECU through an innovative application of IEEE1149.4 \nboundary scan [2] and IDR to address production test costs \nand test quality requirements, with further functionality \nincluding condition monitoring required to meet safety \ncritical sub-system specifications. The paper is organised \nas follows. In section 2, the integration technologies \nrequired to realise low cost, safety critical ECU\u2019s are \ndiscussed. In section 3, the methods used to achieve auto \nhealth monitoring and fault avoidance are described. \nSection 4 describes the demonstrator and innovation in the \napplication of the methods described in section 3. Section \n5 draws conclusions.  \n2 Existing Strategies to Achieve Fault \nAvoidance \nIn the event of a potential failure, some kind of backup has \nto be provided to ensure certain reduced system \nfunctionality without complete system breakdown. In the \nmajority of cases this may be achieved through circuit \nreconfiguration. \nIn many safety critical applications redundancy is used, in \nthe form of both hardware and software, to ensure that the \nsystem will not fail [3, 4]. The subsystem would consist of \nduplicate devices that would run simultaneously; if one \ndevice becomes faulty the other device\u2019s output would be \nused instead. This technique is costly, as the entire \nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\nfunctionality of the subsystem has to be duplicated. These \nsystems are not economical for the automotive market \nplace as it is impractical to implement an entire redundant \nsubsystem. Automotive systems need to be produced \ncheaply and achieve high reliability. In failsafe systems \nadditional circuitry will be required, the extent of which \nwill depend on the architecture of the system and \nknowledge of the failure effects. \nHaving less than an entire redundant system available to \nachieve fault avoidance means that one will not be able to \ntolerate every possible fault. Instead, fault avoidance \nwould be optimised to cope with faults that have \nsignificant impact on the functionality of the system. \nThese faults need to be identified and ranked and this can \nbe achieved through detailed Failure Mode and Effect \nAnalysis (FMEA) and a Physics Of Failure (POF) \napproach. It is even possible to predict the type of failures \nthat may occur in a newly designed system [5, 6]. Novel \nOn-Line Monitoring (OLM) techniques have to be \ndeveloped which detect these identified failure modes and \nalso verify subsystem performance. \n2.1 ECU Failure Analysis \nAutomotive electronics already exhibit a high degree of \nreliability within existing systems. This is currently \nachieved by using a combination of historical data, field \nreturns and formal techniques (FMEA, failure rate analysis \nand fault tree analysis) to predict the areas of concern \nwithin the system. This is also supported by specific \nvalidating testing (temperature cycling, vibration etc) to \nfocus upon items identified within the FMEA\/failure \nanalysis. Electronic component suppliers are required to \nsubmit specific validation tests results.  \nOn reviewing detailed FMEA analysis of automotive \nElectric Control Unit\u2019s (ECU), we find that one of the \nmost common failures are interconnect related on both \ndiscrete and IC devices. It is therefore imperative that:  \nx The number and density of interconnects are \ngreatly reduced. \nx There is a facility for interconnect testing at \nstartup. \nx There is a facility for on-line signal verification. \nThe lack of hardware related integrated on-line monitoring \ntechniques for automotive systems means that there are \nfew indications of the health and quality of a system in \noperation. When using components supplied from 3rd\nparties, test access to internal sensitive nodes of the device \nis not possible. It is therefore desirable to have a non-\nintrusive method to verify that system blocks are working \ncorrectly.  \n3 Health Monitoring and Reconfiguration \nTechniques Selected \n3.1 System Monitoring \nOne of the key challenges in circuit fault avoidance is the \nvariety of potential subsystem failure modes with varying \nfailure intensity. Novel reconfiguration techniques may be \ndedicated to particular failure effects aiming at fault \nelimination though altering circuit topology. The results of \nan FMEA carried out on the subsystem will provide \ndesigners with failure modes that could occur in its \noperational lifetime. It is the faults arising from these \nfailure modes that the subsystem needs to be configured \naround to ensure that the required level of operation is \nattained. \nInput \nData \nDiagnostic \ndata\nOutput \ndata\nOperational \nmode and \ndiagnostic data\nSafe mode \nPass \nFail \nPass \nSystem \noperational \nSystem \npower on BIST\nOLM \nDiagnostic \ndata \nCircuit topology \nmanager\nSUBSYSTEM \nFigure 1: Subsystem test and configuration flow \nIn application, BIST methods could be used to check if \nfailures are present on start up. If a failure is detected on a \ncritical path, then the system would refuse to start as safety \ncould be compromised. If the failure was on a non-critical \npath, then diagnostic data could be sent to a circuit \ntopology manager, which would alter the circuit topology \nto provide its best performance at a required safety level. \nIn this work, a circuit topology manager has been \nimplemented and integrated into a novel system \narchitecture as illustrated in (Figure 1). Once the system is \noperational, OLM techniques continuously check the \nsubsystem for faults and notify the circuit topology \nmanager as soon as a fault is detected. \n3.2 Using IEEE1149.4 for on-line signal \nmonitoring \nIEEE 1149.1 Boundary Scan is a digital architecture that \nenables accessibility and observablity to circuit nodes and \ninterconnect through a Test Access Port (TAP). The IEEE \n1149.4 standard for a mixed-signal test bus [2] extends the \ntest access structure for analogue stimulus injection and \nresponse evaluation via two buses connected to pins AT1\nand AT2 respectively. \nRecent research in 1149.4 [7,8] and its implementation and \napplication [9, 10, 11] have shown that measurements for \ncurrent, voltage level, frequency and phase are supported. \nHowever, measurement accuracy is limited due to \ncapacitive and resistive characteristics of the Analogue \nBoundary Modules (ABM) that also cause degradation of \nthe observed signal. Limitations in passive component \nmeasurements (resistance and capacitance) facilitating \n1149.4 have been identified [12]. \nBuilding on previous review work [13] that suggested \nIEEE1149.4 could be used for on-line test, a circuit \ntopology manager described in section 3.1 has been \npresented to control an 1149.4 standard architecture to \nimplement both on-line monitoring and a circuit \nreconfiguration capability. (See Figure 2) The aim is to \nenable successive monitoring of circuit nodes with \nminimum area overhead, while avoiding an increase in pin \ncount. \nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\n3.2.1 Circuit Topology Manger \nPre-processed \nSignal \nMeasurement \nType & \nCriteria \nOperational \nmode and \ndiagnostic data \nVectors \nTest Access \nEngine \nTest Master\nBoundary \nScan \nAnalogue \nBusses\nStatus \nTest \nMeasurement \nPASS\/ \nFAIL \nECU \nSystem \nStatus \nFigure 2 Circuit Topology Manager \nTo facilitate the IEEE1149.4 as an on-line monitoring \ntechnique an architecture is proposed for the Circuit \nTopology Manager in Figure 2. \nTest Master This stores information required to execute a \ntest. The test type and test data is passed to the Test \nMeasurement circuit for simple tests e.g. DC voltage level \n(requires reference levels from Test Master) the test is \nevaluated directly and the results fed back to the Test \nMaster. Once the Test Measurement circuitry is configured \nthe vector information is passed to the Test Access Engine\nto connect AT1 and AT2 to the relevant circuit nodes. \nTest Access Engine Converts the vectors containing \nboundary scan data from the Test Master and applies them \nto the ECU. When the system is correctly configured the \nengine informs the Test Master so the measurement can be \nperformed. \nTest Measurement This circuit is an analogue interface \nthat conditions the signals on the analogue buses for \nprocessing\/evaluation. \nThis architecture is based on sequential tests hence the \ntiming data for each test node is also stored in the Test \nMaster. \n3.3 IDR\nA sensing system designed using the IDR method [14] \nexploits existing multiple on-chip sensing that are \nswitchable through electronic reconfiguration, reducing \nthe need for redundant sensors used purely for test. A \nconstraint to this technique is that the components within \nthe system under test must exhibit a degree of replication \nto allow the connectivity of embedded functions to be \nchanged. This takes advantage of the fact that many \nsensors exhibit some degree of component replication to \nremove cross-sensitivities and unwanted modes. During \nnormal operation, these elements are dynamically re-\narranged though the overall circuit function remains the \nsame.  When a fault occurs, one or more components cease \nto be equivalent to the others in the same group.  When \nthis component is interchanged with another, the overall \ncircuit function changes. It has been shown that in the \nmajority of cases, even minor parametric faults in \nanalogue paths are easily observed at the system level, \nthus giving early fault detection.  The profile of the \nchanges is also observed, allowing the faulty component to \nbe identified and therefore excluded.  The circuit is then \noperational, but with reduced functionality in terms of \nsignal or bandwidth[15]. \nThe frequency at which the circuit reconfigures must be \nsufficiently different to the normal operational frequency \nto prevent IDR from interfering with the response time and \nefficiency. In this work IDR has been applied to a network \nof identical components providing visual and audible \nwarnings to achieve tolerance to failure. This is further \ndescribed in section 4.5. \n4 Application to an X-By-Wire Control \nUnit  \nThe specific objectives of this work are to establish a route \nto the realisation of the \u201czero failure\u201d concept for \nautomotive electronic systems by developing on-chip \nmonitoring and self-test functions to detect in-field and \nproduction failures, and develop associated diagnostic \nalgorithms to control system reconfiguration. \nAn Electronic Control Unit (ECU) was selected as the \ndemonstrator for this work. This system combines a \nvariety of power, signal and sensing components, all of \nwhich have to operate in a harsh environment. This type of \nECU is designed to be mounted directly in the sensor \nenvironment, for example on engine or the brake calliper \nof the vehicle. The electronics can be subjected to a \ncombination of temperature extremes, vibration, and a \nwhole range of contaminants such as hydraulic oil, brake \ndust, and salts.  \nDue to the nature of the ECU demonstrator, a substrate \ntechnology which can withstand the harsh environment, \ndissipate heat efficiently and is compatible with hybrid \nassembly techniques had to be selected. The decision was \nmade to use Insulated Metal Substrate (IMS) technology \ncombined with bare die for the majority of the components \nand high temperature-resistant packaged components for \nthe remaining devices. A two-layer IMS module was \ndesigned and manufactured on a copper base layer, with \nhigh temperature dielectric insulation between the metal \nlayers. In order to avoid bumping the bare die components,  \nstandard die attach followed by aluminium wire bonding \nwas carried out. Gold bonding was avoided to eliminate \nthe formation of intermetallics at high temperatures. A \nnickel\/gold surface finish was applied to the substrate, \nallowing Aluminium wire bonding and SMT component \nassembly. A high temperature resistant epoxy-based glob \nFigure 3 IMS Electronic Control Unit \nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\ntop material was also dispensed onto the bare die \ncomponents as a protective layer.  See Figure 3.\n4.1 Add-On Board \nIn order to facilitate the circuit topology manager from \nFigure 2 a separate Add-On board was developed to \nemulate the automotive system to which the ECU was \nattached. Its primary functions are: \nx Pass sensor data to the ECU. \nx Allow the user to invoke test routines and induce \nfaults. \nx Act as the on-line test and reconfiguration engine. \nx Convey information and regarding the ECU \nconfigured state. \n4.2 Integrating Boundary Scan \nThe ECU was redesigned to use IEEE1149.1 compliant \ndevices where possible, if an equivalent device was not \nfound with boundary scan, then it was emulated via the \nplacement of compliant devices in the signal path or in \nsoftware. IEEE1149.4 compliance was implemented for \nthe analogue nodes and the critical signal path. This \nenabled on-line probing of the critical signals in the \nsystem and in the event of a failure allows signals to be \nextracted, processed, bypassed and injected into the \nsystem. \nSince 1149.4 is not fitted to devices as standard, the \nSTA400 dual multiplexers from National Semiconductors \nwere used as an add-on block to emulate compliance. \nInterfacing to the IC signal pins through hardwired \nSTA400 devices, as illustrated in Figure 4. \nMux \nTBICTAP\nIC IC \nMux \nMux \nMux \nMux \nMux \nMux \nMux \nTBICTAP\nTBICTAP\nTBICTAP\nAT2\nAT1\nAT2\nAT1\nAT2 \nAT1 \nAT2 \nAT1 \nSTA400 \nSTA400 \nSTA400 \nSTA400 \n1149.4 compliant device \n1149.4 compliant device \nA0 \nFigure 4 Using STA400 devices as an emulation of \n1149.4 compliant devices \n4.3 On-line Interconnect Monitoring \nIn order to monitor the integrity of an interconnect on-line, \neach side of a connection is linked to AT1 and the other \nside is connected to AT2. The two buses are then fed into a \ndifferential amplifier to check to see if there is a difference \nin the signals. The output of the amplifier is then fed into a \ncomparator circuit and is triggered to a logic high when \nthere is a noticeable difference. See Figure 5. \nTAP Controller \n& Interface electronics \nDigital\nCircuitry \nDBM \nDBM \nDBM \nDBM \nDBM \nDBM \nAnalogue Circuitry \nTMS \nTCK \nAT1 AT2 \nABM \nABM \nABM \nABM \nABM \nABM \nTDO \nTDI \nTAP Controller \n& Interface electronics\nDigital\nCircuitry\nDBM\nDBM\nDBM\nDBM\nDBM\nDBM\nAnalogue Circuitry\nTMS\nTCK\nAT1 AT2\nABM\nABM\nABM\nABM\nABM\nABM\nTDO\nTDI\nOpen\nTAP \nRef \nPass\/Fail\nADD-ON\nBOARD\nTest \nMeasurement \nFigure 5 On-line interconnect monitoring \nThis test principle works on the basis that there is a signal \npresent on the interconnect that one wishes to monitor. \nSince ABMs are fitted into the critical signal path, even \nfor the digital interconnects, it is possible to pass low \namplitude signals  ~ 0.5V to facilitate the detection of a \nconnection for when the signals are at a logic low without \nplacing an incorrect logic value in the circuit.  \n4.4 Motor Drive Circuitry \nThe existing H-Bridge circuitry was replaced with \nsmart \u2018high side\u2019 BTS6510  and \u2018low side\u2019 BTS133 power \ndrivers from Infineon and had an STA400 act as a \ntransparent interface to emulate the drivers compliance to \nthe standard. The advantages of using these devices are: \nx The interconnect count would be greatly reduced.  \nx Would no longer require external test circuitry, as \nthere are integrated voltage monitors and current \nmonitoring circuits. \nx An output pin on the high side driver provides \ndiagnostic feedback to the microprocessor. \n4.5 Lamps and Indicator Circuitry \nThe ECU had 3 lamps and a buzzer that were used as \nindicators for the operator. Even though their operation is \nnot essential in the ECU\u2019s function, they are ranked as \ncritical in the FMEA and failure as the status of the system \ncannot be conveyed to the user. This could result in \nincorrect operation of the vehicle e.g. a fault lamp cannot \nrelay that extra caution is required from the user when a x-\nby-wire system is functioning incorrectly. \nSince the indicator circuits are 4 identical circuits, it is \npossible to use the IDR technique to interchange them at a \nfrequency above 85Hz. If there were faulty \ncircuit\/interconnect it would sequentially change what \nindicator it affected at a speed that was unnoticeable to the \nhuman eye. See Figure 6. \nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\nLamp 3 \nIDR  NO IDR \n1 2 3\nFault on Lamp2\n4 1 2 1 3 12 4\nTime\nLamp 2 \nLamp 1 \nBuzzer \nOperational\nBroken\nFreq > 85Hz\nFigure 6 Using IDR on Indicator Circuits \n5 Results \n5.1 On-Line Monitoring of Circuit Nodes \nSignal AT1 AT2 Detectable \nDigital high \n(3.5v) \n3.5V 0V Yes \nDigital low 0.5V 0V Yes \nPull up 3.5V 0V Intermittent \nPull down Float 0V Intermittent \nPWM PWM 0V Yes \nAnalogue \nGround \n0V 0V No \nHall sensor \ninterface \nPulse \ntrain \n0V Yes \nTable 2 Types of signal lines and their detectability \nWhen monitoring digital signals, a bias of 0.5V was \ninjected into the signal line in order to detect the \nconnection when there was logic low. At high frequency \nof operation, propagation delays became apparent so a \nhigh frequency filter was added on the output of the \ndifferential amplifier to remove any peaks. \nWhen monitoring analogue nodes a high impedance buffer \nis required as sensitive circuit nodes can easily be affected \nby this test method. It is also possible to measure signal \ncharacteristics through the 1149.4 architecture. The \ndemonstrator uses Pulse Width Modulation (PWM) signals \nto control the speed of a motor. The frequency of the \nsignal was 1kHz with a duty cycle of 60%. The Add-On \nboard could detect changes of 0.001% in the duty cycle. \nWhen measuring DC values noise present in the system \nlimited measurement accuracy to +\/-10mV. \n5.2 Signal Analysis \nResults obtained on the limitations of the signal properties \nthat can be measured are: \nx DC Response : Results from passing a low frequency \nsinusoid through an ABM to identify maximum and \nminimum voltages to propagate through without \nclipping indicates that the maximum voltage that can \nbe observed through the ABM is 3.92V. The minimum \nvoltage observed was -640mV with an accuracy of +\/- \n10mV. \nx AC Response : The 3dB cut-off frequency of the ABM \nhas been determined through measurements:  \no 50kHz stimulus frequency, no signal degradation in \nphase and magnitude can be observed.  \no 200kHz a phase difference becomes observable. \nHence one has to account for that difference in phase \ndependant measurements. \no 1MHz signals put through the ABM at this frequency \nshow a 3dB cut-off. \n5.3 Fault Avoidance  \nOnce an interconnect failure is detected, the AT1 and AT2\nbuses are linked together to bypass the failure. This is \npossible on any nodes that are 1149.4 compliant; but once \na fault is being compensated via AT1 and AT2, no further \nmonitoring can take place as the test system has its \nresources utilised. It is therefore important to segment the \nanalogue bus lines into multiple functional groups so that \nmultiple configurations can take place.  \nThe IDR method works on the basis that the system \nconfigures the lamp and buzzer network constantly \nregardless of fault manifestation. \nTo verify that the ECU could function without the \nmicroprocessor, the power supply bond wires were \nremoved. The Add-On board then monitored the switch \ncircuitry until a transition of state was applied. Once this \nwas detected, the Add-On board then accessed the circuit \nnodes that enabled the actuation of the motor drives. The \ncorrect signal was injected to operate the motor while the \nsensor status was monitored to know when to turn the \nmotors off. Thus remote operation of the system was \nachieved. In addition, it has been verified that when an \ninterconnect failure is injected into the system, fault free \noperation was observed. The technique is however, limited \nto coping with faults inside the reconfiguration matrix and \nshould ideally be integrated into the silicon. \n5.4 Limitations  \nThe main challenge associated with the circuit topology \nmanager is the detection and correction of a fault is not \ninstantaneous. Therefore, careful analysis of what and \nwhen key parameters should be measured is required. The \ntotal time for conducting a test without repair is: \nTestcontotal TTT \u000e \nWhere Tcon is the time it takes to connect to the specific \nnode. The worst case scenario would be to fully \nreconfigure each device in the scan chain between each \ntest. The best case scenario it that the only 1 initial \nconfiguration is required to monitor all the relevant circuit \nnodes. This is shown in Figure 7. \nThe Term TTest is the time it takes to perform the \nmeasurement of the parameter. The 16 bit HCS12 \nprocessor used for implementation of the test master has \nan ADC capture time of 7\u00b5s which is very small in \ncomparison to the configuration times above. However, \ncomputing a Fourier analysis of a sampled signal can be \nvery time consuming to verify especially for very low \nfrequency signals (~10Hz) and would result in an analysis \ntime in the excess of 100ms. Using the above \nconfiguration and measurement times applied to a system\nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\nwhere 10 circuit nodes are monitored and a test master \nwith a 16MHz clock speed is used. The upper and lower \nbounds of the system performance are: \n0.949Hz<  Ttotal  < 153Hz \nWith regard to fault tolerance the solution presented is \nlimited to bypass a number of signals equal to half the \nnumber of analogue test buses that are implemented in the \nsystem. Once a fault is detected and compensated for, by \nusing the reconfiguration technique presented, then \nsubsequent testing will not be able to take place as the test \nresources are already in use. If there are 2 sets of buses \nthen 1 bus set (AT1 and AT2) can monitor sensors while \nthe other bus set can perform actuations. This means that \neach circuit segment will still have only 1 bus set allocated \nto it so in the event of reconfiguration online test cannot \ncontinue in each segment. The amount of buses could be \nincreased to create more circuit test segments but this will \nstart to increase the complexity of the circuits and increase \nthe potential for noise and crosstalk in the system. \n6 Conclusion \nThe environments in which automotive systems are being \nplaced are becoming increasingly harsh and the \napplications which they serve more safety critical. To \nachieve a high degree of reliability new packaging \ntechnologies need to be applied. \nIn this paper an innovative application of 1149.4 modules \nhas been used to achieve a degree of fault avoidance in an \nautomotive ECU that targets an X-by-wire application. \nThe IDR concept has also been applied to manage the \nmonitoring and reconfiguration strategies implemented in \nthe system and proven in hardware.  Results have verified \nthat it is feasible to test, manage and reconfigure a fully \nintegrated heterogeneous electronic systems on-line to \nachieve fault avoidance to key failure modes identified \nthrough an FMEA process. \nAcknowledgement \nThis work has been supported by EPSRC grant number \nGR\/N36271\/01 under the DREAM project. \nThe authors would like to thank National Semiconductor \nfor access to their technology and prototype devices. \nReferences \n[1] E. Dilger, R. Karrelmeyer, B. Straube, \u201cFault Tolerant \nMechatronics\u201d, 10th IEEE International On-line Testing \nSymposium,pp214-218,2004\n[2] IEEE Standard 1149.4-1999, \u201cStandard for a Mixed Signal \nTest Bus\u201d, IEEE, USA, 2000 \n[3] G.G. Yen, W. Feng, \u201dWinner take all experts network for \nsensor validation\u201d, ISA Transactions, Vol 40, pp 99-110, \n2001. \n[4]] J.J Camargo Jr. , E Canzin, J.R. Almeida Jr., S.M. Paz, B.A. \nBasseto, \u201cQuantitative analysis methodology in safety-\ncritical microprocessor applications\u201d, Relyability \nEngineering and System Safety, Vol 74, pp 53-62, 2001 \n[5] British Standard Institute, BS5760, \u201cReliability of systems, \nequipment and components\u201d, part 5: \u201cGuide to failure modes, \neffects and criticality analysis (FMEA and FMECA)\u201d, 1991. \n[6] K. Upadhyayula , A. Dasgupta, \u201cPhysics-of-Failure \nGuidelines for Accelerated Qualification of Electronic \nSystems\u201d, Quality and Reliability Engineering International, \nVol. 14, pp. 433-447, 1998. \n[7]S. Sunter, K. Felliter, J.Woo P. McHugh, \u201cA general Purpose \n1149.4 IC with HF Analogue Test Capabilities\u201d, Proc. of \nInternational Test Conference, pp. 38 \u2013 45, 2001 \n[8]U. Kac, F. Novak, \u201cExperimental test infrastructure \nsupporting IEEE 1149.4 standard\u201d, Poster presentation at \nEuropean Test Workshop, 2002 \n[9]G. O. Ducoucdray \u2013 Acevedo, J. Ramirez-Angulo, \n\u201cInnovative Built-In Self-Test Schemes for On-Chip \nDiagnosis, Compliant with IEEE 1149.4 Mixed Signal Test \nBus Standard\u201d, Journal of Electronic Testing, vol 19, pp 21-\n28, 2003 \n[10]J. McDemid, \u201cLimited Access Testing: IEEE 1149.4\u201d, Proc. \nof International Test Conference, pp388-395, 1998 \n[11]U. Kac, F. Novak, S. Macek, M. S. Zarnik, \u201cAlternative Test \nMethods Using IEEE 1149.4, Proc. of Design And Test in \nEurpoe, pp.463 - 467 2000 \n[12]I. Duzevik, \u201cPreliminary Results of Passive Component \nMeasurement Methods Using and IEEE 1149.4 Compliant \nDevice\u201d, \nhttp:\/\/www.national.com\/appinfo\/scan\/files\/duzevik_BTW02\n_paper.pdf \n[13]C. Jeffrey, A. Lechner & A. Richardson \u201cReconfigurable \nCircuits for Fault Tolerant Systems: Factors to Consider\u201d, \nProc. of International Mixed Signal Test Workshop, pp 247-\n249, 2002 \n[14]A. Richardson,  B. Betts & E. Sharif, \u201cFault Tolerant & Self \nTestable Architectures for Zero Failure Electronics\u201d \nAutomotive Electronics, IMeche seminar publication 1997-\n10, ISBN 1 86058 115 3, 4th Nov. 1997. \n[15]Erfaan Sharif, Tony Dorey & Andrew Richardson, \"An \nIntegrated Diagnostic Reconfiguration (IDR) Technique for \nFault Tolerant Mixed Signal Microsystems\" Proceedings of \nIEEE International Circuits & Systems Symposium, Lisbon, \npp1.413-1.416, 7-11th Sept. 98. ISBN : 0-7803-5008-1.\n1000\n10000\n100000\n1000000\n0 5 10 15 20 25\nNumber of ABMs\nC\nlo\nck\n C\nyc\nle\ns\nWorst Case Best Case\nFigure 7 Number of clock cycles Vs scan chain \nlength \nProceedings of the Design, Automation and Test in Europe Conference and Exhibition (DATE\u201905) \n1530-1591\/05 $ 20.00 IEEE \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on December 9, 2008 at 09:40 from IEEE Xplore.  Restrictions apply.\n"}