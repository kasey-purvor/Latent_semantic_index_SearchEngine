{"doi":"10.1145\/1234161.1234164","coreId":"70235","oai":"oai:eprints.lancs.ac.uk:12821","identifiers":["oai:eprints.lancs.ac.uk:12821","10.1145\/1234161.1234164"],"title":"End-To-End Microflow Performance Measurement of IPv6 Traffic Over Diverse Wireless Topologies","authors":["Pezaros, D.","Sifalakis, M.","Hutchison, David"],"enrichments":{"references":[{"id":16312180,"title":"A Pragmatic Definition of Elephants in Internet Backbone Traffic,","authors":[],"date":"2002","doi":"10.1145\/637201.637227","raw":"Papagiannaki, K., Taft, N., Bhattacharyya, N., Thiran, P., Salamatian, K., Diot, C., A Pragmatic Definition of Elephants in Internet Backbone Traffic, In Proceedings of the Second Internet Measurement Workshop (IMW\u201902), Marseille, France, November 2002","cites":null},{"id":16312143,"title":"Analysis of a Campus-wide Wireless Network,","authors":[],"date":null,"doi":"10.1007\/s11276-004-4750-0","raw":"Kotz, D., Essien, K., Analysis of a Campus-wide Wireless Network, in Proceedings of the Eighth Annual Conference on Mobile Computing and Networking (MobiCom\u201902), September 23-28, Atlanta, Georgia, USA, 2002","cites":null},{"id":16312160,"title":"Analysis of Point-to-Point Packet Delay in an Operational Network,","authors":[],"date":null,"doi":"10.1109\/infcom.2004.1354590","raw":"Choi, B., Moon, S., Zhang, Z., Papagiannaki, K., Diot, C., Analysis of Point-to-Point Packet Delay in an Operational Network, in Proceedings of IEEE INFOCOM\u201904, Hong Kong, March 7\u2013 11, 2004","cites":null},{"id":16312157,"title":"End-to-End Available Bandwidth: Measurement Methodology, Dynamics,","authors":[],"date":"2002","doi":"10.1145\/633025.633054","raw":"Jain, M., Dovrolis, C., End-to-End Available Bandwidth: Measurement Methodology, Dynamics, and Relation with TCP Throughput, ACM SIGCOMM\u201902, Pittsburgh, USA, August 19-23, 2002","cites":null},{"id":16312154,"title":"Estimation and Removal of Clock Skew from Network Delay Measurements,","authors":[],"date":"1999","doi":"10.1109\/infcom.1999.749287","raw":"Moon, S., B., Skelly, P., Towsley, D., Estimation and Removal of Clock Skew from Network Delay Measurements, in Proceedings of IEEE INFOCOM, New York, NY, March 21-25, 1999","cites":null},{"id":16312129,"title":"In-line Service Measurements: An IPv6-based Framework for Traffic Evaluation and Network Operations,","authors":[],"date":"2004","doi":"10.1109\/noms.2004.1317736","raw":"Pezaros, D., P., Hutchison, D., Garcia, F., J., Gardner, R., D., Sventek, J., S., In-line Service Measurements: An IPv6-based Framework for Traffic Evaluation and Network Operations, in Proceedings of the 2004 IEEE\/IFIP Network Operations and Management Symposium (NOMS\u201904), Seoul, Korea, April 19-23, 2004","cites":null},{"id":16312177,"title":"Measurement Considerations for Assessing Unidirectional Latencies,","authors":[],"date":null,"doi":null,"raw":"Claffy, K., C., Polyzos, G., C., Braun, H-W., Measurement Considerations for Assessing Unidirectional Latencies, Journal of Internetworking, Volume 4, Number 3, January","cites":null},{"id":16312145,"title":"Mobile-IPv6 Systems research Lab\u201d. Project funded by Cisco Systems,","authors":[],"date":"2001","doi":null,"raw":"MSRL \u2013 Mobile-IPv6 Systems research Lab\u201d. Project funded by Cisco Systems, Microsoft Research (Cambridge), and Orange Ltd, Lancaster University, 2001","cites":null},{"id":16312132,"title":"Network Traffic Measurement for the Next Generation Internet,","authors":[],"date":"2005","doi":null,"raw":"Pezaros, D., P., Network Traffic Measurement for the Next Generation Internet, PhD Thesis, Computing Department, Lancaster University, August 2005","cites":null},{"id":16312139,"title":"Network Working Group, Request For Comments (RFC) 791,","authors":[],"date":"1981","doi":null,"raw":"Postel, J., Internet Protocol, IETF Standard, Network Working Group, Request For Comments (RFC) 791, September 1981","cites":null},{"id":16312171,"title":"Packet-Level Traffic Measurements from the Sprint IP Backbone,","authors":[],"date":"2003","doi":"10.1109\/mnet.2003.1248656","raw":"Fraleigh, C., Moon, S., Lyles, B., Cotton, C., Khan, M., Moll, D., Rockell, R., Seely, T, Diot, C., Packet-Level Traffic Measurements from the Sprint IP Backbone, IEEE Network Magazine, Volume 17 , Issue 6 , pp. 6-16, November-December 2003","cites":null},{"id":16312150,"title":"Performance Anomaly of 802.11b, in","authors":[],"date":"2003","doi":"10.1109\/infcom.2003.1208921","raw":"Heusse, M., Rousseau, F., Berger-Sabbatel, G., Duda, A., Performance Anomaly of 802.11b, in Proceedings of IEEE INFOCOM, San Francisco, March-April 2003","cites":null},{"id":16312164,"title":"Practical Experience with TCP over GPRS,","authors":[],"date":"2002","doi":"10.1109\/glocom.2002.1188483","raw":"Chakravorty, R., Cartwright, J., Pratt, I., Practical Experience with TCP over GPRS, in Proceedings of the IEEE Global Communications Conference (IEEE GLOBECOM\u201902), Taipei, Taiwan, R.O.C., November 17-21, 2002","cites":null},{"id":16312173,"title":"TCP Performance over GPRS,","authors":[],"date":"1999","doi":"10.1109\/wcnc.1999.796937","raw":"Meyer, M., TCP Performance over GPRS, in Proceedings of the IEEE Wireless Communications and Networking Conference (WCNC'99), New Orleans, Louisiana, U.S.A., September 1999","cites":null},{"id":16312167,"title":"The Nature Of The Beast: Recent Traffic Measurements From An Internet Backbone,","authors":[],"date":"1998","doi":null,"raw":"Claffy, K., C., Miller, G., Thompson, K., The Nature Of The Beast: Recent Traffic Measurements From An Internet Backbone, The Eighth Annual Conference of the Internet Society (INET'98), Geneva, Switzerland, July 21-24, 1998","cites":null},{"id":16312136,"title":"Towards a Framework for Defining Internet Performance Metrics,","authors":[],"date":null,"doi":null,"raw":"Paxson, V., Towards a Framework for Defining Internet Performance Metrics, The Sixth Annual Conference of the Internet Society (INET'96), Montreal, Canada, June 24-28,","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2006-08-02","abstract":"In order to facilitate resource accountability in environments with rapidly and unpredictably evolving traffic dynamics, it is of key importance to develop mechanisms capable of ubiquitously measuring different performance aspects of the diverse operational network traffic. In this work, we used an IPv6-based measurement mechanism to assess the end-to-end performance experienced by a set of IPv6 microflows as these were routed over operational W-LAN and W-WAN network configurations. We present measurements of unidirectional delay and packet loss experienced by bulk TCP and CBR UDP traffic during different days of the week","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/70235.pdf","fullTextIdentifier":"http:\/\/eprints.lancs.ac.uk\/12821\/1\/Pezaros%2Dwicon06%2DCRC.pdf","pdfHashValue":"b1b6cfbab22420d169721ddab2850c4405c53943","publisher":null,"rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:12821<\/identifier><datestamp>\n      2018-01-24T02:16:42Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D51:5141:51413735<\/setSpec><setSpec>\n      74797065733D636F6E666572656E63655F6974656D<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        End-To-End Microflow Performance Measurement of IPv6 Traffic Over Diverse Wireless Topologies<\/dc:title><dc:creator>\n        Pezaros, D.<\/dc:creator><dc:creator>\n        Sifalakis, M.<\/dc:creator><dc:creator>\n        Hutchison, David<\/dc:creator><dc:subject>\n        QA75 Electronic computers. Computer science<\/dc:subject><dc:description>\n        In order to facilitate resource accountability in environments with rapidly and unpredictably evolving traffic dynamics, it is of key importance to develop mechanisms capable of ubiquitously measuring different performance aspects of the diverse operational network traffic. In this work, we used an IPv6-based measurement mechanism to assess the end-to-end performance experienced by a set of IPv6 microflows as these were routed over operational W-LAN and W-WAN network configurations. We present measurements of unidirectional delay and packet loss experienced by bulk TCP and CBR UDP traffic during different days of the week.<\/dc:description><dc:date>\n        2006-08-02<\/dc:date><dc:type>\n        Contribution to Conference<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:identifier>\n        http:\/\/eprints.lancs.ac.uk\/12821\/1\/Pezaros%2Dwicon06%2DCRC.pdf<\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1145\/1234161.1234164<\/dc:relation><dc:identifier>\n        Pezaros, D. and Sifalakis, M. and Hutchison, David (2006) End-To-End Microflow Performance Measurement of IPv6 Traffic Over Diverse Wireless Topologies. In: The Second Annual International Wireless Internet Conference (WICON'06), 2006-08-022006-08-05.<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/12821\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/dx.doi.org\/10.1145\/1234161.1234164","http:\/\/eprints.lancs.ac.uk\/12821\/"],"year":2006,"topics":["QA75 Electronic computers. Computer science"],"subject":["Contribution to Conference","PeerReviewed"],"fullText":"End-To-End Microflow Performance Measurement of IPv6 \nTrafficOver Diverse Wireless Topologies \n \nDimitrios P. Pezaros \nComputing Dept. \nLancaster University \nLancaster, UK, LA1 4WA \n+44 (0) 1524 510378 \ndp@comp.lancs.ac.uk \nManolis Sifalakis \nComputing Dept. \nLancaster University \nLancaster, UK, LA1 4WA \n+44 (0) 1524 510378 \nmjs@comp.lancs.ac.uk \nDavid Hutchison \nComputing Dept. \nLancaster University \nLancaster, UK, LA1 4WA \n+44 (0) 1524 510331 \ndh@comp.lancs.ac.uk \n \n \nABSTRACT \nIn order to facilitate resource accountability in environments with \nrapidly and unpredictably evolving traffic dynamics, it is of key \nimportance to develop mechanisms capable of ubiquitously \nmeasuring different performance aspects of the diverse \noperational network traffic. In this work, we used an IPv6-based \nmeasurement mechanism to assess the end-to-end performance \nexperienced by a set of IPv6 microflows as these were routed \nover operational W-LAN and W-WAN network configurations. \nWe present measurements of unidirectional delay and packet loss \nexperienced by bulk TCP and CBR UDP traffic during different \ndays of the week. \nCategories and Subject Descriptors \nC.2.3 [Computer Communication Networks]: Network \nOperations \u2013 network management, network monitoring, public \nnetworks. \nGeneral Terms \nMeasurement, Performance, Design, Experimentation. \nKeywords \nWireless, Measurements, IPv6, Microflow, Performance, In-line, \nEnd-to-End. \n1 INTRODUCTION \nData-carrying wireless IP networks have become increasingly \npopular both in the workplace and at home (W-LAN), as well as \nwhile on the move through mobile telephone handsets that use \ndata transmission services over Wireless Wide Area Networks \n(W-WAN)s. Local and wide-area wireless communications have \ntraditionally adopted not only different transmission principles \nand media access technologies from those of wired networks, \nthey also exhibit unique characteristics based on their individual \ndeployment and\/or operational conditions. This is due to their \ninherent sensitivity to environmental, territorial and rapidly-\nchanging conditions. \nAt the same time, the introduction of IPv6, promising a network \naddress space able to accommodate any device capable of \ngenerating a digital heart-beat, will boost the use of mobile and \nwireless networks, since an unquantifiable number of devices can \nbecome fully-capable IP nodes (mainly end-systems) on-demand, \nconsuming and\/or providing data services over the Internet. Such \ndynamicity can largely influence today\u2019s statically-configured \nand engineered topologies in unpredictable ways, and it can \nlead not only to sudden changes of the topology and size of the \nInternet, but also to rapidly changing usage and traffic\/load \ndynamics.  \nIn such a diverse and dynamically evolving environment, \nperformance measurements become of fundamental importance \nfor the accountability of resources, and also for the better \nunderstanding of the properties and characteristics of the diverse \nwireless network technologies. In addition, the uniqueness and \ndiversity of these environments makes every measurement also \nunique, and potentially non-reproducible and atypical.  \nIn this paper we use in-line measurement, an IPv6-based \ntechnique, to measure the performance experienced by IPv6 \nmicroflows as these were routed through wireless local and wide-\narea service network configurations.  \nThe remainder of this paper is structured as follows. In Section II \nwe describe the principles and main benefits of the in-line \nmeasurement technique, and we raise its particular suitability for \nwireless environments where static over-provisioning and overall \nadministrative network access cannot be assumed. We advocate \nthe usefulness of ubiquitous measurement mechanisms as a \nmeans of assessing a variety of metrics with the objective to \nreveal the actual response of the network elicited by the \noperational traffic. In Section III we outline the experimental \nenvironment over which performance measurements have been \nconducted. In Section IV we present measurements of end-to-end \none-way delay and packet loss experienced by bulk TCP and \nConstant Bit Rate (CBR) UDP IPv6 microflows over a campus-\nwide IEEE 802.11b W-LAN and a GPRS over GSM W-WAN. In \nthis context, microflows are defined as a unidirectional portion of \ntraffic identified by a 5-tuple in the datagrams\u2019 headers: IPv6 \nsource and destination addresses, transport protocol, and \ntransport source and destination ports. Based on the network \nresponse elicited by the instrumented traffic, we empirically \nevaluate the performance and actual service quality levels offered \nby the two operational wireless topologies. In addition, we reveal \nthe temporal variations in traffic-perceived performance between \nwhat are commonly considered as \u201cbusy\u201d and \u201coff-peak\u201d periods, \nand its dependence on network usage patterns. We conclude the \n \nPermission to make digital or hard copies of all or part of this work for \npersonal or classroom use is granted without fee provided that copies are \nnot made or distributed for profit or commercial advantage and that \ncopies bear this notice and the full citation on the first page. To copy \notherwise, or republish, to post on servers or to redistribute to lists, \nrequires prior specific permission and\/or a fee. \nWiCon\u201906, August 2\u20135, 2006, Boston, MA, United States. \nCopyright 2006 ACM 1-59593-036-1\u2026$5.00. \n \npaper in Section V by summarising our findings and outlining \ndirections for future work. \n2 IN-LINE MEASUREMENT AND IPv6 \nIn-line measurement [1, 2] is a two-point technique that exploits \nthe concept of piggybacking per-packet, minimal measurement \nindicators within the payload datagrams, in order to reveal how \ntraffic is routed between two nodes in the network, either end-to-\nend or edge-to-edge. Before departure from a source of an \ninstrumented path, a timestamp or a sequence number is encoded \nin a dedicated measurement header and is inserted into the \npacket. Upon arrival at the destination of an instrumented path, \nthe presence of the special-purpose header triggers a direct \nmeasurement activity that observes and\/or amends the indicators \ncarried within the datagram. In this way, in-line measurement \nprovides an indication of the performance experienced by the \nservice network traffic with high confidence. This avoids \n\u201cHeisenberg\u201d effects that are often caused by active \nmeasurement infrastructures in which the additional synthetic \ntraffic perturbs the network and biases the resulting analysis [3]. \nAt the same time, in-line measurement is a targeted and direct \ntwo-point operation as opposed to a post-processing activity of \nsingle-point passively monitored data, and can hence be \nconducted in real-time. \nIn order for in-line measurement to be applicable to any traffic \ntype carried over the Internet infrastructure, the obvious place to \ninsert the measurement headers is between the network and \ntransport layers in the TCP\/IP stack. This, of course, requires the \nnecessary protocol space and support so that additional \n(measurement) structures can be encoded between existing layers \nof the networking stack. IPv6 already provides the space for such \nfunctionality due to its extensibility options that allow optional \ninformation to be encoded between the main network and \ntransport layer headers and only be processed where and when \nrequired. In contrast to IPv4 where options are processed en-\nroute by every visited node [4], IPv6 defines the destination \noptions extension header to be only processed by the ultimate or \nselected, pre-identified intermediate destinations of the datagram \n[5]. In addition, by having options encapsulated in separate \n(extension) headers, there is no requirement for a limited set of \nstandardised options, as it was the case in IPv4. Indeed, although \n(option-carrying) IPv6 extension headers clearly reside in and are \nprocessed at the network layer, they are conceptually equivalent \nto upper-layer headers, uniquely identified by the next header \nvalue of the immediately preceding header. \nIn-line measurement has been engineered as a series of IPv6 \ndestination options headers that enable such functionality to be \nencoded as a native part of the network layer, and facilitate \nselective processing only at identified nodes in the network. In \nthis paper we used two measurement option-barring headers to \nmeasure one-way delay and one-way packet loss, respectively, as \nshown in Figure 1. \nAll measurements have been carried out end-to-end, by \ninstrumenting operational traffic with measurement indicators at \nan IPv6 source, and by amending\/observing these indicators at \nthe ultimate destination of the traffic. Measurement \ninstrumentation has been implemented as a set of processing \nmodules that operate within the IPv6 stacks of instrumented \nLinux end-systems. The protocol specification guarantees that \nintermediate nodes do not process the measurement extension \nheaders [5], and hence instrumented traffic is guaranteed \nidentical treatment with the rest of the traffic by the forwarding \nengines in the network. \n \nFigure 1. (a) One-Way Delay and (b) One-Way Loss \nMeasurement Destination Options Headers \nAll measurements have been carried out end-to-end, by \ninstrumenting operational traffic with measurement indicators at \nan IPv6 source, and by amending\/observing these indicators at \nthe ultimate destination of the traffic. Measurement \ninstrumentation has been implemented as a set of processing \nmodules that operate within the IPv6 stacks of instrumented \nLinux end-systems. The protocol specification guarantees that \nintermediate nodes do not process the measurement extension \nheaders [5], and hence instrumented traffic is guaranteed \nidentical treatment with the rest of the traffic by the forwarding \nengines in the network. \nTwo-point, in-line measurement is particularly suitable for \nproviding insight into the temporal and spatial effects of network \nperformance and routing behaviour on the end-to-end user traffic, \nespecially for non-statically configured topologies, such as \nwireless configurations, since it only requires minimal \ncooperation from the two end-points of an instrumented path, and \nit only incurs a marginal byte overhead on the instrumented \ntraffic. This is unlike the use of synthetic, active-probe traffic for \nassessing the network performance which impacts the user \ntraffic, and can produce questionably relevant results. \nFurthermore, in wide-area wireless environments where charging \nis usage-based and bandwidth is scarcer, generating additional \nmeasurement traffic is rather undesirable for the users. On the \nother hand, deployment of passive monitoring systems that \nrequire infrastructural access may simply not be feasible in such \nenvironments, and may not be capable of capturing the causes of \nnetwork performance problems on the wireless portions of the \nnetwork. Although a collection of passive monitoring tools have \nbeen used in the literature to analyse campus-wide W-LANs [6], \nit would have been very challenging to deploy the same tools \nover W-WAN topologies that may even span multi-provider \ninfrastructures. At the same time, merely focusing on the \nmeasurement of link-level wireless media characteristics does not \nimply accurate assessment of the application-perceived \nperformance, mainly due to the behaviour of the layered \nprotocols over the medium [16]. In addition, simulation studies \nand emulation models have often produced results not fully in-\nline with practical measurement studies over wireless \nenvironments [16, 13]. Hence, there has been a need for specific \ntransport and application-specific measurement and modelling \nstudies over wireless media, in order to assess the levels of \nperformance for certain types of microflows [8, 13]. In this \ncontext, in-line measurement is a ubiquitous mechanism to \npervasively extract detailed real-time performance information as \nexperienced by different-type application microflows routed over \nwireless topologies. Such evidence can then be combined to \nreveal not only differences in performance between distinct \ntraffic flows, but also differences in the network response elicited \nby similar-type microflows over distinct wireless technologies.  \n3 EXPERIMENTAL ENVIRONMENT \nEnd-to-end unidirectional delay and packet loss measurements \nhave been conducted over two diverse wireless service networks \nover the MSRL infrastructure [7] (Figure 2). MSRL includes a \nwireless cellular network as well as a combination of 802.11 \ntechnologies and it comprises a real service infrastructure. The \nmeasurements were carried out between a host machine \nconnected to MSRL\u2019s wired backbone network (measurement \npoint W) and a host machine with multiple wireless interfaces, \nconnected through the 802.11b\/g campus-wide network \n(measurement point B) and through the GPRS\/GSM W-WAN \nnetwork (measurement point A). The host attached to the 100 \nMb\/s backbone ran Linux kernel 2.4.18 and was equipped with \nan Intel 100BaseT adapter. The wireless node ran Linux kernel \n2.4.19 with two wireless interfaces (Wi-Fi\/GPRS) provided by a \nNOKIA D211 combo PCMCIA 802.11b adapter. \n \nFigure 2: Experimental Environment \u2013 MSRL Infrastructure \nThe W-LAN infrastructure is part of Lancaster University \nCampus wireless network, and includes 802.11b and 802.11g \nequipment that operates in the 2.4 GHz frequency band using \nDSSS (Direct Sequence Spread Spectrum) modulation over \nCSMA\/CA media access control. Although the nominal speed \nfor 802.11b is 11Mb\/s, in practice the maximum throughput that \nan application can achieve is about 5.9 Mb\/s over TCP and 7.1 \nMb\/s over UDP, mainly due to the CSMA\/CA protocol overhead \nin order to guarantee reliable transmissions in diverse \nenvironments [8, 9]. In addition, due to the frequency band that \nthey operate in, 802.11b and 802.11g equipment can incur \ninterference from microwave ovens, cordless phones, and other \nappliances using the same 2.4 GHz band. For this reason 802.11b \ncards can operate at 11 Mb\/s, but will fall back to 5.5, 2, and then \n1 Mb\/s, if signal quality becomes an issue.  \nThe W-WAN network is the Orange UK GPRS\/GSM service \nnetwork allowing connection speeds of up to 40Kb\/s. GSM \nprovides TDMA-based medium access at 900, 1800 or 1900 \nMHz using 200KHz-wide channels. Each channel is divided in 8 \nslots some of which are used for voice and some for the GPRS \ndata. If all 8 slots were allocated to GPRS a nominal of 171 Kb\/s \n(practical 115Kb\/s) could be reached, however most set-ups \nallocate asymmetrically slots for up to 20\/50Kb\/s (up\/downlink). \nConnectivity between Orange UK and the MSRL backbone is \nserved by a 2Mb\/s wireless Frame Relay point-to-point link. \n4 RESULTS \nMeasurements were conducted over the W-LAN and W-WAN \ntopologies, one set during weekday business hours, and a second \nduring weekend evening hours. Figure 3 shows a 3D overview of \nthe scope of each experimental set. IPv6 bulk TCP and Constant \nBit Rate (CBR) UDP microflows have been instrumented with \nthe appropriate measurement headers to assess the end-to-end \nunidirectional packet delay and loss for each wireless \nconfiguration. \nFor both bulk TCP and UDP experiments, the wireless nodes \nacted as clients, receiving content from a host attached to high-\ncapacity wired networks. For the purposes of the One-Way Delay \n(OWD) measurements, both communication ends synchronised \nusing NTP with a common stratum 1 server. In order to avoid \nhaving the NTP messages competing with the operational traffic \nover the bottleneck wireless links, an additional network \ninterface on the wireless nodes was attached to a 100 Mb\/s wired \nnetwork though which time synchronisation was carried out. The \nNTP daemon was allowed sufficient time to synchronise prior to \nthe experiments until it reached a large polling interval. The \noffset reported by NTP was always on the order of 10-3 or less, \nwith respect to the minimum OWD observed. \n \nFigure 3: The Three Dimensions of the Measurement Scope \nAll the traces were empirically examined against negative OWDs \nas well as against linear alteration (either increase or decrease) of \nthe minimum OWDs over time. None of these offset\/skew-\nrelated phenomena were experienced [10]. \nFor the purposes of the One-Way Loss (OWL) measurement \nexperiments, each system kept a variable to indicate whether per-\npacket measurement data had been dropped due to system \ncapability effects, so it can be distinguished from genuine packet \nloss. Such phenomenon was never observed. \n4.1 One-Way Delay (OWD) Measurements \nFigure 4 through Figure 7 show the OWD experienced by the \ndata and reverse paths of TCP bulk transfers over the W-LAN \nand W-WAN networks. Each figure shows the time series of the \nOWD and its corresponding Probability Density Function (PDF) \nfor the data and reverse TCP paths, for experiments carried out \nduring business hours as well as during weekend evening hours. \nAlthough OWD may not be the most representative performance \nmetric for reliable transport protocols, it still provides a good \napproximation of the minimum RTT one can expect from the \nmedium, and hence an important indication about the potentially \nachieved throughput for the transfer. There is an obvious \nsimilarity between the OWDs experienced during the two sets of \nexperiments for each wireless network. The often and sharp \nspikes in the OWD experienced by the Maximum Segment Sized \n(MSS) packets of the TCP data path over the W-LAN network, \ntogether with a mainly increasing trend, lead to the two similar \nbi-modal distributions with the long tails which concentrate \naround similar values of OWD. \nOn the other hand, the spikes in the OWD experienced by the \nminimum-sized acknowledgements over the reverse TCP path \nperiodically concentrate mainly around the same values and \nhence the PDF shows a clear mode on small positive OWDs. The \nthin long tails correspond to the clearly visible and often larger \nspikes. The mean OWD for the acknowledgement path of the two \nmeasurement sets taken over the W-LAN network is 40 and 56 \nms, respectively. The mean OWD of the data path for the same \nsets is 228 and 367 ms, respectively. What is mostly interesting \nin Figure 4 and Figure 5 is that, although the OWD phenomena \nexperienced during the two W-LAN experiment sets are not \narbitrarily different, the OWD assumes higher values in both \ndirections during the evening hours (weekend) experiment than \nthose assumed during business hours. It is highly unlikely that \nthis phenomenon can be attributed to higher network usage \nduring these evening hours, and may have been caused by \nexternal interference, which was unquantifiable at the time of the \nexperiment. \nFigure 4: One-Way Delay for TCP Data and ACK Paths during business hours (W-LAN) \nFigure 5: One-Way Delay for TCP Data and ACK Paths during weekend evening hours (W-LAN) \n \nFigure 6: One-Way Delay for TCP Data and ACK Paths during business hours (W-WAN) \n \nFigure 7: One-Way Delay for TCP Data and ACK Paths during weekend evening hours (W-WAN) \n \nDuring the experiments conducted over the W-WAN, the OWD \nof the bulk TCP data path shows an interesting repetitive trend of \ngradually reaching a local maximum and then sharply fallback to \nsome threshold minimum value. Local minima and maxima \nassume very similar OWD values, and this trend is extrapolated \non the PDF that gradually reaches a clear mode. On the reverse \npath, OWDs largely vary in the range of a few hundreds of \nmilliseconds, with not many high spikes. Their PDF is \nmultimodal but all modes concentrate around similar OWD \nvalues. Both data and reverse paths show similar OWD trends \nbetween the two different day-and-time datasets. The mean \nOWD of the data path is 5900 milliseconds during the business \nhours experiment and 5500 milliseconds during the weekend \nexperiment. Traffic on the reverse path experiences a mean \nOWD of 800 milliseconds in both cases. The data path figures \nfor the W-WAN experiments can be considered reasonable since \nhigher utilisation of the GSM network during business hours can \nsafely be assumed. Table 1 shows the aggregate TCP goodput \nmeasured at the receiver, as being the number of bytes received \nover the entire duration of the transfer. The number of bytes \nmeasured by the IPv6-based in-line measurement modules \naccounts for payload data, transport layer header fields, as well \nas for possibly retransmitted datagrams during the bulk transfer. \nIt is interesting to note that the difference of approximately 400 \nms in the mean OWD of the data path between the two W-WAN \nexperiments does not result in a considerable difference in the \nTCP goodput experienced, whereas the just over a 100 ms \ndifference in the mean OWD of the corresponding W-LAN \nexperiments is followed by a considerable difference in goodput \ntoo. Of course, the difference in goodput seen between the two \nbulk transfers over the W-LAN network can be attributed to \ndifferent levels of interference and\/or packet loss phenomena, \nwhich have not been jointly considered during these experiments.  \nTable 1: Aggregate Goodput of Bulk TCP Transfers \n W-LAN W-WAN \nBusiness hours 223.7 KB\/s 3.78 KB\/s \nEvening hours  \n(weekend) \n149.9 KB\/s 3.84 KB\/s \nAnother interesting observation is the difference in the TCP \ngoodput achieved over the two wireless networks, with respect to \ntheir transmission capacity difference. The ratio of the theoretical \ncapacities of the media (11 Mb\/s over 115.2 Kb\/s) is much larger \nthan the achieved goodput ratio for both experimental sets. If one \nalso considers the practical constraints of most GPRS-enabled \nterminals being able to simultaneously listen only to a limited \nnumber of downlink channels that further limit the maximum \nbandwidth, they can infer that the W-LAN infrastructure is either \ncongested, or more likely, signal coverage is bad. During the \nweekend experiment, when resource contention of the W-LAN \ninfrastructure is low, the goodput ratio of the bulk transfers \ncorresponds to a capacity ratio of 1.2Mb\/s over 30.72Kb\/s.  \nOWD for UDP microflows was measured while streaming CBR \ntraffic consisting of 512-byte datagrams. In each experiment, \ndifferent bit rates have been tried in sequential runs that \napproximate typical streaming application rates, while laying \nwell into the theoretical transmission capacities for each \ntechnology. The OWD measurements presented below focus on \ntwo different bit rates for each technology, one that was \nseamlessly handled by the medium, and a second that stressed, \nand in some cases exceeded the (practical) capacity of the \nnetwork under test. Figure 8 shows the OWD experienced by \ntraffic streamed at 1Mb\/s and 2Mb\/s respectively over the W-\nLAN network during the \u2018business hours\u2019 experimental set. Per-\npacket OWD is mostly concentrated around a few tens of \nmilliseconds for the 1Mb\/s microflow with a mean of 25.9ms. \nSome relatively large values that appear to occur periodically, \nand some even larger values between the 150th and 250th seconds \nof the experiment result on the PDF having a clear mode on \nsmall positive values, followed by a very long thin right tail. \nFigure 9 and Figure 10 show OWD experienced by the UDP \ntraffic when streamed over the W-WAN network, at 20Kb\/s and \n50Kb\/s, during business hours and weekend evening hours \nrespectively. It is interesting to examine the (dis-)similarities \nbetween the different experimental runs. The time series plots in \nFigure 9 show a clear periodic trend where OWD sharply \nincreases by more than a factor of 20 every 53 seconds. Thus, \nalthough the mean OWD is 2500 ms, the median is only 634 ms \nindicating that 50% of the packets experienced delays of just \nover 500 ms.  The same periodicity is experienced by the OWD \nduring the 50 Kb\/s CBR flow, where, again sudden increases in \ndelay occur every 53 seconds. This periodicity in delay increase \nis coupled with datagram loss phenomena, as it can be seen from \nthe discontinuity of the plots, and will become apparent in the \nnext sections. However, OWD assumes overall larger values with \na mean of 5100 ms and hence these increases do not have the \nsame impact on the distribution. During the weekend experiment \nshown in Figure 10, such periodic increases in the OWD are not \napparent. Rather, sudden increases in delay of up to a factor of \nfour with respect to the minimum OWD of 418 ms are more \nrandom.  \nThe mean OWD is 487 ms for the 20 Kb\/s flow, and 5100 ms for \nthe 50 Kb\/s flow. Overall, OWD assumes similar values between \nthe two experimental sets, with all the quantiles of the OWD \ndistributions for each bit-rate lying on the same range. \n4.2 One-Way Loss (OWL) Measurements  \nUnidirectional packet loss has been measured by grouping \ndatagrams into flows at the source of the instrumented path based \non their network and transport layer 5-tuple. Each flow has an \nassociated timer (103 sec) after which, if no packets belonging to \nthat flow have been seen, its entry expires. Network level \nincremental sequence numbers are piggybacked in each datagram \nat the source, and packet loss is calculated at the destination \nbetween two successively received packets A and B, based on the \nfollowing formula: \nOWL = SeqNumB \u2013 SeqNumA \u2013 1. \nPositive OWL values usually indicate datagrams being dropped, \nwhereas negative OWL values indicate either link-level packet \nretransmissions, or out-of-order datagram delivery if they are \nimmediately preceded by positive OWL values and they all sum-\nup to zero. An OWL value of -1 always indicates a link-level \ndatagram retransmission. \nFigure 11 shows OWL experienced by the bulk TCP transfers \nover (a) the W-LAN and (b) the W-WAN networks during \nbusiness hours (upper plots) and weekend evening hours (lower \nplots). Rare packet loss instances can be observed over the W-\nLAN topology, and a small number of single link-level \nretransmission instances. Over the W-WAN network, TCP \npacket loss is more often and periodic with mainly single packet \nlosses, and also instances of two successive packets being \ndropped. Overall, OWL remains low with a 1.5% loss rate for the \nbusiness hours experiment and 0.87% for the experiment \nconducted over the weekend. \nFigure 12 and Figure 13 show the unidirectional packet loss \nexperienced by the CBR UDP traffic over the W-LAN and W-\nWAN networks, respectively. Again, the upper plots refer to the \nbusiness hours experiment and lower plots to the weekend \nexperiment. Both the W-LAN and the W-WAN media seem able \nto accommodate fairly seamlessly the unresponsive UDP traffic \nat the relatively conservative rates of 1 Mb\/s and 20 Kb\/s, \nrespectively, since they only experience rare packet drops, with \nan overall loss rate well below 1%. The only exception occurred \nduring the business hour W-WAN experiment at 20 Kb\/s where a \nburst of packets were dropped mainly at the beginning of the \nstreaming, resulting in an overall loss rate of 6.5%. However, \nwhen streaming at 2 Mb\/s over the W-LAN topology during \nbusiness hours, packet loss phenomena raise significantly and \nsuccessive packet drops of up to 80 datagrams are experienced. \nThe flow exhibits an overall loss rate of 44%. During the \nweekend experiment, the UDP flow with the same characteristics \nexhibits an overall loss rate of 19.5% when routed over the W-\nLAN network. Similar conditions of severe packet loss are \nexperienced for UDP traffic routed over the W-WAN network at \na rate of 50 Kb\/s. overall packet loss rate reaches 45% during the \nbusiness hour experiment and 40% during the weekend \nexperiment, respectively. \n4.3 On the Relevance of Ping Performance \nAn additional set of experiments conducted during business \nhours included the simultaneous generation of 64-byte ICMP \necho messages (104-byte IPv6 datagrams) over the instrumented \nend-to-end paths, in order to examine the relevance of ping RTT \nindications with respect to the performance experienced by the \noperational traffic.  \nFigure 14 shows the OWD experienced by the TCP data and \nreverse paths, together with half the RTT reported by the \nsimultaneous ping process over (a) the W-LAN, and (b) the W-\nWAN topologies. The boxplots provide a visual summary of the  \nFigure 8: UDP One-Way Delay over the W-LAN Network during business hours \n \nFigure 9: One-Way Delay for CBR UDP traffic at 20Kb\/s and 50 Kb\/s during business hours (W-WAN) \n \nFigure 10: One-Way Delay for CBR UDP traffic at 20Kb\/s and 50 Kb\/s during weekend evening hours (W-WAN) \nFigure 11: TCP Data Loss over (a) W-LAN and (b) W-WAN \n \nFigure 12: CBR UDP Loss at (a) 1Mb\/s and (b) 2Mb\/s [W-LAN] \n \nFigure 13: CBR UDP Loss at (a) 20Kb\/s and (b) 50Kb\/s [W-WAN] \ndistribution for each measured characteristic, indicating the main \npercentiles as well as the variance of the metric. The mean value \nis also drawn on each boxplot. It can be seen that the mean \nRTT\/2 value lies in both cases between the mean OWD \nmeasured for the TCP data and reverse paths, something \nreasonable given the packet size of the ICMP test traffic. \nHowever, neither the mean nor the distribution summary of \nRTT\/2 can adequately estimate the unidirectional contributors of \nthe round-trip time. \n \nFigure 14: OWD for TCP Data and Reverse Paths, and Ping \nRTT\/2 over (a) W-LAN and (b) W-WAN \n \nFigure 15: OWD for UDP Traffic and Ping RTT\/2 \nFigure 15 shows the same comparison of OWD experienced by \nUDP streaming traffic and ping RTT\/2. It is again evident that \nping underestimates the OWD contributor of the downlink path \nof the two topologies.  The relevance of RTT\/2 to the actual \nobserved phenomenon is arbitrary since its mean value captures \n10% and 39% of the mean UDP OWD for the W-LAN and the \nW-WAN networks, respectively. \nThe findings of this comparison between OWD measured by the \nin-line measurement modules and Ping\u2019s RTT\/2 are in full \naccordance with previous studies, which also conclude that \ndividing the round-trip-time reported by ping in half can yield \nmisleading results in determining unidirectional latencies [17]. \nDelays in each direction of an end-to-end path can be largely \ndifferent due to both static components such as asymmetric paths \n(e.g. GPRS) and dynamically varying components such as \ntemporal resource contention. In addition, administrative policies \nsuch as traffic type classification and prioritisation can result in \nICMP control traffic being treated differently by the network \nforwarding engines. \n4.4 Discussion  \nThe end-to-end unidirectional packet delay measured over the \ntwo networks for both reliable and unreliable transports shows \nthat, at a microflow level, the OWD distribution changes \ndepending on the packet sizes as well as on the application traffic \nand network technology. Similar multimodal delay distributions \nlying within similar value ranges have been observed for bulk \nTCP transfers over each network during experiments carried at \ndifferent hours of the day and different days of the week, \nimplying that the network traffic dynamics are not highly \nvariable.  \nOWD values on the orders of thousands of milliseconds for bulk \nTCP tansfers observed over the GPRS infrastructure are in \nagreement with previously published evidence [13]. The TCP \ngoodput measured over the W-LAN network during the weekend \nexperiment when low resource utilisation can safely be assumed \nindicates interference and significant signal fading [9]. It has \nbeen suggested that the throughput of a bulk transfer connection \ncan produce an overestimate of the available bandwidth in the \npath [11]. During the TCP experiments over W-LAN, this figure \nremained well below 2Mb\/s. This upper bandwidth limit has also \nbeen extrapolated by the CBR UDP experiments, where it \nbecame apparent that the medium could not handle streaming at \n2Mb\/s. In contrast to the 1Mb\/s streaming experiment, delay \nincrease on the order of hundreds of milliseconds as well as \nsevere packet loss phenomena have been measured. Further \ninvestigation using the netstumbler utility [18] verified that a \nnumber of experimental W-LAN networks were competing over \nthe same frequency channels during the course of the \nexperiments. This interference caused a decrease on the S\/N ratio \nof our measurement infrastructure resulting in reduced \nthroughput, either due to switching to fallback modes or to \nincreased error rate. This phenomenon was reflected in our \nmeasurement results. \nAnother interesting observation lies in the shapes of the end-to-\nend OWD distributions we measured for reliable (TCP) and \nunreliable (UDP) transports over the two wireless networks. The \ndistributions of the OWD experienced by the 512-byte UDP \ndatagrams during the CBR experiments exhibit clear single or \nmultiple modes and long thin tails, appearing visually similar to \ndistributions of aggregate point-to-point packet delay measured \nover a backbone network reported in [12]. Given the conjecture \nthat the one-way delay is directly related to the datagram size \n[15], this similarity in the OWD distributions observed in the two \nstudies hints to the majority of Internet traffic still consisting of \nsmall-to-medium-sized datagrams, as it has been also reported in \n[14, 15]. At the same time, the aggregate point-to-point backbone \ndelay distributions presented in [12] exhibit largely different \nshapes from the distributions of the end-to-end OWD of bulk \nTCP transfers we measured over the two wireless networks. This \ndissimilarity, coupled with the fact that the majority of bytes in \nthe Internet are carried within MSS-sized packets (1500-byte or \nmore) [14], implies that coarse-grained delay measurement of \naggregate traffic may not approximate the end-to-end \nperformance experienced at a microflow level, even by dominant \nhigh-volume traffic flows (elephants [19, 20]). \nEnd-to-end one-way loss measurements revealed that packet \nlosses were relatively rare for TCP flows over the two wireless \nconfigurations, and also emphasised the practical capacity \nlimitations of the two media where CBR traffic at 2Mb\/s and \n50Kb\/s respectively saturated the links of the two networks. \n5 CONCLUSIONS \nIn this paper we used a ubiquitous, IPv6-based mechanism to \nempirically evaluate the end-to-end performance of two \ndifferent-technology wireless service networks, as this is \nreflected by the end-to-end one-way delay and packet loss \nexperienced by operational traffic routed over the topologies. The \nmeasurements revealed similar one-way delay experienced by \nbulk TCP traffic irrespective of day-of-the-week for both media, \nimplying no major influences by fluctuations in operational \ncross-traffic. One-way delay was less predictable for UDP traffic \nflows, although it still assumed similar values for each medium, \nat a given bit rate.  Packet loss measurements showed that TCP \nunsurprisingly adapts its transmission and avoids serious losses \nover both wireless media. Using CBR UDP streaming traffic, we \nempirically identified some practical capacity limitations of the \nW-LAN and the W-WAN networks. Streaming traffic at 2Mb\/s \nand 50Kb\/s, respectively, proved practically infeasible, due to \nhigh packet loss rates. \nFuture work will investigate through analysis the invariant \nfactors on the studied performance metrics that can be identified \nbetween the different media, as well as between different day-of-\nweek experiments. Periodicity and\/or repetitiveness effects that \nare apparent from the descriptive analysis of this paper will be \nfurther investigated and analysed. Constant factors and variable \ncomponents contributing to the end-to-end one-way delay over \nthe two wireless networks will be investigated. An enhanced set \nof experiments has already been planned to reveal correlations \nbetween one-way delay and loss indications during different days \nof the week. Further experimentation will also focus on assessing \nthe impact of link-level mobility on the performance experienced \nby the traffic of both W-LAN and W-WAN networks. \n6 REFERENCES \n[1] Pezaros, D., P., Hutchison, D., Garcia, F., J., Gardner, R., \nD., Sventek, J., S., In-line Service Measurements: An IPv6-\nbased Framework for Traffic Evaluation and Network \nOperations, in Proceedings of the 2004 IEEE\/IFIP Network \nOperations and Management Symposium (NOMS\u201904), \nSeoul, Korea, April 19-23, 2004 \n[2] Pezaros, D., P., Network Traffic Measurement for the Next \nGeneration Internet, PhD Thesis, Computing Department, \nLancaster University, August 2005 \n[3] Paxson, V., Towards a Framework for Defining Internet \nPerformance Metrics, The Sixth Annual Conference of the \nInternet Society (INET'96), Montreal, Canada, June 24-28, \n1996 \n[4] Postel, J., Internet Protocol, IETF Standard, Network \nWorking Group, Request For Comments (RFC) 791, \nSeptember 1981 \n[5] Deering, S., Hinden, R., Internet Protocol, Version 6 (IPv6) \nSpecification, IETF Network Working Group, Request For \nComments (RFC) 2460, December 1998 \n[6] Kotz, D., Essien, K., Analysis of a Campus-wide Wireless \nNetwork, in Proceedings of the Eighth Annual Conference \non Mobile Computing and Networking (MobiCom\u201902), \nSeptember 23-28, Atlanta, Georgia, USA, 2002 \n[7] MSRL \u2013 Mobile-IPv6 Systems research Lab\u201d. Project \nfunded by Cisco Systems, Microsoft Research (Cambridge), \nand Orange Ltd, Lancaster University, 2001 \n[8] Vasudevan, V., Parikh, M., Chandra, K., Thompson, C., \nTCP and IEEE 802.11b Protocol Performance in Indoor \nWireless Channels, in Proceedings of IEEE Sarnoff \nSymposium, New Jersey, March 2003 \n[9] Heusse, M., Rousseau, F., Berger-Sabbatel, G., Duda, A., \nPerformance Anomaly of 802.11b, in Proceedings of IEEE \nINFOCOM, San Francisco, March-April 2003 \n[10] Moon, S., B., Skelly, P., Towsley, D., Estimation and \nRemoval of Clock Skew from Network Delay \nMeasurements, in Proceedings of IEEE INFOCOM, New \nYork, NY, March 21-25, 1999 \n[11] Jain, M., Dovrolis, C., End-to-End Available Bandwidth: \nMeasurement Methodology, Dynamics, and Relation with \nTCP Throughput, ACM SIGCOMM\u201902, Pittsburgh, USA, \nAugust 19-23, 2002 \n[12] Choi, B., Moon, S., Zhang, Z., Papagiannaki, K., Diot, C., \nAnalysis of Point-to-Point Packet Delay in an Operational \nNetwork, in Proceedings of IEEE INFOCOM\u201904, Hong \nKong, March 7\u2013 11, 2004 \n[13] Chakravorty, R., Cartwright, J., Pratt, I., Practical \nExperience with TCP over GPRS, in Proceedings of the \nIEEE Global Communications Conference (IEEE \nGLOBECOM\u201902), Taipei, Taiwan, R.O.C., November 17-\n21, 2002 \n[14] Claffy, K., C., Miller, G., Thompson, K., The Nature Of The \nBeast: Recent Traffic Measurements From An Internet \nBackbone, The Eighth Annual Conference of the Internet \nSociety (INET'98), Geneva, Switzerland, July 21-24, 1998 \n[15] Fraleigh, C., Moon, S., Lyles, B., Cotton, C., Khan, M., \nMoll, D., Rockell, R., Seely, T, Diot, C., Packet-Level \nTraffic Measurements from the Sprint IP Backbone, IEEE \nNetwork Magazine, Volume 17 , Issue 6 , pp. 6-16, \nNovember-December 2003 \n[16] Meyer, M., TCP Performance over GPRS, in Proceedings of \nthe IEEE Wireless Communications and Networking \nConference (WCNC'99), New Orleans, Louisiana, U.S.A., \nSeptember 1999 \n[17] Claffy, K., C., Polyzos, G., C., Braun, H-W., Measurement \nConsiderations for Assessing Unidirectional Latencies, \nJournal of Internetworking, Volume 4, Number 3, January \n1993 \n[18] Netstumber, http:\/\/www.netstumbler.com\/  \n[19] Joo, Y., Ribeiro, V., Feldmann, A., Gilbert, A., C., \nWillinger, W., On the Impact of Variability on the Buffer \nDynamics in IP Networks, 37th Annual Allerton Conference \non Communication, Control and Computing, September \n1999 \n[20] Papagiannaki, K., Taft, N., Bhattacharyya, N., Thiran, P., \nSalamatian, K., Diot, C., A Pragmatic Definition of \nElephants in Internet Backbone Traffic, In Proceedings of \nthe Second Internet Measurement Workshop (IMW\u201902), \nMarseille, France, November 2002 \n"}