{"doi":"10.1109\/ISCAS.2002.1009786","coreId":"68152","oai":"oai:eprints.lancs.ac.uk:33253","identifiers":["oai:eprints.lancs.ac.uk:33253","10.1109\/ISCAS.2002.1009786"],"title":"On dynamic delay and repeater insertion.","authors":["Tenhunen, Hannu","Pamunuwa, Dinesh B."],"enrichments":{"references":[{"id":863781,"title":"Circuits, Interconnections, and Packaging for VLSI,","authors":[],"date":"1990","doi":null,"raw":"H. Bakoglu, Circuits, Interconnections, and Packaging for VLSI, Reading, MA: Addison Wesley 1990","cites":null},{"id":864295,"title":"Effects of inductance on the propagation delay and repeater insertion in VLSI circuits\u201d,","authors":[],"date":"2000","doi":"10.1109\/92.831439","raw":"Y.  Ismail and E. Friedman, \u201cEffects of inductance on the propagation delay and repeater insertion in VLSI circuits\u201d, IEEE Trans. VLSI Systems, April 2000, vol. ISPD, 1999,  pp. 193-200. 8, pp. 195-206. I-  100 Authorized licensed use limited to: Lancaster University Library. Downloaded on May 07,2010 at 15:20:56 UTC from IEEE Xplore.  Restrictions apply.","cites":null},{"id":863236,"title":"Getting to the bottom of deep submicron 11: a global wiring paradigm\u201d, in","authors":[],"date":null,"doi":null,"raw":"[  11 D. Sylvester and K. Keutzer, \u201cGetting to the bottom of deep submicron 11: a global wiring paradigm\u201d, in Proc.","cites":null},{"id":864027,"title":"Optimum buffer circuits for driving long uniform lines\u201d,","authors":[],"date":"1991","doi":"10.1109\/4.65707","raw":"S. Dar and M. Franklin, \u201cOptimum buffer circuits for driving long uniform lines\u201d, IEEE J. Solid State Circuits, vol. 26, pp. 32-40, Jan. 1991.","cites":null},{"id":863483,"title":"Signal delay in RC tree networks\u201d,","authors":[],"date":"1983","doi":"10.1109\/TCAD.1983.1270037","raw":"J.  Rubinstein,  P.  Penfield- and M.  Horowitz  \u201cSignal delay in  RC  tree  networks\u201d,  IEEE  Trans. Computer Aided Design, vol  CAD-2,  no.  3, pp.  202-21 1, July 1983.","cites":null}],"documentType":{"type":1}},"contributors":[],"datePublished":"2002","abstract":"In deep sub-micron technologies, as the wires are placed ever closer and signal rise and fall times go into the sub-nano second region, increased crosstalk has implications on the data throughput and on signal integrity. Depending on the data correlation on the coupled lines, the delay can either decrease or increase. Here we show that in uniform coupled lines, the response for several important switching configurations has a dominant pole characteristic. This allows easy prediction for the average, worst-case and best-case delay of buffered lines. We show that the repeater numbering and sizing can be optimised to deal with crosstalk under different constraints to best match the application. Area and power issues are considered and all equations are checked against a dynamic circuit simulator (SPECTRE)","downloadUrl":"https:\/\/core.ac.uk\/download\/pdf\/68152.pdf","fullTextIdentifier":"http:\/\/eprints.lancs.ac.uk\/33253\/1\/getPDF5.pdf","pdfHashValue":"5fd4f4350f5a2f0738f3a556e865c30a91b7469c","publisher":"IEEE","rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:eprints.lancs.ac.uk:33253<\/identifier><datestamp>\n      2018-01-11T00:05:07Z<\/datestamp><setSpec>\n      7374617475733D707562<\/setSpec><setSpec>\n      7375626A656374733D54:5441<\/setSpec><setSpec>\n      74797065733D626F6F6B5F73656374696F6E<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:title>\n    \n      \n        On dynamic delay and repeater insertion.<\/dc:title><dc:creator>\n        Tenhunen, Hannu<\/dc:creator><dc:creator>\n        Pamunuwa, Dinesh B.<\/dc:creator><dc:subject>\n        TA Engineering (General). Civil engineering (General)<\/dc:subject><dc:description>\n        In deep sub-micron technologies, as the wires are placed ever closer and signal rise and fall times go into the sub-nano second region, increased crosstalk has implications on the data throughput and on signal integrity. Depending on the data correlation on the coupled lines, the delay can either decrease or increase. Here we show that in uniform coupled lines, the response for several important switching configurations has a dominant pole characteristic. This allows easy prediction for the average, worst-case and best-case delay of buffered lines. We show that the repeater numbering and sizing can be optimised to deal with crosstalk under different constraints to best match the application. Area and power issues are considered and all equations are checked against a dynamic circuit simulator (SPECTRE).<\/dc:description><dc:publisher>\n        IEEE<\/dc:publisher><dc:date>\n        2002<\/dc:date><dc:type>\n        Contribution in Book\/Report\/Proceedings<\/dc:type><dc:type>\n        NonPeerReviewed<\/dc:type><dc:format>\n        application\/pdf<\/dc:format><dc:identifier>\n        http:\/\/eprints.lancs.ac.uk\/33253\/1\/getPDF5.pdf<\/dc:identifier><dc:relation>\n        http:\/\/dx.doi.org\/10.1109\/ISCAS.2002.1009786<\/dc:relation><dc:identifier>\n        Tenhunen, Hannu and Pamunuwa, Dinesh B. (2002) On dynamic delay and repeater insertion. In: IEEE International Symposium on Circuits and Systems, 2002. IEEE, pp. 97-100. ISBN 0-7803-7448-7<\/dc:identifier><dc:relation>\n        http:\/\/eprints.lancs.ac.uk\/33253\/<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/dx.doi.org\/10.1109\/ISCAS.2002.1009786","http:\/\/eprints.lancs.ac.uk\/33253\/"],"year":2002,"topics":["TA Engineering (General). Civil engineering (General)"],"subject":["Contribution in Book\/Report\/Proceedings","NonPeerReviewed"],"fullText":"On Dynamic Delay and Repeater Insertion' \nHannu Tenhunen and Dinesh Pmunuwa \nRoyal Institute of Technology (KTH), IMIT, LECS \nElectrum 229, SE-I64 40 Kista, Sweden \ndinesh\/hannu@ele. kth.se \nABSTRACT \nIn deep sub-micron technologies, as the wires are \nplaced ever closer and signal rise and fall times go into the \nsub-nano second region, increased cross talk has implica- \ntions on the data throughput and on signal integrity. \nDepending on the data correlation on the coupled lines, \nthe delay can either decrease or increase. Here we show \nthat in uniform coupled lines, the response for several \nimportant switching configurations has a dominant pole \ncharacteristic. This allows easy prediction for the average, \nworst-case and best-case delay of buffered lines. We show \nthat the repeater numbering and sizing can be optimised to \ndeal with cross-talk under different constraints to best \nmatch the application. Area and power issues are consid- \nered and all equations are checked against a dynamic cir- \ncuit simulator (SPECTRE). \n1. INTRODUCTION \nIn the future generation of VLSI circuits when the fea- \nture size shrinks to a fraction of a micro meter, the aspect \nratio (width\/height) of interconnect is reduced in order to \nkeep the resistance increase to a minimum. This means \nthe capacitance between wires increases, and cross talk - \nwhich couples a noise voltage onto the victim net, and has \nan effect on the delay- poses a serious challenge in design- \ning VLSI systems. Our interest in this paper is in cross- \ntalk induced delay, and further in a parallel line configura- \ntion, where the nets are laid out alongside each other for a \nrelatively long distance as would occur in an intermediate \nor global level bus. Recently there has been a profusion of \nresearch into block oriented architectures [ 11 with differ- \nent modules communicating via buses and the parallel net \ntopology in Fig.'l will occur very often. \nCapacitive coupling can result in speeding up of the \nsignal or cause delay- depending on the correlation \nbetween the data on the different lines. This input depend- \nent dynamic delay can exactly be captured only by \ndynamic simulators. However when the line under consid- \neration is reduced to a uniformly coupled two aggressor \nconfiguration as shown in Fig. 1, certain simplifications \nare possible which allow delay predictions depending on \nthe switching of the aggressors. There have been previous \nworks which have distributed the capacitance over ground \nand coupled components and presented closed form delay \nequations with various switching configurations. However \nthese use a single T or ll section, which does not represent \na distributed line with reasonable accuracy. We shall show \nthat for uniformly coupled parallel nets, when the aggres- \nsors switch simultaneously in a variety of ways, the \nresponse of the victim line has a dominant pole character- \nistic. This allows the delay to be modelled by a single time \nconstant, with a changing coefficient giving measures of \naverage, worst-case and best-case delays with over 90% \naccuracy. This analysis is extended to buffered lines, \nwhere we give closed form equations which quantify the \neffect that repeater sizing and numbering have on the \ndelay for different switching patterns. Finally we show \nhow these expressions facilitate repeater optimisation \nunder different constraints. \n2. DELAY MODELLING \nFrom now on, whenever delay is mentioned we are \nalways talking about the 50% delay, since this corre- \nsponds to the delay of the output to the switching thresh- \nold of an inverter. Also in all cases the victim line is \nassumed to switch from zero to one, without loss of gener- \nality. When a line switches up(down) from zero(one) it is \nassumed to have been zero(one) for a long time. We con- \nsider a line with coupling on two sides as shown in Fig. 1. \nTo build up our delay model for the distributed line, we \nanalyse first the lumped model which consists of a single \nsection. For simultaneously switching lines, six different \nswitching scenarios can be identified. \n(a) Both aggressors switch from one to zero \n(b) One switches from one to zero, the other is quiet \n(c) Both are quiet \n(d) One switches from one to zero, the other switches \n(e) One switches from zero to one, the other is quiet \nfrom zero to one \nI .  The funding support of Sida and that of Vinnova via the Socware and Exsite Programs are gratefully acknowledged \n0-7803-7448-7\/02\/$17.00 02002 IEEE I - 97 \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on May 07,2010 at 15:20:56 UTC from IEEE Xplore.  Restrictions apply. \n( f )  Both switch from zero to one \nConsider (c) above as the reference delay, where the \ndriver of the victim line charges the entire capacitance. \nCases (a) and (b) slow down the victim line, (d) is equiva- \nlent to (c), and (e) and ( f )  speed up the victim. Now given \nin (1) is the complete response of the victim line where the \ncoefficients A i  and Bi take the values given in Table 1 \ndepending on how the aggressor lines switch. \nI \nSwitching \nConfiguration \nTable 1. Coefficients for different switching configurations \nBi xi ki A i  \n1 \n2 \n(4 -413 113 1.51 2.20 \n(b) 1 0 1.13 1.50 \n3 \n4 \n5 \n6 \nIn cases (b) and ( f ) ,  the response is a single decaying \nexponential, while in the other cases the slow or dominant \ntime constant is R(CS+3C,$. In cases (a), (c) and (d), the \nslower time constant is also associated with the larger \ncoefficient, and hence the faster time constant can be \nneglected with good accuracy in the delay. This is espe- \ncially so in case (a). Now to state some well known results, \na lumped RC circuit with no aggressors has a single pole \nresponse and the delay is as given in (2). Signal propaga- \ntion along a distributed RC line is governed by the d i f i -  \nsion equation which does not lend itself readily to closed \n(c) -213 -113 0.57 0.65 \n(4 -213 -113 0.57 0.65 \n-1\/3 -213 -- -- (e) \n(9 0 1 0 0 \nform predictions for the delay at a given threshold. How- \never it turns out that a simple exponential is a very good \npredictor [2] which leads to (3) as the model for the 50% \ndelay of a distributed RC line to a step input. This is a very \ngood approximation and is reputed to be accurate to within \n4% for a very wide range of R and C.  \nFor the kinds of RC lines shown, whenever the response \nof the lumped model corresponding to a single section of \nthe distributed line is or can be approximated by a wave- \nform containing a single exponential, the response of the \ndistributed line can also be approximated by a waveform \nwith a single exponential. Hence we propose to model the \ndelay of the distributed lines corresponding to (a), (b), (c), \n(d) and (0 with single time constant expressions. (In the \ncase of (e) the accuracy is not high enough to justify such \nan approach because the lumped model does not have a \ndominant time constant). Since the time constants in ques- \ntion are linear combinations of R, C, and C, changing \ncoefficients are sufficient to distinguish between the differ- \nent cases. The delay is as given in (4) where hi take the \nvalues in Table 1. These constants were obtained by run- \nning sweeps with the circuit analyser SPECTRE. For all i, \nthe accuracy is more than 93% for a wide range of R, C, \nand C, values. In the interest of brevity, only a representa- \ntive subset of the values for i= l ,  which is of special inter- \nest, is shown here in Table 2. \n3. REPEATER INSERTION \nTo reduce delay the long lines in Fig. 1 are broken up \ninto shorter sections, with a repeater (an inverter) driving \neach section as shown in Fig. 2. The analysis for repeater \ninsertion is carried out by characterizing the non-linear \nbuffers by an output resistance and input capacitance. Let \nthe number of repeaters including the original driver be k, \nand the size of each repeater be h times a minimum sized \ninverter (all lines are buffered in a similar fashion). The \noutput impedance of a minimum sized inverter for the par- \nticular technology is R, and the output capacitance \nC,,,. Then the output impedance of an h sized driver is \nassumed to be Rd,, , \/h,  and the output capacitance hxCd,,. \nI - 98 \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on May 07,2010 at 15:20:56 UTC from IEEE Xplore.  Restrictions apply. \nTable 2. Comparison of simulated and predicted delay for \na distributed RC line with worst-case cross talk \n10 \n10 \nI I I I I \n10 1 1  I 10 I 153.8 I 154 I -0.2% \n100 1 403 415 -2.8% \n100 10 546 550 -0.8% \n100 \n200 \n300 \n300 \n10 10 1984 1900 4.2% \n10 30 9938 9800 1.4% \n30 10 8393 8100 3.5% \n30 20 13222 12600 4.8% \n1 I I I I I I I 300 I 30 I 30 I 17850 I 17100 14.2% I \nNow with reference to Fig. 1 and using superposition with \nthe delay equations (2, 3 and 4) the total delay for a line \ntakes the expression given in (5). This expression follows \nthe Bakoglu model [3] of equalising the repeaters, and can \nbe explained as follows. The distributed and lumped resis- \ntances combine with the distributed and lumped capaci- \ntances to produce various delay terms. The terms in bold \nare the result of modelling cross talk in the delay. Ai and pi \ntake the values given in Table 1,  where pi is a coefficient \nintroduced to take the Miller effect into account.\u2019 It is \nassumed that the load C, is equal to the input capacitance \nof an h sized inverter. Also the signal rise time has been \nincluded here. Because in general the delay per section is \nmuch greater than half the rise time, the non-zero rise(fal1) \ntime of the input signal is approximated in (5) as a simple \naddition. Hence the fact that the entire analysis is based on \nstep inputs does not cause grave drops in the accuracy of \nthe final expressions. This is ever more true for future gen- \nerations of technologies where decreasing feature sizes \nallow transistors to be gated with faster signals, but also \ncause wire parasitics to become more pathological. This \ndelay expression was checked against simulated values, \nfb.4-  c* + h.- c c  + 0.7hCdrvm)] + 2 \nk \u2019 k  2 \n1. Because of the approximate models used for the delay, the final \naccuracy is improved if the Miller coefficients take non-integer val- \nues as shown. \n2 \u2019  1 \nDom.Quie1 DmWl.UP Gui~4,QUiet UP.UP \nswitching Paltem \nm . D o m  \nFigure 2: Delays for different repeater insertion strategies \nand the accuracy found to be limited only by the accuracy \nof the initial expression (4). \nTo find the optimum h and k for minimising delay, the \npartial derivatives of (5) with respect to k and h are \nequated to zero, resulting in (6)  and (7). Case (a) is of spe- \ncial significance because it represents the worst-case \ncross-talk of all the cases considered (the delay for this \npattern is only 1 or 2% less than the worst-case delay \ncaused by non-simultaneously switching aggressors). A \nrepeater insertion strategy that is optimised for a certain \npattern will not be optimal for other patterns, and of inter- \nest is exactly how it performs. Given in Fig. 2 are the \ndelays for different patterns, when the repeater insertion \nstrategies are optimised for cases (a) through (9, excepting \n(e). The net considered here has a resistance of lk  R and \ncapacitances of lOOf F to ground and to each of the adja- \ncent wires. R, and Cdw are set to 7.7k R and 9.5f F to \nmatch the 0.35 mm technology we use for testing. The leg- \nend termed single refers to the conventional optimisation \nstrategy that would be carried out by treating the total \ncapacitance as a single lumped component. Obviously for \neach switching pattern, the delay is minimum for the h and \nk that is optimised for that particular pattern. What is inter- \nesting here is that pattern (a) always causes the maximum \ndelay (hence defining the maximum bit frequency over the \nline as the worst-case has to be expected in general), and \nthis can be reduced by a repeater insertion strategy that is \nmore aggressive than would be predicted as the optimal by \na conventional analysis. By inspecting the optimal k and h \nvalues for the different switching patterns and considering \nthe delay constraints and the available resources for \nrepeater insertion, the k and h values that best suits ones \napplication can be selected. \nTo check the accuracy of our models we ran simulations \nfor transistor models in an actual 0.35 pm technology \nI - 99 \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on May 07,2010 at 15:20:56 UTC from IEEE Xplore.  Restrictions apply. \nwhere R,, and C, take the values given above. Shown \nin Fig. 3 are the results of simulations for a range of h situ- \nated either side of the value predicted by (6), where the k \nand h values associated with each graph refer to k,,,, and \nh,,,. It can be seen that the fidelity of (6) and (7) are quite \ngood. \nL , ( h - I )  = 0 h 2 l  L,20 (1 1) \nL,20 (12) L 3 ( k -  1) = 0 k 2  1 \nCc=lpF,\u2019k5,6=86 \na: Exam les with two and b: Examples with four and \nthree il epeaters five Repeaters \nFigure 3: Effect of Repeater Sizing on Delay \n4. AREA AND POWER \n.IO( Minimising power \nconsumption is \nequivalent to mini- \nmising area, or the \nproduct hk. When \nthe delay is equal- \nised over each line \nsegment, the prob- \n,I lem of repeater opti- \nmisation can take \ntwo forms. Either the \nmaximum accepta- \nble delay for the net \nis specified, and the \nigure 4:Delay constraint matching \nfor Net in row 1, Tab. 4. \nobjective is to minimise hk subject to the constraint t I t,,, \nor the maximum acceptable area is specified and the \nobjective is to minimise the delay subject to the constraint \nA I A,,. Consider Fig. 4 which shows the variation of \ndelay with h and k where the line parasitics are defined by \nR=800R and C,=Cc=550fF. The plane shows a delay con- \nstraint of 1.3n seconds for that net, and any of the k and h \ncombinations which lie below this and on the curved sur- \nface showing the delay is acceptable to meet the delay \nconstraint. Also shown is an appropriately scaled plot of \nhk. Because hk is quasi concave in the quadrant of positive \nh and k, it is not possible to find an analytical solution to \nthe first optimisation problem, which has to be solved \nnumerically. The solution to the second optimisation prob- \nlem is obtained by solving the Kuhn Tucker conditions [4] \ngiven in (8) through (12) where L, refer to the Lagrangian \nconstants. The coefficients corresponding to case (a) have \nbeen used as the worst-case needs to be considered. \n5. CONCLUSIONS \nIn this paper we have investigated the issue of dynamic \ndelay in buffered lines and shown that distributing the \ncapacitance into two components as we have proposed \nallows the effect of switching aggressors in a buffered net \nto be quantified in simple equations. The optimal k and h \nvalues that minimise delay for any given switching pattern \nwere then derived. All these expressions give the designer \nmore information about when and how to insert repeaters \nin long nets and are proposed as being suitable for static \ntiming tools. The closed form nature of the equations \nallow iterations to be made much more cheaply than with \na dynamic simulator. For all pattems, when the coupling \ncapacitance term C, is set to zero (i.e. total capacitance is \nlumped into the term Cs), the equations describing h and k \nsimplify to the Bakoglu equations [3]. Hence we have pro- \nposed a simple yet accurate way of distributing the capaci- \ntance and including the effect of switching aggressors. \n6. REFERENCES \n[ 11 D. Sylvester and K. Keutzer, \u201cGetting to the bottom of \ndeep submicron 11: a global wiring paradigm\u201d, in Proc. \n[2] J. Rubinstein, P. Penfield- and M. Horowitz \u201cSignal \ndelay in RC tree networks\u201d, IEEE Trans. Computer \nAided Design, vol CAD-2, no. 3, pp. 202-21 1, July \n1983. \n[3] H. Bakoglu, Circuits, Interconnections, and Packaging \nfor VLSI, Reading, MA: Addison Wesley 1990 \n[4] S. Dar and M. Franklin, \u201cOptimum buffer circuits for \ndriving long uniform lines\u201d, IEEE J. Solid State Cir- \ncuits, vol. 26, pp. 32-40, Jan. 1991. \n[ 5 ]  Y. Ismail and E. Friedman, \u201cEffects of inductance on \nthe propagation delay and repeater insertion in VLSI \ncircuits\u201d, IEEE Trans. VLSI Systems, April 2000, vol. \nISPD, 1999, pp. 193-200. \n8, pp. 195-206. \nI -  100 \nAuthorized licensed use limited to: Lancaster University Library. Downloaded on May 07,2010 at 15:20:56 UTC from IEEE Xplore.  Restrictions apply. \n"}