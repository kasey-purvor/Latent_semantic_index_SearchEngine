{"doi":"10.1109\/IPOM.2004.1547589","coreId":"102576","oai":"oai:epubs.surrey.ac.uk:2061","identifiers":["oai:epubs.surrey.ac.uk:2061","10.1109\/IPOM.2004.1547589"],"title":"An incentive-based quality of service aware algorithm for offline inter-AS traffic engineering","authors":["Ho, KH","Pavlou, G","Howarth, MP","Wang, N"],"enrichments":{"references":[],"documentType":{"type":1}},"contributors":[],"datePublished":"2004","abstract":null,"downloadUrl":"","fullTextIdentifier":null,"pdfHashValue":null,"publisher":null,"rawRecordXml":"<record><header><identifier>\n    \n    \n      oai:epubs.surrey.ac.uk:2061<\/identifier><datestamp>\n      2017-10-31T14:04:07Z<\/datestamp><setSpec>\n      74797065733D636F6E666572656E63655F6974656D<\/setSpec><setSpec>\n      6469766973696F6E733D656E67616E64706879736963616C736369656E636573:656C656374726F6E6963656E67696E656572696E67:63637372<\/setSpec><\/header><metadata><oai_dc:dc xmlns:oai_dc=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/\" xmlns:dc=\"http:\/\/purl.org\/dc\/elements\/1.1\/\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:schemaLocation=\"http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc\/ http:\/\/www.openarchives.org\/OAI\/2.0\/oai_dc.xsd\" ><dc:relation>\n    \n      \n        http:\/\/epubs.surrey.ac.uk\/2061\/<\/dc:relation><dc:title>\n        An incentive-based quality of service aware algorithm for offline inter-AS traffic engineering<\/dc:title><dc:creator>\n        Ho, KH<\/dc:creator><dc:creator>\n        Pavlou, G<\/dc:creator><dc:creator>\n        Howarth, MP<\/dc:creator><dc:creator>\n        Wang, N<\/dc:creator><dc:date>\n        2004<\/dc:date><dc:type>\n        Conference or Workshop Item<\/dc:type><dc:type>\n        PeerReviewed<\/dc:type><dc:format>\n        text<\/dc:format><dc:language>\n        en<\/dc:language><dc:identifier>\n        http:\/\/epubs.surrey.ac.uk\/2061\/1\/SRF002181.pdf<\/dc:identifier><dc:identifier>\n          Ho, KH, Pavlou, G, Howarth, MP and Wang, N  (2004) An incentive-based quality of service aware algorithm for offline inter-AS traffic engineering  In: IEEE International Workshop on IP Operations and Management, 2004-10-11 - 2004-10-13, Beijing, PEOPLES R CHINA.     <\/dc:identifier><dc:relation>\n        http:\/\/ieeexplore.ieee.org\/xpls\/abs_all.jsp?arnumber=1547589<\/dc:relation><dc:relation>\n        10.1109\/IPOM.2004.1547589<\/dc:relation><\/oai_dc:dc><\/metadata><\/record>","journals":null,"language":{"code":"en","id":9,"name":"English"},"relations":["http:\/\/epubs.surrey.ac.uk\/2061\/","http:\/\/ieeexplore.ieee.org\/xpls\/abs_all.jsp?arnumber=1547589","10.1109\/IPOM.2004.1547589"],"year":2004,"topics":[],"subject":["Conference or Workshop Item","PeerReviewed"],"fullText":"An Incentive-based Quality of Service Aware\nAlgorithm for Offline Inter-AS Traffic Engineering\nKin-Hon Ho, George Pavlou, Michael Howarth and Ning Wang\nCentre for Communication Systems Research, University of Surrey, UK\nEmail: {K.Ho, G. Pavlou, M. Howarth, N. Wang})@eim.surrey.ac.uk\nAbstract-This paper focuses on incentive-based offline inter-AS\ntraffic engineering with end-to-end Quality of Service (QoS)\nguarantees. We investigate a key inter-AS traffic engineering\nproblem, the \"egress router selection problem\". The objective is\nto select an egress router for each expected aggregate inter-AS\ntraffic flow so that the required end-to-end QoS is provided and\nthe capacity constraint of each inter-AS link is met while\nminimizing the total inter-AS transit cost. The problem is NP-\nhard and we propose a genetic algorithm to solve it. Simulation\nresults show that our proposed approach performs better than\nconventional greedy-based approaches.\nKeywords - Offline Inter-AS Traffic Engineering, End-to-End\nQuality ofService.\nI. INTRODUCTION\nThe goal of Traffic Engineering (TE) is to optimize the\nperformance of operational networks [1]; this is beneficial for\nboth optimizing resource utilization and for supporting Quality\nof Service (QoS) guarantees. Traffic engineering can be\napplied to an Autonomous System (AS) in two levels in a\nhierarchical fashion: intra-AS and inter-AS TE. Traffic\nengineering has to be aware of QoS information in both levels\nin order to find routes that satisfy end-to-end QoS requirements.\nIntra-AS TE has attracted a lot of attention in recent years and\nmany relevant solutions have been proposed. However, little\nwork has been done to date on inter-AS TE. In this paper, we\ndiscuss the motivation, formulate the problem and propose a\nsolution for inter-AS TE.\nInter-AS TE [2,3] focuses on the optimization with respect\nto traffic- and resource-oriented objectives [4] of inter-AS\ntraffic exiting or entering an AS. We call these outbound and\ninbound inter-AS TE respectively. Since each AS is\nadministratively independent and has no means to control other\nASes, inter-AS TE may only be performed locally unless there\nis some cooperation or agreements between ASes.\nIn recent years, inter-AS TE had not drawn enough\nattention due to the absence of business incentives, lack of\navailable data and immaturity of traffic engineering tools [5].\nMore recently, Internet Service Providers (ISPs) that operate\nASes have started to acknowledge that the edges of their\nnetworks where they connect to adjacent ISPs ASes are the\nsource of their greatest cost [5]. Three factors constitute this\nedge cost: (1) resources on inter-AS links that connect to\nadjacent ASes are the key bottleneck in the Internet [6].\nManaging these resources so as to avoid overloading is clearly\ncritical both for adequate end-to-end best-effort services and\nfor providing QoS guarantees. (2) A charge has to be paid to\nadjacent ASes for purchasing transit services. This gives ISPs\nan economic incentive to carefully select adjacent ASes for\nrouting their traffic in order to maximize their profit by\nminimizing the charge paid for transit services. We call this\ncharge the \"inter-AS transit cost\". (3) QoS-unaware inter-AS\nroute selection prevents ISPsfrom generating more revenue by\nsupporting end-to-end QoS guarantees for their customers.\nEnabling and supporting the provision of QoS guarantees\nbetween ASes becomes an indispensable step to make inter-AS\nrouting aware of QoS.\nConsidering the above factors, we believe that ISPs have an\nincentive to use traffic engineering techniques to optimize their\nedge costs by tactically controlling the traffic exiting the\nnetwork both for minimizing their inter-AS transit cost and\nproviding end-to-end QoS guarantees to their customers. These\nincentives drive outbound inter-AS TE.\nEffective inter-AS TE requires both internal and external\ninformation i.e. information known by the ASes themselves\nand information obtained from adjacent ASes respectively. The\nrequired internal information is inter-AS link capacity, which\nrepresents a physical connectivity constraint and addresses\nedge cost factor (1) above. On the other hand, edge cost factors\n(2) and (3) can only be satisfied with external information;\nthese are charging incurred by adjacent ASes and QoS\ninformation available to remote destinations. Charging\ninformation requires inter-AS TE to implement the business\nobjective of minimizing the total inter-AS transit cost while\nQoS information enables QoS-aware inter-AS route selection\nfor providing end-to-end QoS guarantees to customers. Since\nthe Internet is large in scale and complex, a scalable QoS\nmanagement model is needed to simplify the management of\nexternal information flows between ASes. We will describe the\nmanagement model that underlies our work in the later section\nof this paper.\nIn this paper, we focus on incentive-based offline outbound\ninter-AS TE to optimize the edge cost of an AS. The outbound\ninter-AS TE problem can be translated to a problem of\ndirecting inter-AS traffic to the 'best' egress routers within an\nAS; we call this the \"egress router selection\" problem. As the\negress routers connect adjacent ASes with inter-AS links, the\negress router selection problem can also be viewed as the\nproblem of selecting adjacent ASes for routing inter-AS traffic.\nThrough the selected egress routers, traffic is forwarded to the\n34\nThis work is supported by the European Union IST MESCAL project\n0-7803-8836-4\/04\/$20.00 \u00a92004 IEEE.\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \ndesignated adjacent ASes over the corresponding inter-AS\nlinks, which in turn, forward the traffic to their adjacent ASes\nand so on, until the destination is reached. The egress router\nselection problem arises when an AS has multiple connections\nthrough different egress routers to adjacent ASes, so that a\ndestination prefix is reachable through multiple egress routers.\nSelecting different egress routers can yield diverse effects on\nthe inter-AS link utilization and the inter-AS transit cost\nbecause different charges and QoS are offered by different\nadjacent ASes. Addressing the egress router selection issue is\nimportant because appropriate selection benefits ASes by\nsignificantly improving their edge costs. Yet Inter-AS traffic\nengineering is today commonly applied in a trial-and-error only\nfashion [1].\nThe key objective behind our work is to migrate from trial-\nand-error towards a systematic approach to solve the egress\nrouter selection problem. Our goal can be summarized as:\nWithin an AS, select an egress router for each expected\naggregate inter-AS trafficflow so that the required end-to-end\nQoS is provided and the capacity constraint of each inter-AS\nlink is met while minimizing the total inter-AS transit cost.\nThe algorithm we present here to solve this problem\nfocuses only on bandwidth as the QoS metric; but it should be\npossible to extend it to accommodate other QoS metrics in a\nsimilar fashion. As such, QoS in the offered route refers to the\nmaximum available bandwidth to the destination prefix and is\nassociated with a charge per unit bandwidth. In our previous\nwork [7,8], we solved the bandwidth guaranteed egress router\nselection problem with the objective of optimizing the AS's\ninternal resource utilization. Since enterprises wish to satisfy\nbusiness objectives such as minimizing the total cost of their\ninfrastructure [9], we now extend our previous work by\ninvestigating the optimization of resources purchased from\nadjacent ASes so as to provision sufficient end-to-end\nbandwidth guarantees at the lowest cost. To the best of our\nknowledge, this is the first attempt at cost optimization toward\nbusiness objectives through inter-AS traffic engineering while\nalso providing end-to-end QoS guarantees for inter-AS traffic.\nThe rest of the paper is organized as follows. In section II\nwe describe a scalable model to manage end-to-end QoS. In\nsection III we present the problem formulation and algorithms\nfor optimal egress router selection. In section IV we present the\nresults of our analysis of the egress router selection algorithms.\nFinally, we conclude the paper in section V.\nII. INTERNET QOS MODEL\nA key assumption in this paper is that QoS will be deployed\nglobally on the Internet. Our work is based on the MESCAL\nInternet QoS model [10] as the QoS provisioning framework.\nThe MESCAL Internet QoS model is based on two\nessential concepts: (1) the exchange of QoS and charging\ninformation between ASes, and (2) the establishment of SLAs\nbetween ASes to contract the negotiated end-to-end QoS\nguarantees.\nAn AS will need to know the details of QoS guarantees\noffered by other ASes downstream (i.e. towards a given\ndestination or set of destinations), and then purchases sufficient\nQoS guarantees that the inter-AS traffic can be provided with\nthe desired QoS. In addition, a usage-based charge (per unit of\nQoS guarantee) is associated with the offered QoS to reflect the\ncost of provision. Usage-based charging scheme is appropriate\nfor pricing guaranteed services [11] and is incentive-\ncompatible since it stimulates AS to provision end-to-end QoS\nefficiently by purchasing QoS guarantees from other ASes at\nthe lowest cost.\nIn addition to purchasing QoS guarantees from adjacent\nASes, an AS can in turn offer guaranteed QoS levels to its own\ncustomer (upstream) ASes, including both destinations within\nits own AS and destinations to which the QoS is guaranteed by\nadjacent ASes. Such an offer specifies a remote destination(s),\na set of QoS parameters and a charge. Thus, for traffic whose\ndestination is a downstream AS, the offer relies on the local\nQoS capabilities of the offering AS and also the SLAs\nestablished with its adjacent provider ASes. This SLA is called\noutbound provider SLA. These outbound provider SLAs, in\nturn, are based on the downstream AS' local QoS capabilities\nand any outbound provider SLAs it has established with its\nadjacent provider ASes, and so on in a cascaded manner. In\nthis cascaded model, an end-to-end SLA chain can be built\nbetween any two ASes by concatenating the SLAs between\ncorresponding ASes. Thus, at any point the offered QoS\nreflects guarantees from the offering AS towards a specified\nremote destination, potentially crossing multiple ASes.\no-QoS2 o-QoSi\naAS33_AS2 A~ ~~~S1 I\nFigure 1. MESCAL cascaded model\nFigure 1 shows an example of the MESCAL cascaded\nmodel. Let o-QoSI be the QoS associated with a charge\noffered by ASI towards the destination 'dest'. AS2 receives an\noffer of this o-QoSl information and let's assume it decides to\npurchase the offered QoS. AS2 then establishes an SLA with\nAS1 (i.e. SLA2-1) to contract the detail ofpurchased QoS with\nthe associated charge. Now AS2 has some QoS guarantees\nprovided by AS1 towards the destination. It can extend these\nQoS guarantees by concatenating its own QoS capability with\nSLA2-1, and then offer the extended QoS (i.e. o-QoS2) to AS3.\nAs an example of QoS concatenation, if the QoS metric is\ndelay, the concatenation operation is addition. Now o-QoS2\nrepresents the QoS guarantees and a charge from AS2 to the\ndestination 'dest'. AS3 receives o-QoS2 from AS2 and it in\nturn repeats the decision process, possibly purchasing the\noffered QoS and establishing SLA3-2. In summary, once offers\nfrom other adjacent ASes are agreed as SLAs, an ISP may\nbuild new extended services upon existing ones.\nAn alternative model for end-to-end QoS provisioning is a\nglobal centralized broker. The cascaded model, in contrast: (1)\nmakes possible to build scalable end-to-end QoS guarantees\nbetween any two ASes while only maintaining SLAs with\nadjacent ASes; (2) has backward compatibility with BGP,\nmaking inter-AS QoS deployment possible through extensions\nto BGP; and (3) retains privacy for all ASes regarding the\ndetails oftheir interactions.\n35\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \nFurther details of the MESCAL Internet QoS model can be\nfound in [10]. Since the end-to-end QoS is known by outbound\nprovider SLAs, inter-AS traffic can be better controlled and\ntuned to enforce the QoS guarantees. This can be resolved by\nthe egress router selection.\nIII. INCENTIVE-BASED EGRESS ROUTER SELECTION\n&\/} | t (Pref\n* (Prefix.QoS)\nfix.QoS,Charge)\nFigure 2. Elements of a typical AS\nFigure 2 shows a typical AS with all the elements required\nfor the egress router selection. In an AS, each border router can\nbe an ingress and\/or egress router with inter-AS link(s) that\nconnect to adjacent ASes. Inter-AS links can be ingress or\negress links where inter-AS traffic is received from or passed\nto adjacent ASes respectively. Since this paper focuses on\noutbound inter-AS TE, the term \"inter-AS link\" in the rest of\nthis paper only refers to egress link.\nEach border router on an egress link receives a set of\noffered routes to remote destination prefixes. Each offered\nroute consists of the tuple (prefix, QoS, charge) as described in\nour cascaded QoS management model. We assume that this AS\nhas considered the best offered route towards each possible\ndestination prefix at each border router if there are multiple\nroute offerings, which may be determined by business policy.\nThus, selecting an egress router implies that the corresponding\nattached egress link and the offered route are selected.\nIndividual Inter-AS traffic flows are aggregated at each\nborder router (i.e. ingress router) according to destination\nprefix. Each aggregated inter-AS traffic flow is associated with\na bandwidth demand which is the aggregated bandwidth\ndemand over all the individual inter-AS traffic flows destined\nto the same destination prefix at the ingress router. The\naggregated Inter-AS traffic may be measured, estimated or\nproduced from SLAs and suitable extrapolation.\nIn the case where a destination prefix may be reached\nthrough the offered routes at multiple border routers (i.e. egress\nrouters) over the corresponding associated inter-AS links, an\nopportunity arises to select the best egress router while\noptimizing the edge cost of the AS. Note that some types of\nASes, such as tier 2 and 3, may have peering and transit\nconnections to adjacent ASes towards certain destination\nprefixes. If traffic is directed to a peering connection, no charge\nis incurred (i.e. the charge equals to zero and the QoS\nrepresents the amount of local customer traffic to be\nexchanged). In contrast, if traffic is directed to a transit\nconnection, charges are paid to the adjacent ASes. We define\nthe total inter-AS transit cost to be the total charge an AS pays\nTABLE I. NOTATION USED IN THIS PAPER\nNotation Description\nK A set of destination prefixes\nI A set of ingress routers\nJ A set of egress routers\nt(i,k) The bandwidth demand of the aggregated inter-AS\ntraffic flow at ingress router iEI destined to destination\nprefix kEK\nOut(k) A set of egress routers that can reach destination prefix\nk\nNEX2j A set of next hop addresses (addresses of border\nrouters in downstream adjacent ASes) that connects to\negress routerjeJ\nfjk],n) True (1) \/ False (0); whether destination prefix k is\nrouted through the inter-AS link connects between\negress routerj and next hop address n eNext,\nj,n The capacity of the inter-AS link that connects\nCinter between egress routerj and next-hop address n\np(kj) The maximum available bandwidth of the offered\nroute towards destination prefix k at egress routerj\nChg(k,j) Per unit bandwidth charge ofp(kj)\nX True (1) \/ False (0); whether the traffic flow t(i,k) has\nXt(i,k) been assigned to the egress routerj\nfor purchasing transit services. The information used to make\negress router selection decision is the offered route tuple\n(prefix, QoS, charge) and the inter-AS link capacity.\nEgress router selection can be realized by manipulating\nBGP attributes such as local preference, selective\nadvertisement or policy-based routing. We also foresee that the\nsolution can be realized by inter-AS MPLS [12]. But these\napproaches are outside the scope of this paper. as here we are\nonly concerned with off-line inter-AS TE based on expected\naggregate traffic demand, without focusing on enforcement of\nthe egress router selection.\nA. Problem Formulation\nWe formulate the egress router selection problem as an\noptimization problem. In table I, we summarize the notation\nused in the rest of this paper. The optimization objective of the\negress router selection is to maximize the AS's profit by\nminimizing the total inter-AS transit cost\nMinimizeEE E x i Chg(k,j) . t(i,k)\nieI krmK jeOut(k)\nsubject to:\nE ,(,r t(i,k) - fk(j,n) < Cinte\niEI keK\nn eNEXTj\n(1)\nV(j,n) where ieJ and\n(2)\nX,j(i,k) * t(i,k) < p(k,j) IV(k, j) where k E K, j E J\nXm(i,k) E {0,1}\nje Xt(i,k) = 1 V (i, k) where i E I, k EK\n(3)\n(4)\n(5)\n36\nB Border routerWI-....W-\n_-.- Inter-AS link\n_ -> Offered route\n.a...... Inter-AS traffic\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \nConstraint (2) enforces the inter-AS link capacity constraint.\nThis constraint not only avoids traffic exceeding the inter-AS\nlink capacity but also contributes to balance the load over all\nthe inter-AS links by specifying a desired link capacity.\nConstraint (3) enforces the bandwidth constraint for each\noffered route. Note that the bottleneck of end-to-end QoS\nprovision is at the inter-AS level rather than the intra-AS level\nbecause there is likely to be sufficient local bandwidth to\naccommodate the traffic through over-provisioning within the\nAS. Therefore, constraint (3) ensures that end-to-end\nbandwidth guarantees can be provided to inter-AS traffic.\nConstraint (4) ensures the discrete variables assume binary\nvalues; constraint (5) ensures that only one egress router is\nselected for each traffic flow and inter-AS multi-path routing is\nnot considered in this paper.\nThe NP-hardness of the egress router selection can be\nproved by reducing it to a well-known NP-hard problem - the\nMulti-Resource Generalized Assignment Problem (MRGAP)\n[13]. Due to the limited space available, we do not show our\nproof in this paper. Since the egress router selection is NP-hard,\nwe propose a heuristic approach to solve it.\nB. Genetic Algorithms\nWe purpose a genetic algorithm to solve the egress router\nselection problem. The steps involved in our GA for solving\nthe egress router selection problem are as follows:\nStep 1. Create a feasibility mapping table which maps all\nthe feasible egress routers to each inter-AS traffic flow t(i,k).\nAn egress router j is feasible for traffic flow t(i,k) if all the\nfollowing constraints are satisfied:\n* EOut(k) (6)\n* t(i,k).iCnter where n is the next-hop address for\nrouting destination prefix k at egress routerj (7)\n* t(i,k) < p(k, j) (8)\nConstraint (6) ensures that the egress router acknowledges an\noffered route to the destination prefix of the traffic flow.\nConstraints (7) and (8) ensure that the bandwidth demand of\nthe traffic flow does not exceed the capacity of the inter-AS\nlink and the bandwidth of the offered route that are selected to\nroute the traffic respectively; otherwise, the tratfic flow may\nnot receive the desired end-to-end bandwidth guarantees.\nTraffic\nflow\nEgress\nRouter\nFigure 3. Representation of an individual's chromsome\nStep 2. Generate an initial population of C randomly\nconstructed chromosomes. Figure 3 shows a representation of\nan individual chromosome which consists ofg genes where g is\nthe number of inter-AS traffic flows to be considered and each\ngene represents a traffic flow and egress router assignment.\nThe identifier given to each traffic flow represents each\naggregated inter-AS traffic flow t(i,k). Let St(i,k),C represent the\negress router assigned to traffic flow t(i,k) in chromosome ceC.\nEach of the initial chromosomes is generated by randomly\nassigning a feasible egress router to each traffic flow based on\nthe feasibility mapping table. Note that an initial chromosome\nmay not be a feasible solution since the capacity constraint (2)\nor (3) could be violated.\nStep 3. Decode each chromosome to obtain its fitness value.\nThe fitness of chromosome c is equal to the total inter-AS\ntransit cost, given by\n-E Chg(k,St(ik),,C) t(i,k)\nt(i,k) (9)\nThe negative sign reflects the fact that a lower charge is a\nbetter solution. If the chromosome contains an infeasible\nsolution, a common approach is to penalize its fitness for the\ninfeasibility. Instead of doing this penalization, we adopt the\napproach in [14] and associate an unfitness value for each\nchromosome. The unfitness value of chromosome c is the\ndegree of infeasibility of the chromosome, which equals to the\namount of violated capacity over all the inter-AS links and the\noffered bandwidth,\njEJ nENextj iEI,kzIK,St(i,k),c=j\nt(i,k) * fk(j,n) +\nE Emax{0, E t(i,) - p(k,;)}\nkEK jeJ ieI,St(i,k)c=j (10)\nWith the division of fitness and unfitness, chromosomes are\nevaluated in a two-dimensional plane, so the selection and\nreplacement can direct the search toward feasible solutions.\nStep 4. Select two parent chromosomes for reproduction. We\nuse the pairwise tournament selection method. In a pairwise\ntournament selection, two individual chromosomes are chosen\nrandomly from the population and the one that is fitter (i.e.\nhighest fitness value) is selected for a reproductive trial. Two\npairwise tournament selections are held, each of which\nproduces one parent chromosome, in order to produce a child\nchromosome.\nStep 5. Generate two child chromosomes by applying a simple\none-point crossover operator on the two selected parents. The\ncrossover point Pcrossover is randomly selected. The first child\nchromosome consists of the first Pcrossover genes from the first\nparent and the remaining (n - Pcrossover) genes from the second\nparent. The second child chromosome takes the parent genes\nthat have not been considered by the first child chromosome.\nStep 6. Perforn probabilistic mutation on each child\nchromosome. The mutation simply exchanges elements in two\nselected genes (i.e. exchanging assigned egress routers between\ntwo randomly selected traffic flow) without violating the\nconstraints (6) - (8).\nStep 7. The child chromosomes may be further improved by\napplying the following two problem-specific heuristic\noperators to improve their fitness and unfitness:\n37\nn\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \na) For each inter-AS traffic flow that has been assigned to an\ninfeasible egress router with which either the capacity\nconstraint (2) or (3) is violated, find a feasible egress router\nthat incurs the lowest inter-AS transit cost. Denote Diff costt(i,k)\nthe difference between the original cost and the new cost after\nthe traffic flow has been assigned to the feasible egress router.\nAmong those inter-AS traffic flows, select the one with the\nlowest Diff costt(ik) and assign it to the corresponding selected\nfeasible egress router. This operator is repeated at mostH times\nwhere H is a parameter that optimizes the algorithm's\nperformance.\nb) For each inter-AS traffic flow, find a feasible egress router\nthat produces the lowest inter-AS transit cost. If such egress\nrouter can be found, then reassign the traffic flow to it.\nThe heuristic operator (a) aims to reduce the unfitness value of\nthe child chromosome by reassigning traffic flows from\ninfeasible to feasible egress routers while keeping the total\ninter-AS transit cost as low as possible. The heuristic operator\n(b) attempts to improve the fitness of the child chromosome by\nreassigning traffic flows to egress routers with the lowest cost.\nStep 8. Replace two chromosomes in the population by the\nimproved child chromosomes. In our replacement scheme,\nchromosomes with the highest unfitness are always replaced. If\nthere are no unfit solutions, the lowest fitness ones are replaced.\nStep 9. Repeat step 4-8 until NCd child chromosomes have been\nproduced and placed in the population.\nStep 10. Check if the termination criterion is met. The\ntermination criterion is that either the average and the best\nfitness over all the chromosomes in two generations become\nthe same or once the selected number of iteration, Nit, has been\nreached to avoid long convergence on the algorithm. Repeat\nstep 4-9 until the termination criterion is met.\nC. Alternative Algorithms\nSince none of the published egress router selection\nalgorithms address the objectives we wish to target, we\ncompare the GA with a greedy heuristic that one imagines\nmight be used by an ISP, which we refer to as Greedy-cost.\nThe Greedy-cost sorts all the inter-AS traffic flows in\ndescending order based on their bandwidth demand and selects\none at a time in that order. Among all the feasible egress\nrouters that have sufficient resources to accommodate the\ntraffic, select the one which incurs the least inter-AS transit\ncost. The unallocated resource on the corresponding selected\ninter-AS link and the offered bandwidth are then updated. This\nalgorithm repeats for the next traffic flow until all traffic flows\nhave been considered.\nIn addition to the Greedy-cost, the Random egress router\nselection is included as a baseline comparison. The Random\negress router selection is similar to the Greedy-cost except that\nthe selection is done at random. It may be viewed as the\nsolution obtained from the trial-and-error inter-AS TE without\nusing a systematic approach.\nIV. PERFORMANCE EVALUATION\nA. Simluation Configuration\nWe evaluate the three proposed egress router selection\nalgorithms through simulation. The simulation software is\nwritten in Java. The simulation is based on 100-node\ntopologies. The number of border routers is set to 30% of the\ntotal number ofnetwork nodes. According to the rank exponent\nof power-law properties [15], the number of inter-AS links of\nan N-node AS can be estimated by 2.5*NOS*(N02_1) [16] when\nthe rank exponent equals to -0.81. Note that inter-AS link can\nbe ingress or egress links, and we only consider egress links in\nthis paper. We assume that half of the inter-AS links are egress\nlinks and they are randomly distributed among all the border\nrouters. Without loss of generality, we assume that each border\nrouter is attached to a maximum of three egress links and the\ncapacity of each egress link is randomly generated between\n150 and 300.\nFeamster [3] discovered that whilst a typical default-free\nrouting table may contain routes for more than 100,000\nprefixes, only a small fraction of prefixes are responsible for a\nlarge fraction of the traffic. Based on his finding, we consider\n100 popular destination prefixes which are randomly\ndistributed over all the border routers. The number of\ndestination prefixes that each border router has been offered is\nrandomly generated between 30 and 60, and the destination\nprefixes are randomly distributed among the egress links. The\noffered bandwidth of each destination prefix at each border\nrouter is randomly generated between 30 and 60, while the\nassociated charge varies according to the simulation scenarios.\nFor each aggregated inter-AS traffic flow, the destination\nprefix and the ingress router are randomly generated. The\nbandwidth demand of each aggregated inter-AS traffic flow is\nrandomly generated between 1 and 40.\nFor the GA parameters, we adopt the suggested values from\nprevious GA research to achieve satisfactory effectiveness and\nconvergence rate of the algorithm [17]. The population size is\n200, the value ofH of the heuristic operator (a) is 40 since the\negress router selection problem is highly constrained, NCd = 40,\nthe probability of mutation is 0.01 and Nit = 150.\nB. Simulation Results\nFigure 4 shows the total inter-AS transit cost of the Greedy-\ncost and the GA as a function of number of inter-AS traffic\nflows under a number of scenarios. The legend describes the\nname of the algorithm followed by the percentage of\nestablished peering connections.\nThe simulation consists of two major scenarios. The first\nscenario, namely all transit connections, consists of0% peering\nconnection established between the AS and its adjacent ASes.\nThe charge is randomly generated between 1 and 10 (it could\nnot be zero since all transit connections should have a non-zero\ntransit cost). The figure shows that the GA performs better than\nthe Greedy-cost as the number of inter-AS traffic flows\nincreases. When the number of inter-AS traffic flows is small,\nthe network has plenty of resources to accommodate these\nflows so that the two algorithms produce a similar egress router\n38\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \n**GA,6%\n04- Greedy-cost, 90%\n0\u00a3\n200 250 300 350 400 450 500\nNumber of Inter-AS traffic flows\nFigure 4. Performance evaluation of algorithms\nselection and total inter-AS transit cost. However, as the\nnumber of inter-AS traffic flows increases, network load\nincreases and some resources reach their capacity limitations\nsuch that some traffic flows have been directed to the resources\nwhich incur high inter-AS transit cost. In this case, careful\nselection of egress routers is necessary in order to minimize the\ntotal inter-AS transit cost. This has been achieved by the GA.\nOn the other hand, the second scenario consists not only of\ntransit connections but also some established peering\nconnections. We evaluate three degrees ofpeering: 3, 6 and 9%\nof the total destination prefixes. Since a peering connection is\nfree, the charge for the connection is equal to zero. The\nsimulation data is based on the all transit connections scenario\nexcept that a designated number of destination prefixes are\nrandomly selected as peering connection. Since our purpose is\nto merely evaluate the performance of inter-AS TE algorithms\nwith some free-of-charge resources (i.e. peering), we follow the\nassumption in [18] of ignoring peering\/transit restrictions.\nThe figure shows the anticipated result that the GA always\nperforms better than the Greedy-cost in all the three peering\nscenarios. The increasing improvement as the number of inter-\nAS traffic flows increases can be explained by the reason given\nin the all transit connections scenario. Interestingly, the GA\nachieves greater improvement than the Greedy-cost as the\ndegree of peering increases. This is because the available\nresources in peering connections do not incur any charges so\nthat GA can more efficiently use them in order to further\nminimliize the total inter-AS transit cost.\nTable II shows the increasing improvement (in %) of the GA\nover the Greedy-cost and the Random selection as the total\nnumnber of inter-AS traffic flows increases for the two\nconsidered simulation scenarios. In comparison to the Random\nselection, the performance of the GA is outstanding. This\nshows that a systematic inter-AS TE approach, especially using\nour proposed GA, is certainly important and valuable.\nTABLE II. IMPROVEMENT OF THE GA OVER THE OTHER ALGORITHMS\n(IN %)\nNtumber of inter- 200 250 300 350 400 450 500\nAS trafflc\nover Greedy-tost, 1.6 2.3 2.9 3.8 5.3 6 6.8\nwith O50% pee.ing\nover RPndom 70.6 68.9 67.1 65.5 63.1 61.2 59\nwith 00.0 peeling\nover Greedy-cost. 1 9 37 4 3 5 9 71 8\nwith 3%10 peeling\nover Random 75f9 73,5 7) 70S8 68.3 661 631\nwidt 30\u00b00 peeling\novterGlreedY-cost. 2.5 3.9 47 5.6 7.3 9.8\nwith 6\u00b0% peelinlg\nove- Random 80,2 '83 75 3 702) 67 4\nwfith 60\u00b0o peeling\noverGreedy-cost, 3-2 44 5. 1 1 8 8 105 12\nwitd 90o- peelning\nove-r Rndom 83.5 82.1 80.5 78S 76.4 74.6 71\nwi th 900 peeilng\nV. CONCLUSION\nIn this paper, we present and fonmulate an incentive-based\noffline inter-TE problem, namely egress router selection, with\nend-to-end QoS guarantees. We show the business objectives\nof an AS to perform an optimization on the egress router\nselection. We propose and develop a genetic algorithm to solve\nthe problem, and show the results of an implementation\nembodying the algorithm on simulated network topologies and\ninter-AS traffic for all-transit and transit-peering scenarios. We\nconclude that the problem formulation is sound and our genetic\nalgorithm shows marked improvement over alternatives in the\ntwo scenarios. Both the formulation and the solutions should be\nof great value to some ISPs, as they can get rid of the trial-and-\nerror inter-AS route configurations and adopt our systematic\napproach to provide the required end-to-end QoS and to meet\nthe capacity constraint of each inter-AS link while minimizing\nthe total inter-AS transit cost. As future work, we plan to\nextend the egress point selection to support multiple classes of\nservices.\nREFERENCES\n[1] D. Awduche, A. Chiu, A. Elwalid, I. Widjaja and X. Xiao, \"Overview\nand Principles of Intemet Traffic Engineering,\" RFC 3272, May 2002.\n[2] B. Quoitin, S. Uhlig, C. Pelsser, L. Swinnen and 0. Bonaventure,\n\"Interdomain traffic engineering with BGP,\" IEEE Communication\nMagazine, May 2003.\n[3] N. Feamster, J. Borkenhagen and J. Rexford, \"Guildlines for\nInterdomain Traffic Engineering,\" ACM SIGCOMM Computer\nCommunications Review, October 2003.\n[4] D. Awduche, J. Malcolm, J. Agogbua, M. O'Dell and J. McManus,\n\"Requirement for Traffic Engineering Over MPLS,\" RFC2702,\nSeptember 1999.\n[5] T.E. Monk, \"Inter-domain Traffic Engineering: Principles and Case\nExamples\" , The Internet Society's 12th Annual INET Conference,\nArlington, VA, USA, June 2002.\n[6] Akamai, \"Internet Bottlenecks: the Case for Edge Delivery Services,\"\nTechnical Report, Akamai White Paper, 1999.\n39\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \n[7] K.H. Ho, N. Wang, P. Trimintzios, G. Pavlou and M. Howarth, \"On\nEgress Router Selection for Inter-domain Traffic with Bandwidth\nGuarantees,\" in Proceedings ofIEEE HPSR, Arizona, USA, April 2004.\n[8] K.H. Ho, N. Wang, P. Trimintzios and G. Pavlou, \"Multi-objective\nEgress Router Selection Policies for Inter-domain Traffic with\nBandwidth Guarantees,\" in Proceedings of IFIP Networking 2004,\nAthens, Greece, May 2004.\n[9] Aiber et al, \"Autonomic Self-Optimization According to Business\nObjectives,\" in Proceedings of the International Conference on\nAutonomic Computing (ICAC'04), May 2004.\n[10] MESCAL Deliverable DI. 1. Available at http:\/\/www.mescal.org\n[11] B. Stiller et al, \"Pricing and QoS,\" Quality of Future Internet Services\nCost Action 263 Final Report, M. Smirnov et al (Eds.), Springer LNCS\n2856, 2003, pp. 263-291.\n[12] J.P. Vasseur and A. Ayyangar, \"Inter-area and Inter-AS MPLS Traffic\nEngineering,\" IETF Internet Draft, draft-vasseur-ccamp-inter-area-as-\nte-00.txt, February 2004.\n[13] B. Gavish and H. Pirkul, \"Algorithms for the multi-resource\ngeneralized assignment problem,\" Management Science, vol 32, 1991,\npp. 695-713.\n[14] P.C. Chu and J.E. Beasley, \"A genetic algorithm for the set partition\nproblem,\" Working paper. The Management School, Imperial College,\nLondon, England, 1995.\n[15] M. Faloutsos, P. Faloutsos and C. Faloutsos, \"On Power-Law\nRelationships of the Internet Topology,\" in Proceedings of ACM\nSIGCOMM,'99 Cambridge, MA, USA, 1999.\n[16] M.El-Darieby, D. Petriu and J. Rolia, \"A Hierarchical Distributed\nProtocol for MPLS Path Creation,\" in Proceedings ofIEEE ISCC'02,\nItaly, July 2002.\n[17] X.H. Lin, Y.K. Kwok and V.K.N. Lau, \"A genetic algorithm based\napproach to route selection and capacity flow assignment,\" Computer\nCommunications, Vol. 26, pp. 961-974, 2003.\n[18] J. Feigenbaum, C. Papadimitriou, R. Sami and S. Shenker, \"A BGP-\nbased Mechanism for Lowest-Cost Routing,\" in Proceedings ofthe 21js\nACM Symposium on Principles of Distributed Computing, Monterey,\nCalifornia, July 2002, pp. 173-182.\n40\nAuthorized licensed use limited to: University of Surrey. Downloaded on May 12,2010 at 14:37:46 UTC from IEEE Xplore.  Restrictions apply. \n"}